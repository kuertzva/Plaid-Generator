{"version":3,"sources":["canvas.js","helpers.js","colorSlider.js","colorPanel.js","plusMinus.js","attrSelect.js","basicPanel.js","advancedPanel.js","topPanel.js","objects.js","buttonPanel.js","topBar.js","download.js","bind.js","intro.js","App.js","serviceWorker.js","index.js"],"names":["Canvas","props","side","priorClick","coords","x","y","idx","dir","canvas","document","getElementById","canvasContainer","getComputedStyle","getPropertyValue","ccStyle","ccWidth","parseInt","width","slice","ccHeight","height","this","setSide","updateCanvas","ctx","refs","getContext","panels","i","length","draw","e","target","xOffset","offsetLeft","yOffset","offsetTop","v","pageX","h","pageY","lines","line","axes","grid","orientation","tick","axis","thickness","console","log","handleClick","currentPanel","offset","id","ref","onMouseDown","canvasClick","onMouseUp","canvasUnclick","React","Component","makeHeader","s","header","charAt","toUpperCase","ColorSlider","className","row","aspect","type","min","max","step","value","color","data-aspect","style","onChange","handleColorChange","ColorPanel","bind","bottomClass","colorSource","styler","sliderStyle","hue","key","getStyle","sat","light","opacity","topRow","bottomRow","push","l","a","makeString","qual","right","lin","left","alert","inc","background","PlusMinus","input","createRef","current","getAttribute","oldVar","preventNegative","handleLineChange","onClick","buttonChange","data-change","inputChange","AttrSelect","size","options","map","BasicPanel","regularity","returnColor","AdvancedPanel","spacing","lineWidth","boundary","u","d","r","TopPanel","handleAddLine","switchLine","addHandler","handlers","colorChanger","lineChanger","diff","switchHandler","displayPanel","panel","boundTo","index","bindees","sort","b","attributes","displayAdvanced","colorObj","base","undefined","fillStyle","Path2D","rect","fill","pattern","createGrid","xAxis","yAxis","xStart","yStart","xEnd","yEnd","xGap","yGap","xTick","yTick","drawSolid","lineStart","fillRect","drawRightSlash","iter","startX","startY","endX","endY","strokeStyle","beginPath","moveTo","lineTo","stroke","closePath","drawLeftSlash","drawHorizontalStripes","setBack","Math","floor","drawVerticalStripes","drawChecker","topLeft","breadth","depth","j","drawPatterns","solid","rightSlash","leftSlash","horizontalStripes","verticalStripes","checker","save","drawLines","restore","ButtonPanel","switchPanel","toggleText","displayAdvance","handleRemoveLine","handleCopyLine","handleDisplay","handleDownload","handleBind","TopBar","nav","class","flip","href","Download","togglePreview","downloadImage","changeFormat","changeFilename","state","preview","format","filename","checked","setState","urlInput","image","toDataURL","link","createElement","body","appendChild","download","click","removeChild","newString","lastChar","indexOf","radioButtons","substring","name","bkgd","backgroundImage","Bind","otherLines","count","contents","lineButtons","bound","unbind","radios","getElementsByName","found","Intro","root","App","displayToggle","handleUnbind","downloadToggle","navToggle","bindToggle","rootStyle","intro","backgroundColor","borderChanges","querySelectorAll","lineColor","borderColor","canvasStyle","canvasWidth","canvasHeight","updateStyles","newPanels","splice","newCurrent","attr","currentLine","copyLine","Array","isArray","isNaN","bindor","bindee","bindeeIndex","overlay","introToggle","display","Boolean","window","location","hostname","match","ReactDOM","render","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.8f3fb7ba.chunk.js","sourcesContent":["import React from 'react';\nimport './canvas.css';\n\nexport class Canvas extends React.Component {\n  constructor(props) {\n    super(props);\n    this.side = null;\n    this.priorClick = {\n      coords: {\n        x: 0,\n        y: 0\n      },\n      idx: null,\n      dir: null\n    }\n  }\n\n  componentDidMount() {\n    const canvas = document.getElementById('canvas');\n    const canvasStyle = getComputedStyle(canvas);\n    const borderWidth = canvasStyle.getPropertyValue('border');\n\n    const canvasContainer = document.getElementById('canvas-container');\n    const ccStyle = getComputedStyle(canvasContainer);\n    const ccWidth = parseInt(ccStyle.width.slice(0, -2));\n    const ccHeight = parseInt(ccStyle.height.slice(0, -2));\n\n\n\n    if(ccWidth > ccHeight) {\n      this.side = ccHeight;\n    } else {\n      this.side = ccWidth;\n    }\n\n    this.props.setSide(this.side);\n\n\n    this.updateCanvas();\n  }\n\n  // may be unnecessary\n  componentDidUpdate() {\n    this.updateCanvas();\n  }\n\n\n  updateCanvas() {\n    const ctx = this.refs.canvas.getContext('2d');\n    const panels = this.props.panels;\n\n    for(var i = 0; i < panels.length; i++) {\n      panels[i].draw(ctx, this.side, this.side);\n    }\n\n  }\n\n  canvasClick(e) {\n    const canvas = e.target;\n    const xOffset = canvas.offsetLeft;\n    const yOffset = canvas.offsetTop;\n    const coords = {\n      v: e.pageX - xOffset,\n      h: e.pageY - yOffset\n    }\n    const lines = this.props.panels;\n\n    for (let i  = 1; i < lines.length; i++) {\n      let line = lines[i]\n      let grid = line.grid;\n      let axes;\n      if(line.orientation === 'b'){\n        axes = ['h', 'v'];\n      } else {\n        axes = [line.orientation];\n      }\n      var dir;\n      for (dir of axes) {\n          let axis = line.grid[dir];\n          var tick;\n          for (tick of axis) {\n            if(coords[dir] > tick &&\n            coords[dir] < (tick + line.thickness)) {\n              console.log('click registered');\n              this.props.handleClick(i - this.props.currentPanel);\n              this.priorClick.dir= dir;\n              this.priorClick.coords.x = coords.v;\n              this.priorClick.coords.y = coords.h;\n              this.priorClick.idx = i;\n              return true;\n            }\n          }\n      }\n    }\n    this.props.handleClick(0 - this.props.currentPanel);\n    this.priorClick.dir = null;\n    this.priorClick.coords.x = 0;\n    this.priorClick.coords.y = 0;\n    this.priorClick.idx = null;\n    return false;\n  }\n  canvasUnclick(e) {\n    if(this.priorClick.idx === null) {\n      return;\n    }\n\n    const canvas = e.target;\n    const xOffset = canvas.offsetLeft;\n    const yOffset = canvas.offsetTop;\n    const coords = {\n      x: e.pageX - xOffset,\n      y: e.pageY - yOffset\n    }\n    const lines = this.props.panels;\n    const line = lines[this.priorClick.idx];\n\n    if(this.priorClick.dir === 'h') {\n      let offset = coords.y - this.priorClick.coords.y;\n      line.offset.y += offset;\n    } else if(this.priorClick.dir === 'v') {\n      let offset = coords.x - this.priorClick.coords.x;\n      line.offset.x += offset;\n    }\n\n    this.updateCanvas();\n\n    this.priorClick.dir = null;\n    this.priorClick.coords.x = 0;\n    this.priorClick.coords.y = 0;\n    this.priorClick.idx = null;\n  }\n\n  render() {\n    return (\n      <div id='canvas-container'>\n        <canvas\n          ref='canvas'\n          id='canvas'\n          width={this.side}\n          height={this.side}\n          onMouseDown={(e) => this.canvasClick(e)}\n          onMouseUp={(e) => this.canvasUnclick(e)}\n         />\n      </div>\n    )\n  }\n}\n","export function makeHeader(s) {\n  var header = s.charAt(0).toUpperCase();\n\n  for(let i = 1; i < s.length; i++) {\n    if(s.charAt(i) === s.charAt(i).toUpperCase()){\n      header += ' ';\n    }\n    header += s.charAt(i);\n  }\n\n  return header;\n}\n","import React from 'react';\nimport { makeHeader } from './helpers.js';\nimport './colorSlider.css';\n\nexport function ColorSlider(props) {\n\n  return (\n    <div className={props.row}>\n      <h5>\n        {makeHeader(props.aspect)}\n      </h5>\n      <input\n        type='range'\n        className='color-slider'\n        min={0}\n        max={props.max}\n        step={props.step}\n        value={props.color[props.aspect]}\n        data-aspect = {props.aspect}\n        style={props.style}\n        onChange={(e) => props.handleColorChange(e)}\n      />\n    </div>\n  )\n}\n","import React from 'react';\nimport { ColorSlider } from './colorSlider.js';\nimport './colorPanel.css';\n\nexport class ColorPanel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleColorChange = this.handleColorChange.bind(this);\n  }\n\n  handleColorChange(e) {\n    this.props.handleColorChange(e);\n  }\n\n  render() {\n\n    const color = this.props.colorSource.color;\n    const styler = new sliderStyle(color);\n    var bottomClass;\n    if(this.props.currentPanel < 1){\n      bottomClass = 'bottom2';\n    } else {\n      bottomClass = 'bottom3';\n    }\n\n    const hue = (\n      <ColorSlider\n        key='hue'\n        aspect='hue'\n        color={color}\n        max={360}\n        step={1}\n        row={'top'}\n        handleColorChange={this.handleColorChange}\n        style={styler.getStyle('h')}\n      />\n    )\n    const sat = (\n      <ColorSlider\n        key='sat'\n        aspect='sat'\n        color={color}\n        max={100}\n        step={1}\n        row={bottomClass}\n        handleColorChange={this.handleColorChange}\n        style={styler.getStyle('s')}\n      />);\n    const light = (\n      <ColorSlider\n        key='light'\n        aspect='light'\n        color={color}\n        max={100}\n        step={1}\n        row={bottomClass}\n        handleColorChange={this.handleColorChange}\n        style={styler.getStyle('l')}\n      />);\n    const opacity = (\n      <ColorSlider\n        key='opacity'\n        aspect='opacity'\n        color={color}\n        max={1}\n        step={.1}\n        row={bottomClass}\n        handleColorChange={this.handleColorChange}\n        style={styler.getStyle('a')}\n      />);\n    const topRow = hue\n    const bottomRow = [sat, light]\n    if(this.props.opacity){\n      bottomRow.push(opacity);\n    }\n\n    return (\n      <div id='color-panel'>\n        <div className=\"row\">{topRow}</div>\n        <div className=\"row\">{bottomRow}</div>\n      </div>\n    )\n  }\n}\n\nfunction sliderStyle(color) {\n  this.h = color.hue;\n  this.s = color.sat;\n  this.l = color.light;\n  this.a = color.opacity;\n\n  this.makeString = function(qual) {\n    var lin = \"linear-gradient(to right, \";\n    const stopPoints = ['0%, ','17%, ','33%, ','50%, ','67%, ','83%, ','100%'];\n    var left = 'hsla(';\n    var right;\n    var max;\n\n    if(qual === 'h') {\n      right = ', ' + this.s + '%, '+ this.l + '%, ' + this.a + ')';\n      max = 360;\n    } else if(qual === 's') {\n      left += this.h +', ';\n      right = '%, ' + this.l + '%, ' + this.a + ')';\n      max = 100;\n    } else if(qual === 'l') {\n      left += this.h +', ' + this.s + '%, ';\n      right = '%, ' + this.a + ')';\n      max = 100;\n    } else if(qual === 'a') {\n      left += this.h +', ' + this.s + '%, ' + this.l + '%, ';\n      right =')';\n      max = 1;\n    } else {\n      alert('invalid input');\n      return 1;\n    }\n\n    const inc = max / 6\n    var x = 0;\n    var point;\n    for(point of stopPoints) {\n      let hsla = left + x + right + ' ' + point;\n      lin += hsla;\n      x += inc;\n      if(x === max) {\n        x = 0;\n      }\n    }\n    lin += ')';\n\n    return lin;\n  }\n\n  this.getStyle = function(qual,width) {\n    return {\n      background: this.makeString(qual)\n    };\n  }\n}\n","import React from 'react';\nimport { makeHeader } from './helpers.js';\nimport './plusMinus.css';\n\nexport class PlusMinus extends React.Component {\n  constructor(props) {\n    super(props);\n    this.input = React.createRef()\n  }\n\n\n  buttonChange(e) {\n    const input = this.input.current\n\n    var inc = parseInt(e.target.getAttribute('data-change'));\n    var oldVar = parseInt(input.value);\n    if(this.props.preventNegative) {\n      if(oldVar > 1 || inc > 0) {\n        input.value = inc + oldVar;\n      }\n    } else {\n      input.value = inc + oldVar;\n    }\n\n    const aspect = input.getAttribute('data-aspect');\n    this.props.handleLineChange(parseInt(input.value), aspect);\n  }\n\n  inputChange(e) {\n    const input = e.target;\n    const aspect = input.getAttribute('data-aspect');\n    this.props.handleLineChange(parseInt(input.value), aspect);\n  }\n\n  render() {\n\n    const header = makeHeader(this.props.aspect);\n    const third = this.props.width / 4;\n\n    return (\n      <div className='pm-container'>\n        <h5>\n          {header}\n        </h5>\n        <div className='pm-bundle'>\n          <button\n            onClick={(e) => this.buttonChange(e)}\n            data-change='-1'\n            className='pmButtons border-change'\n          >\n            -\n          </button>\n          <input\n            type='text'\n            onChange={(e) => this.inputChange(e)}\n            value={this.props.value}\n            data-aspect={this.props.aspect}\n            ref={this.input}\n            className='pm-input'\n          />\n          <button\n            onClick={(e) => this.buttonChange(e)}\n            data-change='1'\n            className='pmButtons border-change'\n          >\n            +\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { makeHeader } from './helpers.js';\nimport './attrSelect.css'\n\nexport class AttrSelect extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleLineChange = this.handleLineChange.bind(this);\n  }\n\n  handleLineChange(e) {\n    const target = e.target;\n    const value = target.value;\n    const aspect = target.getAttribute('data-aspect');\n\n\n    this.props.handleLineChange(value, aspect);\n  }\n\n  render() {\n\n    const header = makeHeader(this.props.aspect);\n\n\n    return (\n      <div id='selectContainer'>\n        <h5>\n          {header}\n        </h5>\n        <select\n          size={this.props.options.length}\n          value={this.props.value}\n          onChange={(e) => this.handleLineChange(e)}\n          data-aspect={this.props.aspect}\n          className='pm-select border-change'\n        >\n        {this.props.options.map(value => <option key={value[1]} value={value[1]}>{value[0]}</option>) }\n        </select>\n      </div>\n    )\n  }\n}\n","import React from 'react';\nimport { ColorPanel } from './colorPanel.js';\nimport { PlusMinus } from './plusMinus.js';\nimport { AttrSelect } from './attrSelect.js';\nimport './linePanel.css';\n\nexport class BasicPanel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleColorChange = this.handleColorChange.bind(this);\n    this.handleLineChange = this.handleLineChange.bind(this);\n  }\n\n  handleColorChange(e) {\n    this.props.handleColorChange(e);\n  }\n\n  handleLineChange(v, a) {\n    this.props.handleLineChange(v, a);\n  }\n\n\n  render() {\n    const options = [['horizontal', 'h'],\n                     ['vertical','v'],\n                     ['both', 'b']];\n\n    return (\n      <div>\n        <ColorPanel\n          width={this.props.width}\n          colorSource={this.props.line}\n          currentPanel={this.props.currentPanel}\n          opacity={true}\n          handleColorChange={(e) => this.handleColorChange(e)}\n        />\n        <div id='attribute-panel'>\n          <div className='line-panel'>\n            <PlusMinus\n              aspect='regularity'\n              handleLineChange={(v, a) => this.handleLineChange(v, a)}\n              value={this.props.line.regularity}\n              color={this.props.line.returnColor()}\n              preventNegative={true}\n            />\n            <PlusMinus\n              aspect='thickness'\n              handleLineChange={(v, a) => this.handleLineChange(v, a)}\n              value={this.props.line.thickness}\n              color={this.props.line.returnColor()}\n              preventNegative={true}\n            />\n          </div>\n          <AttrSelect\n            aspect='orientation'\n            handleLineChange={(v, a) => this.handleLineChange(v, a)}\n            value={this.props.line.orientation}\n            options={options}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n","import React from 'react';\nimport { ColorPanel } from './colorPanel.js';\nimport { PlusMinus } from './plusMinus.js';\nimport { AttrSelect } from './attrSelect.js';\nimport './topPanel.css';\n\nexport class AdvancedPanel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleLineChange = this.handleLineChange.bind(this);\n  }\n\n  handleLineChange(v, a) {\n    this.props.handleLineChange(v, a);\n  }\n\n  render() {\n\n    const options = [['solid', 'solid'], ['//', 'rightSlash'],\n                    ['\\\\\\\\', 'leftSlash'],['=', 'horizontalStripes'],\n                    ['||', 'verticalStripes'],['checker', 'checker']];\n\n    return (\n      <div>\n        <div id='attribute-panel'>\n          <div className='line-panel'>\n            <PlusMinus\n              aspect='spacing'\n              handleLineChange={(v, a) => this.handleLineChange(v, a)}\n              value={this.props.line.spacing}\n              color={this.props.line.returnColor()}\n              preventNegative={true}\n            />\n            <PlusMinus\n              aspect='lineWidth'\n              handleLineChange={(v, a) => this.handleLineChange(v, a)}\n              value={this.props.line.lineWidth}\n              color={this.props.line.returnColor()}\n              preventNegative={true}\n            />\n            <PlusMinus\n              aspect='offset-x'\n              handleLineChange={(v, a) => this.handleLineChange(v, a)}\n              value={this.props.line.offset.x}\n              color={this.props.line.returnColor()}\n              preventNegative={false}\n            />\n            <PlusMinus\n              aspect='offset-y'\n              handleLineChange={(v, a) => this.handleLineChange(v, a)}\n              value={this.props.line.offset.y}\n              color={this.props.line.returnColor()}\n              preventNegative={false}\n            />\n            <PlusMinus\n              aspect='upper-boundary'\n              handleLineChange={(v, a) => this.handleLineChange(v, a)}\n              value={this.props.line.boundary.u}\n              color={this.props.line.returnColor()}\n              preventNegative={false}\n            />\n            <PlusMinus\n              aspect='lower-boundary'\n              handleLineChange={(v, a) => this.handleLineChange(v, a)}\n              value={this.props.line.boundary.d}\n              color={this.props.line.returnColor()}\n              preventNegative={false}\n            />\n            <PlusMinus\n              aspect='left-boundary'\n              handleLineChange={(v, a) => this.handleLineChange(v, a)}\n              value={this.props.line.boundary.l}\n              color={this.props.line.returnColor()}\n              preventNegative={false}\n            />\n            <PlusMinus\n              aspect='right-boundary'\n              handleLineChange={(v, a) => this.handleLineChange(v, a)}\n              value={this.props.line.boundary.r}\n              color={this.props.line.returnColor()}\n              preventNegative={false}\n            />\n          </div>\n          <AttrSelect\n            aspect='pattern'\n            handleLineChange={(v, a) => this.handleLineChange(v, a)}\n            value={this.props.line.orientation}\n            options={options}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n","import React from 'react';\nimport { ColorPanel } from './colorPanel.js';\nimport { BasicPanel } from './basicPanel.js';\nimport { AdvancedPanel } from './advancedPanel.js';\nimport './topPanel.css';\n\nexport class TopPanel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleAddLine = this.handleAddLine.bind(this);\n    this.handleColorChange = this.handleColorChange.bind(this);\n    this.switchLine = this.switchLine.bind(this);\n  }\n\n  handleAddLine() {\n    console.log('pass topPanel')\n    const addHandler = this.props.handlers['addLine'];\n\n    addHandler();\n  }\n\n  handleColorChange(e) {\n    const colorChanger = this.props.handlers['colorChange'];\n\n    colorChanger(e);\n  }\n\n  handleLineChange(v, a) {\n    const lineChanger = this.props.handlers['lineChange'];\n\n    lineChanger(v, a);\n  }\n\n  switchLine(diff) {\n    const switchHandler = this.props.handlers['switchLine'];\n\n    switchHandler(diff);\n  }\n\n  render() {\n    var displayPanel;\n    var header\n\n    if(this.props.currentPanel === 0) {\n      header = 'Base';\n      displayPanel = (\n      <div id='top-panel'>\n        <h4\n          style={{color: this.props.panel.returnColor()}}\n        >\n          {header}\n        </h4>\n        <ColorPanel\n          width={this.props.width}\n          currentPanel={this.props.currentPanel}\n          colorSource={this.props.panel}\n          handleColorChange={(e) => this.handleColorChange(e)}\n        />\n      </div>\n      )\n    } else {\n      header = \"Line \" + this.props.currentPanel;\n      if(this.props.panel.boundTo) {\n        header += ' (bound to ' + this.props.panel.boundTo.index + ')'\n      }\n      if(this.props.panel.bindees.length > 0) {\n        header += ' binds '\n        const bindees  = this.props.panel.bindees.sort();\n        var i;\n        for (i = 0; i < bindees.length; i++) {\n          var b = bindees[i].index;\n          if(i === 0) {\n            header += b;\n          } else if(i < (bindees.length - 1)) {\n            header += ', ' + b;\n          } else {\n            header += ' & ' + b;\n          }\n        }\n      }\n\n      var attributes;\n\n      if (this.props.displayAdvanced) {\n        attributes = (\n          <AdvancedPanel\n            handleLineChange={(v, a) => this.handleLineChange(v, a)}\n            line={this.props.panel}\n            currentPanel={this.props.currentPanel}\n          />\n        )\n      } else {\n        attributes = (\n          <BasicPanel\n            handleColorChange={(e) => this.handleColorChange(e)}\n            handleLineChange={(v, a) => this.handleLineChange(v, a)}\n            line={this.props.panel}\n            currentPanel={this.props.currentPanel}\n          />\n        )\n      }\n\n      displayPanel = (\n      <div id='top-panel'>\n        <h4\n          style={{color: this.props.panel.returnColor()}}\n        >\n          {header}\n        </h4>\n        {attributes}\n      </div>\n      )\n    }\n\n    return displayPanel;\n  }\n}\n\n\n/*\n<ColorPanel\n  colorSource={this.props.panel}\n  currentPanel={this.props.currentPanel}\n  opacity={true}\n  handleColorChange={(e) => this.handleColorChange(e)}\n/>\n<AttributePanel\n  width={this.props.width}\n  handleColorChange={(e) => this.handleColorChange(e)}\n  handleLineChange={(v, a) => this.handleLineChange(v, a)}\n  line={this.props.panel}\n  currentPanel={this.props.currentPanel}\n  pattern={this.props.displayPattern}\n/>\n*/\n","// convert value from color element into string readable by fillStyle\n\n// Object constructors\nfunction returnColor(colorObj) {\n\n  return 'hsla(' + colorObj.hue + ', ' + colorObj.sat + '%, ' + colorObj.light + '%, '+ colorObj.opacity + ')';\n}\n\nexport function base() {\n  this.type = 'base';\n  this.index = '0'\n  this.color = {\n    hue: 180,\n    sat: 50,\n    light: 50,\n    opacity: 1.0\n  }\n\n  this.returnColor = function() {\n    var ret = returnColor(this.color);\n    return ret;\n  }\n\n  this.draw = function(ctx, width, height) {\n    if (this.color !== undefined) {\n      ctx.fillStyle = this.returnColor();\n      var background = new Path2D();\n      background.rect(0, 0, width, height);\n      ctx.fill(background);\n    }\n  };\n};\n\nexport function line(height, width, index) {\n  this.type='line';\n  this.index = index;\n  // attributes\n  this.color = {\n    hue: 0,\n    sat: 70,\n    light: 0,\n    opacity: 1.0\n  }\n  this.height = height;\n  this.width = width;\n  this.thickness = 10;\n  this.regularity = 1;\n  this.orientation = 'b'; // can be h for horizontal, v for vertical or b for both\n  this.pattern = 'solid';\n  this.spacing = 3; // space between iterations of the pattern\n  this.boundary = {\n    u: 0,\n    d: 0,\n    l: 0,\n    r: 0\n  }\n  this.offset = {\n    x: 0,\n    y: 0\n  };\n  this.grid = null;\n  this.lineWidth = 1;\n  this.boundTo = null;\n  this.bindees = [];\n\n\n  // methods\n  this.createGrid = function() {\n\n    // will contain the latitude of horizontal lines and longitude of vertical\n    const xAxis = [];\n    const yAxis = [];\n\n\n    // determine where we start of end the marking\n    var xStart = 0 + this.boundary.l;\n    if(this.boundTo) {\n      xStart += this.boundTo.boundary.l;\n    }\n\n    var yStart = 0 + this.boundary.u;\n    if(this.boundTo) {\n      yStart += this.boundTo.boundary.u;\n    }\n\n    var xEnd = this.width + this.boundary.r;\n    if(this.boundTo) {\n      xEnd += this.boundTo.boundary.r;\n    }\n\n    var yEnd = this.height + this.boundary.d;\n    if(this.boundTo) {\n      yEnd += this.boundTo.boundary.d;\n    }\n\n    console.log('X from ' + xStart + ' to ' + xEnd);\n    console.log('Y from ' + yStart + ' to ' + yEnd);\n\n\n    // the space between ticks\n    const xGap = (xEnd - xStart) / (this.regularity + 1);\n    const yGap = (yEnd - yStart) / (this.regularity + 1);\n\n    console.log('Gaps: X = ' + xGap +', Y = ' + yGap);\n\n\n    // mark out the ticks\n    for(let i = 0; i < this.regularity; i++) {\n\n        let xTick = ((xGap * (i + 1)) - (this.thickness / 2)) + this.offset.x + xStart;\n        let yTick = ((yGap * (i + 1)) - (this.thickness / 2)) + this.offset.y + yStart;\n\n        if(this.boundTo) {\n          xTick += this.boundTo.offset.x;\n          yTick += this.boundTo.offset.y;\n        }\n        console.log('xTick: ' + xTick + ',yTick: ' + yTick);\n\n        xAxis.push(xTick);\n        yAxis.push(yTick);\n    }\n\n    this.grid = {\n      h: yAxis,\n      v: xAxis\n    }\n    console.log(this.grid);\n  }\n\n  this.returnColor = function() {\n    return returnColor(this.color)\n  }\n\n  this.drawSolid = function(lineStart, side, ctx, dir) {\n\n    if(dir === 'h') {\n      ctx.fillRect(0, lineStart, side, this.thickness);\n    } else if (dir === 'v') {\n      ctx.fillRect(lineStart, 0, this.thickness, side);\n    } else {\n      alert('critical draw error: improper dir');\n    }\n  }\n\n  this.drawRightSlash = function(lineStart, side, ctx, dir) {\n\n    const iter = side / this.spacing;\n\n    for(let i = -5; i < iter + 5; i++) {\n      let startX;\n      let startY;\n      let endX;\n      let endY;\n\n      if(dir === 'h') {\n        startX = this.spacing * i;\n        startY = lineStart + this.thickness;\n        endX = startX + this.spacing;\n        endY = startY - this.thickness;\n\n      } else if(dir === 'v') {\n        startX = lineStart;\n        startY = this.spacing * (i + 1);\n        endX = startX + this.thickness;\n        endY = startY - this.spacing;\n\n      } else {\n        alert('cirtical draw error: improper ')\n      }\n\n      ctx.lineWidth = this.lineWidth;\n      ctx.strokeStyle = this.returnColor();\n\n      ctx.beginPath();\n      ctx.moveTo(startX, startY);\n      ctx.lineTo(endX, endY);\n      ctx.stroke();\n      ctx.closePath();\n    }\n  }\n\n  this.drawLeftSlash = function(lineStart, side, ctx, dir) {\n\n    const iter = side / this.spacing;\n\n    for(let i = -5; i < iter + 5; i++) {\n      let startX;\n      let startY;\n      let endX;\n      let endY;\n\n      if(dir === 'h') {\n        startX = this.spacing * i;\n        startY = lineStart;\n        endX = startX + this.spacing;\n        endY = startY + this.thickness;\n\n      } else if(dir === 'v') {\n        startX = lineStart;\n        startY = this.spacing * i;\n        endX = startX + this.thickness;\n        endY = startY + this.spacing;\n\n      } else {\n        alert('cirtical draw error: improper dir');\n      }\n\n      ctx.lineWidth = this.lineWidth;\n      ctx.strokeStyle = this.returnColor();\n\n      ctx.beginPath();\n      ctx.moveTo(startX, startY);\n      ctx.lineTo(endX, endY);\n      ctx.stroke();\n      ctx.closePath();\n    }\n  }\n\n  this.drawHorizontalStripes = function(lineStart, side, ctx, dir) {\n    var iter;\n    var setBack;\n\n    if (dir === 'h') {\n       iter = Math.floor(this.thickness / this.spacing);\n       setBack = 0;\n    } else if (dir === 'v') {\n        iter = Math.floor(side / this.spacing) + 5\n        setBack = -5;\n    } else {\n      alert('critical draw error: improper dir');\n    }\n\n    for(let i = setBack; i < iter; i++) {\n      let startX;\n      let startY;\n      let endX;\n      let endY;\n\n      if(dir === 'h') {\n        startX = 0;\n        startY = lineStart  + (i * this.spacing);\n        endX = side;\n        endY = startY;\n\n      } else if(dir === 'v') {\n        startX = lineStart;\n        startY = this.spacing * i;\n        endX = startX + this.thickness;\n        endY = startY;\n\n      } else {\n        alert('cirtical draw error: improper dir');\n      }\n\n      ctx.lineWidth = this.lineWidth;\n      ctx.strokeStyle = this.returnColor();\n\n      ctx.beginPath();\n      ctx.moveTo(startX, startY);\n      ctx.lineTo(endX, endY);\n      ctx.stroke();\n      ctx.closePath();\n\n    }\n  }\n\n  this.drawVerticalStripes = function(lineStart, side, ctx, dir) {\n    var iter;\n    var setBack;\n\n    if (dir === 'v') {\n       iter = Math.floor(this.thickness / this.spacing);\n       setBack = 0;\n    } else if (dir === 'h') {\n        iter = Math.floor(side / this.spacing) + 5\n        setBack = -5\n    } else {\n      alert('cirtical draw error: improper dir');\n    }\n\n    for(let i = setBack; i < iter; i++) {\n      let startX;\n      let startY;\n      let endX;\n      let endY;\n\n      if(dir === 'v') {\n        startX = lineStart  + (i * this.spacing);\n        startY = 0;\n        endX = startX;\n        endY = side;\n\n      } else if(dir === 'h') {\n        startX = this.spacing * i;\n        startY = lineStart;\n        endX = startX;\n        endY = startY + this.thickness;\n\n      } else {\n        alert('cirtical draw error: improper dir');\n      }\n\n      ctx.lineWidth = this.lineWidth;\n      ctx.strokeStyle = this.returnColor();\n\n      ctx.beginPath();\n      ctx.moveTo(startX, startY);\n      ctx.lineTo(endX, endY);\n      ctx.stroke();\n      ctx.closePath();\n\n    }\n  }\n\n  this.drawChecker = function(lineStart, side, ctx, dir) {\n\n    var topLeft = true;\n    var breadth = Math.floor(side / this.spacing);\n    var depth = Math.floor(this.thickness / this.spacing);\n\n    console.log(breadth, depth)\n\n    for(let i = 0; i < breadth; i++) {\n      if(topLeft) {\n        for(let j = 0; j < depth; j += 2) {\n          if(dir === 'h') {\n            let x = (i * this.spacing);\n            let y = (j * this.spacing) + lineStart;\n            ctx.fillRect(x, y, this.spacing, this.spacing)\n          } else if(dir === 'v') {\n            let x = (j * this.spacing) + lineStart;\n            let y = (i * this.spacing);\n            ctx.fillRect(x,y,this.spacing, this.spacing)\n          }\n        }\n      } else {\n        for(let j = 1; j < depth; j += 2) {\n          if(dir === 'h') {\n            let x = (i * this.spacing);\n            let y = (j * this.spacing) + lineStart;\n            ctx.fillRect(x, y, this.spacing, this.spacing)\n          } else if(dir === 'v') {\n            let x = (j * this.spacing) + lineStart;\n            let y = (i * this.spacing);\n            ctx.fillRect(x,y,this.spacing, this.spacing)\n          }\n        }\n      }\n      topLeft = !topLeft;\n    }\n  }\n\n\n  this.drawSolid = this.drawSolid.bind(this);\n  this.drawRightSlash = this.drawRightSlash.bind(this);\n  this.drawLeftSlash = this.drawLeftSlash.bind(this);\n  this.drawHorizontalStripes = this.drawHorizontalStripes.bind(this);\n  this.drawVerticalStripes = this.drawVerticalStripes.bind(this);\n  this.drawChecker = this.drawChecker.bind(this);\n\n\n  this.drawPatterns = {\n    solid: this.drawSolid,\n    rightSlash: this.drawRightSlash,\n    leftSlash: this.drawLeftSlash,\n    horizontalStripes:  this.drawHorizontalStripes,\n    verticalStripes: this.drawVerticalStripes,\n    checker: this.drawChecker\n  }\n\n  this.draw = function(ctx, width, height) {\n\n    this.createGrid();\n\n    ctx.save();\n    ctx.fillStyle = this.returnColor();\n\n    this.drawLines = function(dir, side, ctx) {\n      //console.log('side: ' + side);\n      //console.log('divisor: ' + (this.regularity + 1));\n\n\n      const axis = this.grid[dir];\n\n      for(let i = 0; i < axis.length; i++) {\n\n          this.drawPatterns[this.pattern](axis[i], side, ctx, dir);\n      }\n    }\n\n    this.drawLines = this.drawLines.bind(this)\n\n    if(this.orientation === 'h' || this.orientation === 'b') {\n      this.drawLines('h', height, ctx);\n    }\n\n    if(this.orientation === 'v' || this.orientation === 'b') {\n      this.drawLines('v', width, ctx);\n    }\n\n    ctx.restore();\n  };\n  //this.drawBoundaries = function(ctx, width)\n  this.draw = this.draw.bind(this);\n\n}\n","import React from 'react';\nimport './buttonPanel.css';\n\nexport function ButtonPanel(props) {\n\n  function switchPanel(e) {\n    let diff = parseInt(e.target.value)\n\n    props.switchPanel(diff);\n  }\n\n\n  function underConstruction() {\n    alert('this feature is under production');\n  }\n\n  var toggleText;\n\n  if(props.displayAdvance) {\n    toggleText = \"Basic\";\n  } else {\n    toggleText = \"Advanced\";\n  }\n\n  return (\n    <div id='button-panel'>\n      <button\n        onClick={switchPanel}\n        value = {-1}\n        id='back'\n      >\n        {'<<'}\n      </button>\n      <button\n        onClick={props.handleAddLine}\n        id='add'\n      >\n        Add\n      </button>\n      <button\n        onClick={props.handleRemoveLine}\n        id='remove'\n      >\n        Remove\n      </button>\n      <button\n        onClick={props.handleCopyLine}\n        id='copy'\n      >\n        Copy\n      </button>\n      <button\n        onClick={props.handleDisplay}\n      >\n        {toggleText}\n      </button>\n      <button\n        onClick={props.handleDownload}\n        id='download'\n      >\n        Download\n      </button>\n      <button\n        onClick={props.handleBind}\n        id='bind'\n      >\n        Bind\n      </button>\n      <button\n        onClick={switchPanel}\n        value = {1}\n        id='forward'\n      >\n        {'>>'}\n      </button>\n    </div>\n  )\n}\n","import React from 'react';\nimport './topBar.css';\n\nexport function TopBar(props) {\n  var display;\n\n  if(props.nav) {\n    display = (\n      <div id='nav-bar' class='col-12'>\n        <button\n          id='nav-bar-close'\n          class='close-button'\n          onClick={props.flip}\n        >\n          X\n        </button>\n        <div id='inner-nav'>\n          <a href='https://vkwebsite.herokuapp.com/'>Homepage</a>\n          <a href='https://vkplaid.herokuapp.com/' id='active'>Plaid Maker</a>\n          <a href='https://vkwebsite.herokuapp.com/ep_search'>Episode Picker</a>\n          <a class='hidden' id='placeholder'></a>\n        </div>\n      </div>\n    )\n  } else {\n    display = (\n      <div id='top-bar'>\n        <button\n          id='nav-bar-open'\n          onClick={props.flip}\n        >Nav Bar</button>\n        <a\n          href='https://github.com/kuertzva/Plaid-Generator'\n          id='github-link'\n        >Github</a>\n      </div>\n    )\n  }\n\n  return display;\n}\n\n// export default TopBar;\n","import React from 'react';\nimport './download.css';\n\nexport class Download extends React.Component {\n  constructor(props) {\n    super(props)\n    this.togglePreview = this.togglePreview.bind(this);\n    this.downloadImage = this.downloadImage.bind(this);\n    this.changeFormat = this.changeFormat.bind(this);\n    this.changeFilename = this.changeFilename.bind(this);\n    this.state = {\n      preview: false,\n      format: 'png',\n      filename: 'plaid'\n    };\n  }\n\n  componentDidMount() {\n    const png = document.getElementById('png');\n    png.checked = true;\n  }\n\n\n  togglePreview() {\n    this.setState((state) => ({\n      preview: !(state.preview)\n    }));\n  }\n\n  downloadImage() {\n    //alert('download triggered');\n    const canvas = document.getElementById('canvas');\n    const urlInput = 'image/' + this.state.format\n    const image = canvas.toDataURL(urlInput);\n\n    //alert(urlInput);\n\n    const link = document.createElement('a');\n    const filename = this.state.filename + '.'+ this.state.format;\n    document.body.appendChild(link);\n    link.download = filename;\n    //alert(filename);\n    link.href = image;\n    link.click();\n    document.body.removeChild(link);\n\n  }\n\n  changeFormat(e) {\n    const target = e.target;\n    const value = target.value;\n\n    this.setState({\n      format: value\n    });\n  }\n\n  changeFilename(e) {\n    const forbidden = ['<','>',':','\"','/','\\\\','|','?','*'];\n    const newString = e.target.value;\n    const lastChar = newString[newString.length - 1];\n\n    if(forbidden.indexOf(lastChar) >= 0) {\n      alert('this is not an allowed character!')\n    } else {\n      this.setState((state) => ({\n        filename: newString\n      }));\n    }\n\n  }\n\n\n\n  render() {\n\n    const formats = [['png', true], ['jpeg', false], ['bmp', false], ['webp', false]]\n\n    const radioButtons = formats.map((format) =>\n\n      <label> {format[0].charAt(0).toUpperCase() + format[0].substring(1)}\n          <input type='radio' name='radioButtons' value={format[0]}\n          id={format[0]} onChange={(e) => this.changeFormat(e)}/>\n      </label>\n\n    )\n\n    var preview;\n\n    if(this.state.preview) {\n\n      const canvas = document.getElementById('canvas');\n      const bkgd = canvas.toDataURL('image/png');\n\n      preview = (\n        <div\n          id='preview'\n          style= {{\n            backgroundImage: 'url(' + bkgd + ')'\n          }}\n        >\n          <button\n            id='close-preview'\n            class='close-button'\n            onClick={this.togglePreview}\n          > X </button>\n        </div>\n      )\n\n    } else {\n      preview = false;\n    }\n\n\n  // checked={format[1]}\n    return (\n      <div class='overlay col-12 narrow-row'>\n        {preview}\n        <button\n          id='download-close'\n          class='close-button'\n          onClick={this.props.flip}\n        >\n          X\n        </button>\n        <div id='inner-download' class='feature-box pop-up no-shadow'>\n          <h1> Download </h1>\n          <label>File Name:\n            <input\n              id='file-name'\n              type='text'\n              value={this.state.filename}\n              onChange={(e) => this.changeFilename(e)}\n            />\n          </label>\n          <div class='radio-options'>\n            {radioButtons}\n          </div>\n          <div id='download-buttons'>\n            <button\n              id='preview-button'\n              onClick={this.togglePreview}\n            >\n              Preview\n            </button>\n            <button\n              id='download-button'\n              onClick={this.downloadImage}\n            >\n              Download\n            </button>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\n//export default Download;\n","import React from 'react';\nimport './bind.css';\n\nexport function Bind(props) {\n\n  function handleBind() {\n    const radios = document.getElementsByName('lineButtons');\n    var i;\n    var found = false;\n    for (i = 0; i < radios.length; i++) {\n      if(radios[i].checked) {\n        var value = radios[i].value;\n        props.bind(value);\n        found = true;\n        props.flip();\n        break;\n      }\n    } if(!found) {\n      alert('none selected');\n    }\n\n  }\n\n  var otherLines = [];\n  var count = 1;\n\n  while(count < props.panels.length) {\n    if (count !== props.currentPanel) {\n      otherLines.push(count);\n    }\n    count++;\n  }\n\n\n  console.log(otherLines);\n\n  const lineButtons = otherLines.map((line) =>\n\n    <label> {line}\n        <input type='radio' name='lineButtons' value={line}\n        id={line} key={line}/>\n    </label>\n\n  )\n\n  var contents;\n  const bound = props.panels[props.currentPanel].boundTo\n  alert(bound);\n  if(!bound){\n    contents = (\n      <div className='feature-box pop-up no-shadow'>\n        <h1>Bind</h1>\n        <h3>Which line would you like to bind this like too?</h3>\n        <div className='radio-options'>\n          {lineButtons}\n        </div>\n        <button\n          onClick={handleBind}\n        >\n          Bind\n        </button>\n      </div>\n    )\n  } else {\n    contents = (\n      <div className='feature-box pop-up no-shadow'>\n        <h1> Unbind this line? </h1>\n        <button\n          onClick={props.unbind}\n        >\n          Unbind\n        </button>\n      </div>\n    )\n  }\n\n\n\n\n\n  return (\n    <div className='overlay col-12 narrow-row'>\n      <button\n        id='bind-close'\n        className='close-button'\n        onClick={props.flip}\n      >\n        X\n      </button>\n      {contents}\n    </div>\n  )\n}\n","import React from 'react';\nimport './intro.css';\n\nfunction Intro(props) {\n  return (\n    <div id='outer-intro' className='overlay col-24 narrow-row'>\n      <div id='inner-intro' className='pop-up no-shadow'>\n        <div id='intro-text'>\n          <h1> Welcome! </h1>\n          <h2> This is my Plaid Maker</h2>\n          <p>\n            Please check it out and see what you can make. This is still a work\n            in progress. Features may still be a little buggy and more features are\n            on the way.\n          </p>\n          <p>\n            You can navigate away from this page using the link at the top left.\n          </p>\n          <h2> How this works</h2>\n          <p>\n            This project consists of a base object and a series of line objects\n            which are drawn on a canvas html element. The base is the background\n            you draw the lines against. We'll start there.\n          </p>\n          <h3>Base</h3>\n          <p>\n            For now, this is pretty simple. All the base has is a color, which\n            is defined by its hue, saturation and lightness. Now lets get to lines.\n          </p>\n          <h3>Lines</h3>\n          <p>\n            Lines also have a color, but this also has an opacity that give the\n            line the possibility of being transparent. Lines can go up, down or\n            both and I refer to this as the lines orientation. A line will repeat\n            a number of times on each relevant axis and this is called the lines\n            regularity. The lines can be moved along there axis using the offset.\n            Clicking a draging a line can be used to chang eoffset, though I'm\n            still working on making this consistent.\n          </p>\n          <p>\n            Lines can be changed to display as a number of patterns that can be\n            modified when relevant. This is accessed by clicking the pattern\n            button. You can switch lines with the buttons on the edges of the\n            patterns or by clicking them in the canvas (again, not completely\n            smooth.\n          </p>\n          <p>\n            Lines can be added, removed or copied. The bind button, when\n            implemented, will make 2 lines regularity and offset dependent on one\n            another to create more intricate patterns. The download button will\n            allow you to download your pattern as an image.\n          </p>\n          <p>\n            Have fun!\n          </p>\n        </div>\n        <div id='intro-button-container'>\n          <button onClick={props.handleClick}>\n            Plaid Time!\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Intro;\n","import React from 'react';\nimport { Canvas } from './canvas.js';\nimport { TopPanel } from './topPanel.js';\nimport { line, base } from './objects.js';\nimport { ButtonPanel } from './buttonPanel.js';\nimport { TopBar } from './topBar.js';\nimport { Download } from './download.js';\nimport { Bind } from './bind.js';\nimport Intro from './intro.js';\nimport './App.css';\n\n\nconst root = document.getElementById('root');\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleAddLine = this.handleAddLine.bind(this);\n    this.handleColorChange = this.handleColorChange.bind(this);\n    this.handleLineChange = this.handleLineChange.bind(this);\n    this.switchLine = this.switchLine.bind(this);\n    this.displayToggle = this.displayToggle.bind(this);\n    this.setSide = this.setSide.bind(this);\n    this.handleRemoveLine = this.handleRemoveLine.bind(this);\n    this.handleCopyLine = this.handleCopyLine.bind(this);\n    this.handleBind = this.handleBind.bind(this);\n    this.handleUnbind = this.handleUnbind.bind(this);\n    this.downloadToggle = this.downloadToggle.bind(this);\n    this.navToggle = this.navToggle.bind(this);\n    this.bindToggle = this.bindToggle.bind(this);\n    const rootStyle = getComputedStyle(root);\n    this.state = {\n      intro: true,\n      nav: false,\n      download: false,\n      bind: false,\n      displayAdvanced: false,\n      panels: [new base()],\n      currentPanel: 0,\n      handlers: {\n        'addLine' : this.handleAddLine,\n        'colorChange': this.handleColorChange,\n        'lineChange' : this.handleLineChange,\n        'switchLine' : this.switchLine\n      },\n      width: parseInt(rootStyle.width),\n      height: parseInt(rootStyle.height),\n      side: null\n    };\n  }\n\n  updateStyles() {\n\n    const canvas = document.getElementById('canvas');\n    const bkgd = canvas.toDataURL('image/png');\n\n    document.body.style.backgroundImage = 'url(' + bkgd + ')';\n    document.body.style.backgroundColor = this.state.panels[0].returnColor();\n\n    //root.style.background = this.state.panels[0].returnColor();\n\n    const borderChanges = document.querySelectorAll('.border-change');\n\n    let lineColor = this.state.panels[this.state.currentPanel].returnColor();\n\n    let border;\n    for(border of borderChanges) {\n      border.style.borderColor = lineColor;\n    }\n  }\n\n  componentDidMount() {\n    const canvasStyle = getComputedStyle(document.getElementById('canvas'));\n    this.setState({\n      canvasWidth: parseInt(canvasStyle.width),\n      canvasHeight: parseInt(canvasStyle.height)\n    })\n    console.log('AppDidMount')\n    console.log(this.state.canvasWidth, this.state.canvasHeight);\n\n    // styling changes\n    this.updateStyles();\n\n  }\n\n  componentDidUpdate() {\n    this.updateStyles();\n  }\n\n  setSide(side) {\n    this.setState({\n      side: side\n    })\n  }\n\n  switchLine(diff) {\n    console.log(diff);\n    let currentPanel = this.state.currentPanel + diff;\n\n    if(0 <= currentPanel && currentPanel < this.state.panels.length){\n      this.setState({\n        currentPanel: currentPanel\n      });\n    }\n  }\n\n  handleAddLine() {\n    console.log('add line');\n    const newPanels = this.state.panels;\n\n    newPanels.push(new line(this.state.side, this.state.side, this.state.panels.length));\n\n    this.setState({\n      panels: newPanels,\n      currentPanel: newPanels.length - 1\n    });\n  }\n\n  handleRemoveLine() {\n    console.log('remove line');\n\n    if(this.state.currentPanel > 0) {\n      const newPanels = this.state.panels;\n      newPanels.splice(this.state.currentPanel, 1);\n      var newCurrent = this.state.currentPanel - 1;\n      this.setState({\n        panels: newPanels,\n        currentPanel: newCurrent\n      });\n    } else {\n      alert('Cannot delete the background');\n    }\n  }\n\n  handleCopyLine() {\n    console.log('copy line');\n\n    if(this.state.currentPanel > 0) {\n      const newPanels = this.state.panels;\n      const currentLine = this.state.panels[this.state.currentPanel];\n      const copyLine = new line(this.state.side, this.state.side,this.state.panels.length);\n\n      const copyStrings = [['color','hue','sat','light','opacity'], 'height', 'width', 'thickness',\n    'regularity', 'orientation', 'pattern', 'spacing', ['offset', 'x', 'y'], 'grid',\n    'lineWidth', 'boundTo'];\n\n      var attr;\n      for(attr of copyStrings) {\n        if(Array.isArray(attr)){\n          var i;\n          for(i = 1; i < attr.length; i++) {\n            copyLine[attr[0]][attr[i]] = currentLine[attr[0]][attr[i]];\n          }\n        } else {\n          copyLine[attr] = currentLine[attr];\n        }\n      }\n\n\n      newPanels.push(copyLine);\n      this.setState({\n        currentPanel: newPanels.length - 1,\n        panels: newPanels,\n      });\n    }\n  }\n\n  handleDownload(e) {\n    const target = e.target;\n    const canvas = document.getElementById('canvas');\n    const image = canvas.toDataURL('image/jpeg');\n\n    target.href = image;\n  }\n\n  handleColorChange(e) {\n    const target = e.target;\n    const aspect = target.getAttribute('data-aspect');\n    const input = target.value;\n    var key;\n    var value;\n    var color;\n\n\n    key = 'panels';\n    value = this.state.panels;\n    color = value[this.state.currentPanel].color;\n\n\n    //alert(input, this.state.base.color.hue)\n    color[aspect] = input;\n\n    this.setState({\n      [key]: value\n    });\n  }\n\n  handleLineChange(v, a) {\n\n    const value = v\n    const aspect = a\n    const lines = this.state.panels;\n    const line = lines[this.state.currentPanel];\n\n    if(aspect === 'regularity' || aspect === 'thickness'){\n      if (isNaN(value) || value < 1) {\n        line[aspect] = 1;\n      } else {\n        line[aspect] = value;\n      }\n    } else if (aspect.slice(0, 6) === 'offset'){\n      line[aspect.slice(0,6)][aspect.slice(7)] = value\n    } else if (aspect.slice(-8) === 'boundary'){\n      if(aspect.charAt(0) === 'l') {\n        if(aspect.charAt(1) === 'e') {\n          line[aspect.slice(-8)][aspect.charAt(0)] = value;\n        } else {\n          line[aspect.slice(-8)].d = value;\n        }\n      } else {\n        line[aspect.slice(-8)][aspect.charAt(0)] = value;\n      }\n    }else {\n      line[aspect] = value;\n    }\n\n    this.setState({\n      panels: lines\n    });\n  }\n\n  handleBind(index) {\n    const bindor = this.state.panels[index];\n    const bindee = this.state.panels[this.state.currentPanel];\n\n    bindee.boundTo = bindor;\n    bindor.bindees.push(bindee);\n\n  }\n\n  handleUnbind() {\n    alert('unbind triggered');\n    const bindee = this.state.panels[this.state.currentPanel];\n    const bindor = bindee.boundTo;\n\n    bindee.boundTo = null;\n\n    var bindeeIndex = bindor.bindees.indexOf(bindee);\n    if(bindeeIndex !== -1) {\n      bindor.bindees.splice(bindeeIndex, 1);\n    }\n\n    this.bindToggle();\n\n  }\n\n  introToggle() {\n    this.setState((state) => ({\n      intro: !(state.intro)\n    }));\n  }\n\n  navToggle() {\n    this.setState((state) => ({\n      nav: !(state.nav)\n    }));\n  }\n\n  displayToggle() {\n    this.setState((state) => ({\n      displayAdvanced: !(state.displayAdvanced)\n    }));\n  }\n\n\n  downloadToggle() {\n    this.setState((state) => ({\n      download: !(state.download)\n    }));\n  }\n\n  bindToggle() {\n\n    if(this.state.currentPanel > 0){\n      this.setState((state) => ({\n        bind: !(state.bind)\n      }));\n    } else {\n      alert(\"You can't bind the background!\");\n    }\n  }\n\n  render() {\n    const canvasHeight = 300;\n    var overlay;\n    if(this.state.intro){\n      overlay = <Intro handleClick={() => this.introToggle()}/>\n    } else if(this.state.download){\n      overlay = (\n        <Download\n          flip={this.downloadToggle}\n        />\n      )\n\n    } else if(this.state.bind) {\n      overlay = (\n        <Bind\n          flip={this.bindToggle}\n          bind={(i) => this.handleBind(i)}\n          unbind={() => this.handleUnbind()}\n          panels={this.state.panels}\n          currentPanel={this.state.currentPanel}\n        />\n      )\n    }else {\n      overlay = false;\n    }\n\n    return (\n      <div id='frame' className='col-12 thick-row'>\n        {overlay}\n        <TopBar\n          nav={this.state.nav}\n          flip={this.navToggle}\n        />\n        <div id='app'>\n          <Canvas\n            panels={this.state.panels}\n            currentPanel={this.state.currentPanel}\n            handleClick={this.switchLine}\n            setSide={(s) => this.setSide(s)}\n          />\n          <ButtonPanel\n            switchPanel={(d) => this.switchLine(d)}\n            handleAddLine={() => this.handleAddLine()}\n            handleRemoveLine={() => this.handleRemoveLine()}\n            handleCopyLine={() => this.handleCopyLine()}\n            handleDownload={() => this.downloadToggle()}\n            handleBind={() => this.bindToggle()}\n            handleDisplay={() => this.displayToggle()}\n            display = {this.state.displayAdvanced}\n            width={this.props.width}\n          />\n          <TopPanel\n            width={this.state.width}\n            height={this.state.height}\n            panel={this.state.panels[this.state.currentPanel]}\n            currentPanel={this.state.currentPanel}\n            handlers={this.state.handlers}\n            displayAdvanced={this.state.displayAdvanced}\n          />\n\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default App;\n\n/*\n\n*/\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}