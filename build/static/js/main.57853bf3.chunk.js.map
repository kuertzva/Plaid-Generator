{"version":3,"sources":["canvas.js","helpers.js","colorSlider.js","colorPanel.js","plusMinus.js","attrSelect.js","basicPanel.js","advancedPanel.js","topPanel.js","objects.js","buttonPanel.js","topBar.js","download.js","bind.js","intro.js","App.js","serviceWorker.js","index.js"],"names":["Canvas","props","side","priorClick","coords","v","h","idx","dir","canvas","document","getElementById","canvasContainer","getComputedStyle","getPropertyValue","ccStyle","ccWidth","parseInt","width","slice","ccHeight","height","this","setSide","updateCanvas","ctx","refs","getContext","panels","i","length","draw","e","target","borderWidth","xOffset","offsetLeft","yOffset","offsetTop","pageX","pageY","console","log","type","preventDefault","canvasCoords","lines","line","axes","grid","orientation","tick","axis","thickness","handleClick","currentPanel","offset","y","x","clear","changedTouches","touch","id","ref","onTouchStart","canvasTouchStart","onTouchMove","canvasTouchMove","onTouchEnd","canvasTouchEnd","onMouseDown","canvasClick","onMouseUp","canvasUnclick","React","Component","makeHeader","s","header","charAt","toUpperCase","ColorSlider","className","row","aspect","min","max","step","value","color","data-aspect","style","onChange","handleColorChange","ColorPanel","bind","bottomClass","colorSource","styler","sliderStyle","hue","key","getStyle","sat","light","opacity","topRow","bottomRow","push","l","a","makeString","qual","right","lin","left","alert","inc","background","PlusMinus","input","createRef","current","getAttribute","oldVar","preventNegative","handleLineChange","allowed_chars","endValue","char","indexOf","isNaN","onClick","buttonChange","data-change","inputChange","readValue","AttrSelect","size","options","map","BasicPanel","regularity","returnColor","AdvancedPanel","spacing","lineWidth","boundary","u","d","r","TopPanel","handleAddLine","switchLine","addHandler","handlers","colorChanger","lineChanger","diff","switchHandler","displayPanel","panel","boundTo","index","bindees","sort","b","attributes","displayAdvanced","colorObj","base","undefined","fillStyle","Path2D","rect","fill","pattern","allowDraw","checkNaNs","createGrid","xAxis","yAxis","xStart","yStart","xEnd","yEnd","xGap","yGap","xTick","yTick","drawSolid","lineStart","fillRect","drawRightSlash","iter","startX","startY","endX","endY","strokeStyle","beginPath","moveTo","lineTo","stroke","closePath","drawLeftSlash","drawHorizontalStripes","setBack","Math","floor","drawVerticalStripes","drawChecker","topLeft","breadth","depth","j","drawPatterns","solid","rightSlash","leftSlash","horizontalStripes","verticalStripes","checker","save","drawLines","restore","ButtonPanel","switchPanel","toggleText","displayAdvance","handleRemoveLine","handleCopyLine","handleDisplay","handleDownload","handleBind","TopBar","nav","class","flip","href","Download","togglePreview","downloadImage","changeFormat","changeFilename","state","preview","format","filename","checked","setState","urlInput","image","toDataURL","link","createElement","body","appendChild","download","click","removeChild","newString","lastChar","radioButtons","substring","name","bkgd","backgroundImage","Bind","otherLines","count","contents","lineButtons","unbind","radios","getElementsByName","found","Intro","root","App","displayToggle","handleUnbind","downloadToggle","navToggle","bindToggle","rootStyle","intro","backgroundColor","borderChanges","querySelectorAll","lineColor","borderColor","canvasStyle","canvasWidth","canvasHeight","updateStyles","newPanels","splice","newCurrent","attr","currentLine","copyLine","Array","isArray","bindor","bindee","bindeeIndex","overlay","introToggle","display","Boolean","window","location","hostname","match","ReactDOM","render","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.57853bf3.chunk.js","sourcesContent":["import React from 'react';\nimport './canvas.css';\n\nexport class Canvas extends React.Component {\n  constructor(props) {\n    super(props);\n    this.side = null;\n    this.priorClick = {\n      coords: {\n        v: 0,\n        h: 0\n      },\n      idx: null,\n      dir: null\n    }\n  }\n\n  componentDidMount() {\n    const canvas = document.getElementById('canvas');\n    const canvasStyle = getComputedStyle(canvas);\n    const borderWidth = canvasStyle.getPropertyValue('border');\n\n    const canvasContainer = document.getElementById('canvas-container');\n    const ccStyle = getComputedStyle(canvasContainer);\n    const ccWidth = parseInt(ccStyle.width.slice(0, -2));\n    const ccHeight = parseInt(ccStyle.height.slice(0, -2));\n\n\n\n    if(ccWidth > ccHeight) {\n      this.side = ccHeight;\n    } else {\n      this.side = ccWidth;\n    }\n\n    this.props.setSide(this.side);\n\n\n    this.updateCanvas();\n  }\n\n  // may be unnecessary\n  componentDidUpdate() {\n    this.updateCanvas();\n  }\n\n\n  updateCanvas() {\n    const ctx = this.refs.canvas.getContext('2d');\n    const panels = this.props.panels;\n\n    for(var i = 0; i < panels.length; i++) {\n      panels[i].draw(ctx, this.side, this.side);\n    }\n\n  }\n\n  canvasCoords(e) {\n    const canvas = e.target;\n    const borderWidth = parseInt(\n      (getComputedStyle(canvas, null).getPropertyValue('border-left-width')).slice(0, -2)\n    );\n    const xOffset = canvas.offsetLeft + borderWidth;\n    const yOffset = canvas.offsetTop + borderWidth;\n    const coords = {\n      v: e.pageX - xOffset,\n      h: e.pageY - yOffset\n    }\n\n    console.log('type:' + e.type);\n    console.log('Coords: ' + coords.v + ',' + coords.h);\n\n\n    //console.log('Coords: ' + coords.v + ',' + coords.h);\n\n    return coords;\n  }\n\n  canvasClick(e) {\n    e.preventDefault();\n\n    const coords = this.canvasCoords(e);\n    const lines = this.props.panels;\n\n    for (let i  = 1; i < lines.length; i++) {\n      let line = lines[i]\n      let grid = line.grid;\n      let axes;\n      if(line.orientation === 'b'){\n        axes = ['h', 'v'];\n      } else {\n        axes = [line.orientation];\n      }\n      var dir;\n      for (dir of axes) {\n          let axis = line.grid[dir];\n          var tick;\n          for (tick of axis) {\n            if(coords[dir] > tick &&\n            coords[dir] < (tick + line.thickness)) {\n              console.log('click registered');\n              this.props.handleClick(i - this.props.currentPanel);\n              this.priorClick.dir= dir;\n              this.priorClick.coords.v = coords.v;\n              this.priorClick.coords.h = coords.h;\n              this.priorClick.idx = i;\n              return true;\n            }\n          }\n      }\n    }\n    this.props.handleClick(0 - this.props.currentPanel);\n    this.priorClick.dir = null;\n    this.priorClick.coords.v = 0;\n    this.priorClick.coords.h = 0;\n    this.priorClick.idx = null;\n    return false;\n  }\n  canvasUnclick(e) {\n    e.preventDefault();\n\n    // due to this describing both coordinates and orienations of lines,\n    // it uses separate terminonlogy in separate locations. For reference:\n\n    // x = v\n    // y = h\n\n    if(this.priorClick.idx === null) {\n      return;\n    }\n\n    const coords = this.canvasCoords(e);\n    const lines = this.props.panels;\n    const line = lines[this.priorClick.idx];\n\n    if(this.priorClick.dir === 'h') {\n      let offset = coords.h - this.priorClick.coords.h;\n      line.offset.y += offset;\n    } else if(this.priorClick.dir === 'v') {\n      let offset = coords.v - this.priorClick.coords.v;\n      line.offset.x += offset;\n    }\n\n    this.updateCanvas();\n\n    this.priorClick.dir = null;\n    this.priorClick.coords.v = 0;\n    this.priorClick.coords.h = 0;\n    this.priorClick.idx = null;\n  }\n\n  canvasTouchStart(e) {\n    e.preventDefault();\n    console.clear();\n    console.log(e.type);\n\n    console.log(e.changedTouches.length);\n\n    const lines = this.props.panels;\n    var touch;\n\n    for(touch of e.changedTouches) {\n        console.log(touch);\n        const coords = this.canvasCoords(touch);\n        for (let i  = 1; i < lines.length; i++) {\n        let line = lines[i]\n        let grid = line.grid;\n        let axes;\n        if(line.orientation === 'b'){\n          axes = ['h', 'v'];\n        } else {\n          axes = [line.orientation];\n        }\n        var dir;\n        for (dir of axes) {\n            let axis = line.grid[dir];\n            var tick;\n            for (tick of axis) {\n              if(coords[dir] > tick &&\n              coords[dir] < (tick + line.thickness)) {\n                console.log('click registered');\n                this.props.handleClick(i - this.props.currentPanel);\n                this.priorClick.dir= dir;\n                this.priorClick.coords.v = coords.v;\n                this.priorClick.coords.h = coords.h;\n                this.priorClick.idx = i;\n                return true;\n              }\n            }\n        }\n      }\n    }\n\n    this.props.handleClick(0 - this.props.currentPanel);\n    this.priorClick.dir = null;\n    this.priorClick.coords.v = 0;\n    this.priorClick.coords.h = 0;\n    this.priorClick.idx = null;\n    return false;\n  }\n\n  canvasTouchMove(e) {\n    e.preventDefault();\n\n    if(this.priorClick.idx === null) {\n      return;\n    }\n\n    console.log('touch move');\n\n    const coords = this.canvasCoords(e.changedTouches[0]);\n    const lines = this.props.panels;\n    const line = lines[this.priorClick.idx];\n\n    if(this.priorClick.dir === 'h') {\n      let offset = coords.h - this.priorClick.coords.h;\n      line.offset.y += offset;\n    } else if(this.priorClick.dir === 'v') {\n      let offset = coords.v - this.priorClick.coords.v;\n      line.offset.x += offset;\n    }\n\n    this.priorClick.coords.v = coords.v;\n    this.priorClick.coords.h = coords.h;\n\n    this.updateCanvas();\n  }\n\n  canvasTouchEnd() {\n    this.updateCanvas();\n\n    this.priorClick.dir = null;\n    this.priorClick.coords.v = 0;\n    this.priorClick.coords.h = 0;\n    this.priorClick.idx = null;\n  }\n\n  render() {\n    return (\n      <div id='canvas-container'>\n        <canvas\n          ref='canvas'\n          id='canvas'\n          width={this.side}\n          height={this.side}\n          onTouchStart={(e) => this.canvasTouchStart(e)}\n          onTouchMove={(e) => this.canvasTouchMove(e)}\n          onTouchEnd={(e) => this.canvasTouchEnd(e)}\n          onMouseDown={(e) => this.canvasClick(e)}\n          onMouseUp={(e) => this.canvasUnclick(e)}\n         />\n      </div>\n    )\n  }\n}\n","export function makeHeader(s) {\n  var header = s.charAt(0).toUpperCase();\n\n  for(let i = 1; i < s.length; i++) {\n    if(s.charAt(i) === s.charAt(i).toUpperCase()){\n      header += ' ';\n    }\n    header += s.charAt(i);\n  }\n\n  return header;\n}\n","import React from 'react';\nimport { makeHeader } from './helpers.js';\nimport './colorSlider.css';\n\nexport function ColorSlider(props) {\n\n  return (\n    <div className={props.row}>\n      <h5>\n        {makeHeader(props.aspect)}\n      </h5>\n      <input\n        type='range'\n        className='color-slider'\n        min={0}\n        max={props.max}\n        step={props.step}\n        value={props.color[props.aspect]}\n        data-aspect = {props.aspect}\n        style={props.style}\n        onChange={(e) => props.handleColorChange(e)}\n      />\n    </div>\n  )\n}\n","import React from 'react';\nimport { ColorSlider } from './colorSlider.js';\nimport './colorPanel.css';\n\nexport class ColorPanel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleColorChange = this.handleColorChange.bind(this);\n  }\n\n  handleColorChange(e) {\n    this.props.handleColorChange(e);\n  }\n\n  render() {\n\n    const color = this.props.colorSource.color;\n    const styler = new sliderStyle(color);\n    var bottomClass;\n    if(this.props.currentPanel < 1){\n      bottomClass = 'bottom2';\n    } else {\n      bottomClass = 'bottom3';\n    }\n\n    const hue = (\n      <ColorSlider\n        key='hue'\n        aspect='hue'\n        color={color}\n        max={360}\n        step={1}\n        row={'top'}\n        handleColorChange={this.handleColorChange}\n        style={styler.getStyle('h')}\n      />\n    )\n    const sat = (\n      <ColorSlider\n        key='sat'\n        aspect='sat'\n        color={color}\n        max={100}\n        step={1}\n        row={bottomClass}\n        handleColorChange={this.handleColorChange}\n        style={styler.getStyle('s')}\n      />);\n    const light = (\n      <ColorSlider\n        key='light'\n        aspect='light'\n        color={color}\n        max={100}\n        step={1}\n        row={bottomClass}\n        handleColorChange={this.handleColorChange}\n        style={styler.getStyle('l')}\n      />);\n    const opacity = (\n      <ColorSlider\n        key='opacity'\n        aspect='opacity'\n        color={color}\n        max={1}\n        step={.1}\n        row={bottomClass}\n        handleColorChange={this.handleColorChange}\n        style={styler.getStyle('a')}\n      />);\n    const topRow = hue\n    const bottomRow = [sat, light]\n    if(this.props.opacity){\n      bottomRow.push(opacity);\n    }\n\n    return (\n      <div id='color-panel'>\n        <div className=\"row\">{topRow}</div>\n        <div className=\"row\">{bottomRow}</div>\n      </div>\n    )\n  }\n}\n\nfunction sliderStyle(color) {\n  this.h = color.hue;\n  this.s = color.sat;\n  this.l = color.light;\n  this.a = color.opacity;\n\n  this.makeString = function(qual) {\n    var lin = \"linear-gradient(to right, \";\n    const stopPoints = ['0%, ','17%, ','33%, ','50%, ','67%, ','83%, ','100%'];\n    var left = 'hsla(';\n    var right;\n    var max;\n\n    if(qual === 'h') {\n      right = ', ' + this.s + '%, '+ this.l + '%, ' + this.a + ')';\n      max = 360;\n    } else if(qual === 's') {\n      left += this.h +', ';\n      right = '%, ' + this.l + '%, ' + this.a + ')';\n      max = 100;\n    } else if(qual === 'l') {\n      left += this.h +', ' + this.s + '%, ';\n      right = '%, ' + this.a + ')';\n      max = 100;\n    } else if(qual === 'a') {\n      left += this.h +', ' + this.s + '%, ' + this.l + '%, ';\n      right =')';\n      max = 1;\n    } else {\n      alert('invalid input');\n      return 1;\n    }\n\n    const inc = max / 6\n    var x = 0;\n    var point;\n    for(point of stopPoints) {\n      let hsla = left + x + right + ' ' + point;\n      lin += hsla;\n      x += inc;\n      if(x === max) {\n        x = 0;\n      }\n    }\n    lin += ')';\n\n    return lin;\n  }\n\n  this.getStyle = function(qual,width) {\n    return {\n      background: this.makeString(qual)\n    };\n  }\n}\n","import React from 'react';\nimport { makeHeader } from './helpers.js';\nimport './plusMinus.css';\n\nexport class PlusMinus extends React.Component {\n  constructor(props) {\n    super(props);\n    this.input = React.createRef()\n  }\n\n\n  buttonChange(e) {\n    const input = this.input.current\n\n    var inc = parseInt(e.target.getAttribute('data-change'));\n    var oldVar = parseInt(input.value);\n    if(this.props.preventNegative) {\n      if(oldVar > 1 || inc > 0) {\n        input.value = inc + oldVar;\n      }\n    } else {\n      input.value = inc + oldVar;\n    }\n\n    const aspect = input.getAttribute('data-aspect');\n    this.props.handleLineChange(parseInt(input.value), aspect);\n  }\n\n  inputChange(e) {\n    const input = e.target;\n    const value = input.value;\n    const aspect = input.getAttribute('data-aspect');\n    const allowed_chars = ['0','1','2','3','4','5','6','7','8','9'];\n    if(!this.props.preventNegative) {\n      allowed_chars.push('-');\n    }\n    var endValue = ''\n\n    console.log('inputChange for ' + this.props.aspect);\n    console.log('value: ' + value);\n\n    if(value === '') {\n      this.props.handleLineChange(value, aspect);\n    }\n    // scrub for invalid chars\n    var i;\n    for(i = 0; i < value.length; i++) {\n      var char = value.charAt(i);\n      //console.log('char: ' + char);\n      //console.log(allowed_chars.indexOf(char))\n      if(allowed_chars.indexOf(char) >= 0) {\n        //console.log('allowed')\n        endValue += char;\n      }\n    }\n\n    console.log('endValue: ' + endValue);\n\n    if(isNaN(parseInt(endValue))) {\n      console.log('sent string');\n      this.props.handleLineChange(endValue, aspect);\n    } else {\n      console.log('sent num');\n      this.props.handleLineChange(parseInt(endValue), aspect);\n    }\n  }\n\n  readValue(value) {\n\n    console.log('readValue for ' + this.props.aspect);\n    console.log('value: ' + value);\n\n    // allow line to be cleared\n    if(value === '' || value === '-'){\n      return value;\n    // further scrub out NaNs\n    } else if(isNaN(value)) {\n      return 0;\n    // default\n    } else {\n      return value;\n    }\n\n  }\n\n  render() {\n\n    const header = makeHeader(this.props.aspect);\n    const third = this.props.width / 4;\n\n    return (\n      <div className='pm-container'>\n        <h5>\n          {header}\n        </h5>\n        <div className='pm-bundle'>\n          <button\n            onClick={(e) => this.buttonChange(e)}\n            data-change='-1'\n            className='pmButtons border-change'\n          >\n            -\n          </button>\n          <input\n            type='text'\n            onChange={(e) => this.inputChange(e)}\n            value={this.readValue(this.props.value)}\n            data-aspect={this.props.aspect}\n            ref={this.input}\n            className='pm-input'\n          />\n          <button\n            onClick={(e) => this.buttonChange(e)}\n            data-change='1'\n            className='pmButtons border-change'\n          >\n            +\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { makeHeader } from './helpers.js';\nimport './attrSelect.css'\n\nexport class AttrSelect extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleLineChange = this.handleLineChange.bind(this);\n  }\n\n  handleLineChange(e) {\n    const target = e.target;\n    const value = target.value;\n    const aspect = target.getAttribute('data-aspect');\n\n\n    this.props.handleLineChange(value, aspect);\n  }\n\n  render() {\n\n    const header = makeHeader(this.props.aspect);\n\n\n    return (\n      <div id='selectContainer'>\n        <h5>\n          {header}\n        </h5>\n        <select\n          size={this.props.options.length}\n          value={this.props.value}\n          onChange={(e) => this.handleLineChange(e)}\n          data-aspect={this.props.aspect}\n          className='pm-select border-change'\n        >\n        {this.props.options.map(value => <option key={value[1]} value={value[1]}>{value[0]}</option>) }\n        </select>\n      </div>\n    )\n  }\n}\n","import React from 'react';\nimport { ColorPanel } from './colorPanel.js';\nimport { PlusMinus } from './plusMinus.js';\nimport { AttrSelect } from './attrSelect.js';\nimport './linePanel.css';\n\nexport class BasicPanel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleColorChange = this.handleColorChange.bind(this);\n    this.handleLineChange = this.handleLineChange.bind(this);\n  }\n\n  handleColorChange(e) {\n    this.props.handleColorChange(e);\n  }\n\n  handleLineChange(v, a) {\n    this.props.handleLineChange(v, a);\n  }\n\n\n  render() {\n    const options = [['horizontal', 'h'],\n                     ['vertical','v'],\n                     ['both', 'b']];\n\n    return (\n      <div>\n        <ColorPanel\n          width={this.props.width}\n          colorSource={this.props.line}\n          currentPanel={this.props.currentPanel}\n          opacity={true}\n          handleColorChange={(e) => this.handleColorChange(e)}\n        />\n        <div id='attribute-panel'>\n          <div className='line-panel'>\n            <PlusMinus\n              aspect='regularity'\n              handleLineChange={(v, a) => this.handleLineChange(v, a)}\n              value={this.props.line.regularity}\n              color={this.props.line.returnColor()}\n              preventNegative={true}\n            />\n            <PlusMinus\n              aspect='thickness'\n              handleLineChange={(v, a) => this.handleLineChange(v, a)}\n              value={this.props.line.thickness}\n              color={this.props.line.returnColor()}\n              preventNegative={true}\n            />\n          </div>\n          <AttrSelect\n            aspect='orientation'\n            handleLineChange={(v, a) => this.handleLineChange(v, a)}\n            value={this.props.line.orientation}\n            options={options}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n","import React from 'react';\nimport { ColorPanel } from './colorPanel.js';\nimport { PlusMinus } from './plusMinus.js';\nimport { AttrSelect } from './attrSelect.js';\nimport './topPanel.css';\n\nexport class AdvancedPanel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleLineChange = this.handleLineChange.bind(this);\n  }\n\n  handleLineChange(v, a) {\n    this.props.handleLineChange(v, a);\n  }\n\n  render() {\n\n    const options = [['solid', 'solid'], ['//', 'rightSlash'],\n                    ['\\\\\\\\', 'leftSlash'],['=', 'horizontalStripes'],\n                    ['||', 'verticalStripes'],['checker', 'checker']];\n\n    return (\n      <div>\n        <div id='attribute-panel'>\n          <div className='line-panel'>\n            <PlusMinus\n              aspect='spacing'\n              handleLineChange={(v, a) => this.handleLineChange(v, a)}\n              value={this.props.line.spacing}\n              color={this.props.line.returnColor()}\n              preventNegative={true}\n            />\n            <PlusMinus\n              aspect='lineWidth'\n              handleLineChange={(v, a) => this.handleLineChange(v, a)}\n              value={this.props.line.lineWidth}\n              color={this.props.line.returnColor()}\n              preventNegative={true}\n            />\n            <PlusMinus\n              aspect='offset-x'\n              handleLineChange={(v, a) => this.handleLineChange(v, a)}\n              value={this.props.line.offset.x}\n              color={this.props.line.returnColor()}\n              preventNegative={false}\n            />\n            <PlusMinus\n              aspect='offset-y'\n              handleLineChange={(v, a) => this.handleLineChange(v, a)}\n              value={this.props.line.offset.y}\n              color={this.props.line.returnColor()}\n              preventNegative={false}\n            />\n            <PlusMinus\n              aspect='upper-boundary'\n              handleLineChange={(v, a) => this.handleLineChange(v, a)}\n              value={this.props.line.boundary.u}\n              color={this.props.line.returnColor()}\n              preventNegative={false}\n            />\n            <PlusMinus\n              aspect='lower-boundary'\n              handleLineChange={(v, a) => this.handleLineChange(v, a)}\n              value={this.props.line.boundary.d}\n              color={this.props.line.returnColor()}\n              preventNegative={false}\n            />\n            <PlusMinus\n              aspect='left-boundary'\n              handleLineChange={(v, a) => this.handleLineChange(v, a)}\n              value={this.props.line.boundary.l}\n              color={this.props.line.returnColor()}\n              preventNegative={false}\n            />\n            <PlusMinus\n              aspect='right-boundary'\n              handleLineChange={(v, a) => this.handleLineChange(v, a)}\n              value={this.props.line.boundary.r}\n              color={this.props.line.returnColor()}\n              preventNegative={false}\n            />\n          </div>\n          <AttrSelect\n            aspect='pattern'\n            handleLineChange={(v, a) => this.handleLineChange(v, a)}\n            value={this.props.line.orientation}\n            options={options}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n","import React from 'react';\nimport { ColorPanel } from './colorPanel.js';\nimport { BasicPanel } from './basicPanel.js';\nimport { AdvancedPanel } from './advancedPanel.js';\nimport './topPanel.css';\n\nexport class TopPanel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleAddLine = this.handleAddLine.bind(this);\n    this.handleColorChange = this.handleColorChange.bind(this);\n    this.switchLine = this.switchLine.bind(this);\n  }\n\n  handleAddLine() {\n    console.log('pass topPanel')\n    const addHandler = this.props.handlers['addLine'];\n\n    addHandler();\n  }\n\n  handleColorChange(e) {\n    const colorChanger = this.props.handlers['colorChange'];\n\n    colorChanger(e);\n  }\n\n  handleLineChange(v, a) {\n    const lineChanger = this.props.handlers['lineChange'];\n\n    lineChanger(v, a);\n  }\n\n  switchLine(diff) {\n    const switchHandler = this.props.handlers['switchLine'];\n\n    switchHandler(diff);\n  }\n\n  render() {\n    var displayPanel;\n    var header\n\n    if(this.props.currentPanel === 0) {\n      header = 'Base';\n      displayPanel = (\n      <div id='top-panel'>\n        <h4\n          style={{color: this.props.panel.returnColor()}}\n        >\n          {header}\n        </h4>\n        <ColorPanel\n          width={this.props.width}\n          currentPanel={this.props.currentPanel}\n          colorSource={this.props.panel}\n          handleColorChange={(e) => this.handleColorChange(e)}\n        />\n      </div>\n      )\n    } else {\n      header = \"Line \" + this.props.currentPanel;\n      if(this.props.panel.boundTo) {\n        header += ' (bound to ' + this.props.panel.boundTo.index + ')'\n      }\n      if(this.props.panel.bindees.length > 0) {\n        header += ' binds '\n        const bindees  = this.props.panel.bindees.sort();\n        var i;\n        for (i = 0; i < bindees.length; i++) {\n          var b = bindees[i].index;\n          if(i === 0) {\n            header += b;\n          } else if(i < (bindees.length - 1)) {\n            header += ', ' + b;\n          } else {\n            header += ' & ' + b;\n          }\n        }\n      }\n\n      var attributes;\n\n      if (this.props.displayAdvanced) {\n        attributes = (\n          <AdvancedPanel\n            handleLineChange={(v, a) => this.handleLineChange(v, a)}\n            line={this.props.panel}\n            currentPanel={this.props.currentPanel}\n          />\n        )\n      } else {\n        attributes = (\n          <BasicPanel\n            handleColorChange={(e) => this.handleColorChange(e)}\n            handleLineChange={(v, a) => this.handleLineChange(v, a)}\n            line={this.props.panel}\n            currentPanel={this.props.currentPanel}\n          />\n        )\n      }\n\n      displayPanel = (\n      <div id='top-panel'>\n        <h4\n          style={{color: this.props.panel.returnColor()}}\n        >\n          {header}\n        </h4>\n        {attributes}\n      </div>\n      )\n    }\n\n    return displayPanel;\n  }\n}\n\n\n/*\n<ColorPanel\n  colorSource={this.props.panel}\n  currentPanel={this.props.currentPanel}\n  opacity={true}\n  handleColorChange={(e) => this.handleColorChange(e)}\n/>\n<AttributePanel\n  width={this.props.width}\n  handleColorChange={(e) => this.handleColorChange(e)}\n  handleLineChange={(v, a) => this.handleLineChange(v, a)}\n  line={this.props.panel}\n  currentPanel={this.props.currentPanel}\n  pattern={this.props.displayPattern}\n/>\n*/\n","// convert value from color element into string readable by fillStyle\n\n// Object constructors\nfunction returnColor(colorObj) {\n\n  return 'hsla(' + colorObj.hue + ', ' + colorObj.sat + '%, ' + colorObj.light + '%, '+ colorObj.opacity + ')';\n}\n\nexport function base() {\n  this.type = 'base';\n  this.index = '0'\n  this.color = {\n    hue: 180,\n    sat: 50,\n    light: 50,\n    opacity: 1.0\n  }\n\n  this.returnColor = function() {\n    var ret = returnColor(this.color);\n    return ret;\n  }\n\n  this.draw = function(ctx, width, height) {\n    if (this.color !== undefined) {\n      ctx.fillStyle = this.returnColor();\n      var background = new Path2D();\n      background.rect(0, 0, width, height);\n      ctx.fill(background);\n    }\n  };\n};\n\nexport function line(height, width, index) {\n  this.type='line';\n  this.index = index;\n  // attributes\n  this.color = {\n    hue: 0,\n    sat: 70,\n    light: 0,\n    opacity: 1.0\n  }\n  this.height = height;\n  this.width = width;\n  this.thickness = 10;\n  this.regularity = 1;\n  this.orientation = 'b'; // can be h for horizontal, v for vertical or b for both\n  this.pattern = 'solid';\n  this.spacing = 3; // space between iterations of the pattern\n  this.boundary = {\n    u: 0,\n    d: 0,\n    l: 0,\n    r: 0\n  }\n  this.offset = {\n    x: 0,\n    y: 0\n  };\n  this.grid = null;\n  this.lineWidth = 1;\n  this.boundTo = null;\n  this.bindees = [];\n\n  this.allowDraw = function() {\n    var reg;\n    var offX, offY, boundL, boundR, boundU, boundD\n    var checkNaNs = [this.offset.x, this.offset.y, this.boundary.l,\n      this.boundary.r, this.boundary.u, this.boundary.d, this.regularity,\n      this.thickness, this.spacing, this.lineWidth];\n    var i;\n    for(i = 0; i < checkNaNs; i++) {\n      if(isNaN(checkNaNs[i])) {\n        alert(checkNaNs[i] +' failed');\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n\n  // methods\n  this.createGrid = function() {\n\n    // will contain the latitude of horizontal lines and longitude of vertical\n    const xAxis = [];\n    const yAxis = [];\n\n\n\n    // determine where we start of end the marking\n    var xStart = 0 + this.boundary.l;\n    if(this.boundTo) {\n      xStart += this.boundTo.boundary.l;\n    }\n\n    var yStart = 0 + this.boundary.u;\n    if(this.boundTo) {\n      yStart += this.boundTo.boundary.u;\n    }\n\n    var xEnd = this.width + this.boundary.r;\n    if(this.boundTo) {\n      xEnd += this.boundTo.boundary.r;\n    }\n\n    var yEnd = this.height + this.boundary.d;\n    if(this.boundTo) {\n      yEnd += this.boundTo.boundary.d;\n    }\n\n    //console.log('X from ' + xStart + ' to ' + xEnd);\n    //console.log('Y from ' + yStart + ' to ' + yEnd);\n\n\n    // the space between ticks\n    const xGap = (xEnd - xStart) / (this.regularity + 1);\n    const yGap = (yEnd - yStart) / (this.regularity + 1);\n\n    //console.log('Gaps: X = ' + xGap +', Y = ' + yGap);\n\n\n    // mark out the ticks\n    for(let i = 0; i < this.regularity; i++) {\n\n        let xTick = ((xGap * (i + 1)) - (this.thickness / 2)) + this.offset.x + xStart;\n        let yTick = ((yGap * (i + 1)) - (this.thickness / 2)) + this.offset.y + yStart;\n\n        if(this.boundTo) {\n          xTick += this.boundTo.offset.x;\n          yTick += this.boundTo.offset.y;\n        }\n        //console.log('xTick: ' + xTick + ',yTick: ' + yTick);\n\n        xAxis.push(xTick);\n        yAxis.push(yTick);\n    }\n\n    this.grid = {\n      h: yAxis,\n      v: xAxis\n    }\n    //console.log(this.grid);\n  }\n\n  this.returnColor = function() {\n    return returnColor(this.color)\n  }\n\n  this.drawSolid = function(lineStart, side, ctx, dir) {\n\n    if(dir === 'h') {\n      ctx.fillRect(0, lineStart, side, this.thickness);\n    } else if (dir === 'v') {\n      ctx.fillRect(lineStart, 0, this.thickness, side);\n    } else {\n      alert('critical draw error: improper dir');\n    }\n  }\n\n  this.drawRightSlash = function(lineStart, side, ctx, dir) {\n\n    const iter = side / this.spacing;\n\n    for(let i = -5; i < iter + 5; i++) {\n      let startX;\n      let startY;\n      let endX;\n      let endY;\n\n      if(dir === 'h') {\n        startX = this.spacing * i;\n        startY = lineStart + this.thickness;\n        endX = startX + this.spacing;\n        endY = startY - this.thickness;\n\n      } else if(dir === 'v') {\n        startX = lineStart;\n        startY = this.spacing * (i + 1);\n        endX = startX + this.thickness;\n        endY = startY - this.spacing;\n\n      } else {\n        alert('cirtical draw error: improper ')\n      }\n\n      ctx.lineWidth = this.lineWidth;\n      ctx.strokeStyle = this.returnColor();\n\n      ctx.beginPath();\n      ctx.moveTo(startX, startY);\n      ctx.lineTo(endX, endY);\n      ctx.stroke();\n      ctx.closePath();\n    }\n  }\n\n  this.drawLeftSlash = function(lineStart, side, ctx, dir) {\n\n    const iter = side / this.spacing;\n\n    for(let i = -5; i < iter + 5; i++) {\n      let startX;\n      let startY;\n      let endX;\n      let endY;\n\n      if(dir === 'h') {\n        startX = this.spacing * i;\n        startY = lineStart;\n        endX = startX + this.spacing;\n        endY = startY + this.thickness;\n\n      } else if(dir === 'v') {\n        startX = lineStart;\n        startY = this.spacing * i;\n        endX = startX + this.thickness;\n        endY = startY + this.spacing;\n\n      } else {\n        alert('cirtical draw error: improper dir');\n      }\n\n      ctx.lineWidth = this.lineWidth;\n      ctx.strokeStyle = this.returnColor();\n\n      ctx.beginPath();\n      ctx.moveTo(startX, startY);\n      ctx.lineTo(endX, endY);\n      ctx.stroke();\n      ctx.closePath();\n    }\n  }\n\n  this.drawHorizontalStripes = function(lineStart, side, ctx, dir) {\n    var iter;\n    var setBack;\n\n    if (dir === 'h') {\n       iter = Math.floor(this.thickness / this.spacing);\n       setBack = 0;\n    } else if (dir === 'v') {\n        iter = Math.floor(side / this.spacing) + 5\n        setBack = -5;\n    } else {\n      alert('critical draw error: improper dir');\n    }\n\n    for(let i = setBack; i < iter; i++) {\n      let startX;\n      let startY;\n      let endX;\n      let endY;\n\n      if(dir === 'h') {\n        startX = 0;\n        startY = lineStart  + (i * this.spacing);\n        endX = side;\n        endY = startY;\n\n      } else if(dir === 'v') {\n        startX = lineStart;\n        startY = this.spacing * i;\n        endX = startX + this.thickness;\n        endY = startY;\n\n      } else {\n        alert('cirtical draw error: improper dir');\n      }\n\n      ctx.lineWidth = this.lineWidth;\n      ctx.strokeStyle = this.returnColor();\n\n      ctx.beginPath();\n      ctx.moveTo(startX, startY);\n      ctx.lineTo(endX, endY);\n      ctx.stroke();\n      ctx.closePath();\n\n    }\n  }\n\n  this.drawVerticalStripes = function(lineStart, side, ctx, dir) {\n    var iter;\n    var setBack;\n\n    if (dir === 'v') {\n       iter = Math.floor(this.thickness / this.spacing);\n       setBack = 0;\n    } else if (dir === 'h') {\n        iter = Math.floor(side / this.spacing) + 5\n        setBack = -5\n    } else {\n      alert('cirtical draw error: improper dir');\n    }\n\n    for(let i = setBack; i < iter; i++) {\n      let startX;\n      let startY;\n      let endX;\n      let endY;\n\n      if(dir === 'v') {\n        startX = lineStart  + (i * this.spacing);\n        startY = 0;\n        endX = startX;\n        endY = side;\n\n      } else if(dir === 'h') {\n        startX = this.spacing * i;\n        startY = lineStart;\n        endX = startX;\n        endY = startY + this.thickness;\n\n      } else {\n        alert('cirtical draw error: improper dir');\n      }\n\n      ctx.lineWidth = this.lineWidth;\n      ctx.strokeStyle = this.returnColor();\n\n      ctx.beginPath();\n      ctx.moveTo(startX, startY);\n      ctx.lineTo(endX, endY);\n      ctx.stroke();\n      ctx.closePath();\n\n    }\n  }\n\n  this.drawChecker = function(lineStart, side, ctx, dir) {\n\n    var topLeft = true;\n    var breadth = Math.floor(side / this.spacing);\n    var depth = Math.floor(this.thickness / this.spacing);\n\n    console.log(breadth, depth)\n\n    for(let i = 0; i < breadth; i++) {\n      if(topLeft) {\n        for(let j = 0; j < depth; j += 2) {\n          if(dir === 'h') {\n            let x = (i * this.spacing);\n            let y = (j * this.spacing) + lineStart;\n            ctx.fillRect(x, y, this.spacing, this.spacing)\n          } else if(dir === 'v') {\n            let x = (j * this.spacing) + lineStart;\n            let y = (i * this.spacing);\n            ctx.fillRect(x,y,this.spacing, this.spacing)\n          }\n        }\n      } else {\n        for(let j = 1; j < depth; j += 2) {\n          if(dir === 'h') {\n            let x = (i * this.spacing);\n            let y = (j * this.spacing) + lineStart;\n            ctx.fillRect(x, y, this.spacing, this.spacing)\n          } else if(dir === 'v') {\n            let x = (j * this.spacing) + lineStart;\n            let y = (i * this.spacing);\n            ctx.fillRect(x,y,this.spacing, this.spacing)\n          }\n        }\n      }\n      topLeft = !topLeft;\n    }\n  }\n\n\n  this.drawSolid = this.drawSolid.bind(this);\n  this.drawRightSlash = this.drawRightSlash.bind(this);\n  this.drawLeftSlash = this.drawLeftSlash.bind(this);\n  this.drawHorizontalStripes = this.drawHorizontalStripes.bind(this);\n  this.drawVerticalStripes = this.drawVerticalStripes.bind(this);\n  this.drawChecker = this.drawChecker.bind(this);\n\n\n  this.drawPatterns = {\n    solid: this.drawSolid,\n    rightSlash: this.drawRightSlash,\n    leftSlash: this.drawLeftSlash,\n    horizontalStripes:  this.drawHorizontalStripes,\n    verticalStripes: this.drawVerticalStripes,\n    checker: this.drawChecker\n  }\n\n  this.draw = function(ctx, width, height) {\n\n    if (this.allowDraw()){\n      this.createGrid();\n\n      ctx.save();\n      ctx.fillStyle = this.returnColor();\n\n      this.drawLines = function(dir, side, ctx) {\n        //console.log('side: ' + side);\n        //console.log('divisor: ' + (this.regularity + 1));\n\n\n        const axis = this.grid[dir];\n\n        for(let i = 0; i < axis.length; i++) {\n\n            this.drawPatterns[this.pattern](axis[i], side, ctx, dir);\n        }\n      }\n\n      this.drawLines = this.drawLines.bind(this)\n\n      if(this.orientation === 'h' || this.orientation === 'b') {\n        this.drawLines('h', height, ctx);\n      }\n\n      if(this.orientation === 'v' || this.orientation === 'b') {\n        this.drawLines('v', width, ctx);\n      }\n\n      ctx.restore();\n    } else {\n      alert('draw averted');\n      return 0;\n    }\n\n\n  };\n  //this.drawBoundaries = function(ctx, width)\n  this.draw = this.draw.bind(this);\n\n}\n","import React from 'react';\nimport './buttonPanel.css';\n\nexport function ButtonPanel(props) {\n\n  function switchPanel(e) {\n    let diff = parseInt(e.target.value)\n\n    props.switchPanel(diff);\n  }\n\n\n  function underConstruction() {\n    alert('this feature is under production');\n  }\n\n  var toggleText;\n\n  if(props.displayAdvance) {\n    toggleText = \"Basic\";\n  } else {\n    toggleText = \"Advanced\";\n  }\n\n  return (\n    <div id='button-panel'>\n      <button\n        onClick={switchPanel}\n        value = {-1}\n        id='back'\n      >\n        {'<<'}\n      </button>\n      <button\n        onClick={props.handleAddLine}\n        id='add'\n      >\n        Add\n      </button>\n      <button\n        onClick={props.handleRemoveLine}\n        id='remove'\n      >\n        Remove\n      </button>\n      <button\n        onClick={props.handleCopyLine}\n        id='copy'\n      >\n        Copy\n      </button>\n      <button\n        onClick={props.handleDisplay}\n      >\n        {toggleText}\n      </button>\n      <button\n        onClick={props.handleDownload}\n        id='download'\n      >\n        Download\n      </button>\n      <button\n        onClick={props.handleBind}\n        id='bind'\n      >\n        Bind\n      </button>\n      <button\n        onClick={switchPanel}\n        value = {1}\n        id='forward'\n      >\n        {'>>'}\n      </button>\n    </div>\n  )\n}\n","import React from 'react';\nimport './topBar.css';\n\nexport function TopBar(props) {\n  var display;\n\n  if(props.nav) {\n    display = (\n      <div id='nav-bar' class='col-12'>\n        <button\n          id='nav-bar-close'\n          class='close-button'\n          onClick={props.flip}\n        >\n          X\n        </button>\n        <div id='inner-nav'>\n          <a href='https://vkwebsite.herokuapp.com/'>Homepage</a>\n          <a href='https://vkplaid.herokuapp.com/' id='active'>Plaid Maker</a>\n          <a href='https://vkwebsite.herokuapp.com/ep_search'>Episode Picker</a>\n          <a class='hidden' id='placeholder'></a>\n        </div>\n      </div>\n    )\n  } else {\n    display = (\n      <div id='top-bar'>\n        <button\n          id='nav-bar-open'\n          onClick={props.flip}\n        >Nav Bar</button>\n        <a\n          href='https://github.com/kuertzva/Plaid-Generator'\n          id='github-link'\n        >Github</a>\n      </div>\n    )\n  }\n\n  return display;\n}\n\n// export default TopBar;\n","import React from 'react';\nimport './download.css';\n\nexport class Download extends React.Component {\n  constructor(props) {\n    super(props)\n    this.togglePreview = this.togglePreview.bind(this);\n    this.downloadImage = this.downloadImage.bind(this);\n    this.changeFormat = this.changeFormat.bind(this);\n    this.changeFilename = this.changeFilename.bind(this);\n    this.state = {\n      preview: false,\n      format: 'png',\n      filename: 'plaid'\n    };\n  }\n\n  componentDidMount() {\n    const png = document.getElementById('png');\n    png.checked = true;\n  }\n\n\n  togglePreview() {\n    this.setState((state) => ({\n      preview: !(state.preview)\n    }));\n  }\n\n  downloadImage() {\n    //alert('download triggered');\n    const canvas = document.getElementById('canvas');\n    const urlInput = 'image/' + this.state.format\n    const image = canvas.toDataURL(urlInput);\n\n    //alert(urlInput);\n\n    const link = document.createElement('a');\n    const filename = this.state.filename + '.'+ this.state.format;\n    document.body.appendChild(link);\n    link.download = filename;\n    //alert(filename);\n    link.href = image;\n    link.click();\n    document.body.removeChild(link);\n\n  }\n\n  changeFormat(e) {\n    const target = e.target;\n    const value = target.value;\n\n    this.setState({\n      format: value\n    });\n  }\n\n  changeFilename(e) {\n    const forbidden = ['<','>',':','\"','/','\\\\','|','?','*'];\n    const newString = e.target.value;\n    const lastChar = newString[newString.length - 1];\n\n    if(forbidden.indexOf(lastChar) >= 0) {\n      alert('this is not an allowed character!')\n    } else {\n      this.setState((state) => ({\n        filename: newString\n      }));\n    }\n\n  }\n\n\n\n  render() {\n\n    const formats = [['png', true], ['jpeg', false], ['bmp', false], ['webp', false]]\n\n    const radioButtons = formats.map((format) =>\n\n      <label> {format[0].charAt(0).toUpperCase() + format[0].substring(1)}\n          <input type='radio' name='radioButtons' value={format[0]}\n          id={format[0]} onChange={(e) => this.changeFormat(e)}/>\n      </label>\n\n    )\n\n    var preview;\n\n    if(this.state.preview) {\n\n      const canvas = document.getElementById('canvas');\n      const bkgd = canvas.toDataURL('image/png');\n\n      preview = (\n        <div\n          id='preview'\n          style= {{\n            backgroundImage: 'url(' + bkgd + ')'\n          }}\n        >\n          <button\n            id='close-preview'\n            class='close-button'\n            onClick={this.togglePreview}\n          > X </button>\n        </div>\n      )\n\n    } else {\n      preview = false;\n    }\n\n\n  // checked={format[1]}\n    return (\n      <div class='overlay col-12 narrow-row'>\n        {preview}\n        <button\n          id='download-close'\n          class='close-button'\n          onClick={this.props.flip}\n        >\n          X\n        </button>\n        <div id='inner-download' class='feature-box pop-up no-shadow'>\n          <h1> Download </h1>\n          <label>File Name:\n            <input\n              id='file-name'\n              type='text'\n              value={this.state.filename}\n              onChange={(e) => this.changeFilename(e)}\n            />\n          </label>\n          <div class='radio-options'>\n            {radioButtons}\n          </div>\n          <div className='button-box'>\n            <button\n              className='option-buttons'\n              id='preview-button'\n              onClick={this.togglePreview}\n            >\n              Preview\n            </button>\n            <button\n              className='option-buttons'\n              id='download-button'\n              onClick={this.downloadImage}\n            >\n              Download\n            </button>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\n//export default Download;\n","import React from 'react';\nimport './bind.css';\n\nexport function Bind(props) {\n\n  function handleBind() {\n    const radios = document.getElementsByName('lineButtons');\n    var i;\n    var found = false;\n    for (i = 0; i < radios.length; i++) {\n      if(radios[i].checked) {\n        var value = radios[i].value;\n        props.bind(value);\n        found = true;\n        props.flip();\n        break;\n      }\n    } if(!found) {\n      alert('none selected');\n    }\n\n  }\n\n  var otherLines = [];\n  var count = 1;\n\n  while(count < props.panels.length) {\n    if (count !== props.currentPanel) {\n      otherLines.push(count);\n    }\n    count++;\n  }\n\n\n  console.log(otherLines);\n\n  const lineButtons = otherLines.map((line) =>\n\n    <label> {line}\n        <input type='radio' name='lineButtons' value={line}\n        id={line} key={line}/>\n    </label>\n\n  )\n\n  var contents;\n  const bound = props.panels[props.currentPanel].boundTo;\n  if(!bound){\n    contents = (\n      <div className='feature-box pop-up no-shadow' id='bind-panel'>\n        <h1>Bind</h1>\n        <h3>Which line would you like to bind this like too?</h3>\n        <div className='radio-options'>\n          {lineButtons}\n        </div>\n        <div className='button-box'>\n          <button\n            className='option-buttons'\n            onClick={handleBind}\n          >\n            Bind\n          </button>\n        </div>\n      </div>\n    )\n  } else {\n    contents = (\n      <div className='feature-box pop-up no-shadow' id='bind-panel'>\n        <h1> Unbind this line? </h1>\n        <div className='button-box'>\n          <button\n            className='option-buttons'\n            onClick={props.unbind}\n          >\n            Unbind\n          </button>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className='overlay col-12 narrow-row'>\n      <button\n        id='bind-close'\n        className='close-button'\n        onClick={props.flip}\n      >\n        X\n      </button>\n      {contents}\n    </div>\n  )\n}\n","import React from 'react';\nimport './intro.css';\n\nfunction Intro(props) {\n  return (\n    <div id='outer-intro' className='overlay col-24 narrow-row'>\n      <div id='inner-intro' className='pop-up no-shadow'>\n        <div id='intro-text'>\n          <h1> Welcome! </h1>\n          <h2> This is my Plaid Maker</h2>\n          <p>\n            Please check it out and see what you can make. This is still a work\n            in progress. Features may still be a little buggy and more features are\n            on the way.\n          </p>\n          <p>\n            You can navigate away from this page using the link at the top left.\n          </p>\n          <h2> How this works</h2>\n          <p>\n            This project consists of a base object and a series of line objects\n            which are drawn on a canvas html element. The base is the background\n            you draw the lines against. We'll start there.\n          </p>\n          <h3>Base</h3>\n          <p>\n            For now, this is pretty simple. All the base has is a color, which\n            is defined by its hue, saturation and lightness. Now lets get to lines.\n          </p>\n          <h3>Lines</h3>\n          <p>\n            Lines also have a color, but this also has an opacity that give the\n            line the possibility of being transparent. Lines can go up, down or\n            both and I refer to this as the lines orientation. A line will repeat\n            a number of times on each relevant axis and this is called the lines\n            regularity. The lines can be moved along there axis using the offset.\n            Clicking a draging a line can be used to chang eoffset, though I'm\n            still working on making this consistent.\n          </p>\n          <p>\n            Lines can be changed to display as a number of patterns that can be\n            modified when relevant. This is accessed by clicking the pattern\n            button. You can switch lines with the buttons on the edges of the\n            patterns or by clicking them in the canvas (again, not completely\n            smooth.\n          </p>\n          <p>\n            Lines can be added, removed or copied. The bind button, when\n            implemented, will make 2 lines regularity and offset dependent on one\n            another to create more intricate patterns. The download button will\n            allow you to download your pattern as an image.\n          </p>\n          <p>\n            Have fun!\n          </p>\n        </div>\n        <div id='intro-button-container'>\n          <button onClick={props.handleClick}>\n            Plaid Time!\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Intro;\n","import React from 'react';\nimport { Canvas } from './canvas.js';\nimport { TopPanel } from './topPanel.js';\nimport { line, base } from './objects.js';\nimport { ButtonPanel } from './buttonPanel.js';\nimport { TopBar } from './topBar.js';\nimport { Download } from './download.js';\nimport { Bind } from './bind.js';\nimport Intro from './intro.js';\nimport './App.css';\n\n\nconst root = document.getElementById('root');\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleAddLine = this.handleAddLine.bind(this);\n    this.handleColorChange = this.handleColorChange.bind(this);\n    this.handleLineChange = this.handleLineChange.bind(this);\n    this.switchLine = this.switchLine.bind(this);\n    this.displayToggle = this.displayToggle.bind(this);\n    this.setSide = this.setSide.bind(this);\n    this.handleRemoveLine = this.handleRemoveLine.bind(this);\n    this.handleCopyLine = this.handleCopyLine.bind(this);\n    this.handleBind = this.handleBind.bind(this);\n    this.handleUnbind = this.handleUnbind.bind(this);\n    this.downloadToggle = this.downloadToggle.bind(this);\n    this.navToggle = this.navToggle.bind(this);\n    this.bindToggle = this.bindToggle.bind(this);\n    const rootStyle = getComputedStyle(root);\n    this.state = {\n      intro: true,\n      nav: false,\n      download: false,\n      bind: false,\n      displayAdvanced: false,\n      panels: [new base()],\n      currentPanel: 0,\n      handlers: {\n        'addLine' : this.handleAddLine,\n        'colorChange': this.handleColorChange,\n        'lineChange' : this.handleLineChange,\n        'switchLine' : this.switchLine\n      },\n      width: parseInt(rootStyle.width),\n      height: parseInt(rootStyle.height),\n      side: null\n    };\n  }\n\n  updateStyles() {\n\n    const canvas = document.getElementById('canvas');\n    const bkgd = canvas.toDataURL('image/png');\n\n    document.body.style.backgroundImage = 'url(' + bkgd + ')';\n    document.body.style.backgroundColor = this.state.panels[0].returnColor();\n\n    //root.style.background = this.state.panels[0].returnColor();\n\n    const borderChanges = document.querySelectorAll('.border-change');\n\n    let lineColor = this.state.panels[this.state.currentPanel].returnColor();\n\n    let border;\n    for(border of borderChanges) {\n      border.style.borderColor = lineColor;\n    }\n  }\n\n  componentDidMount() {\n    const canvasStyle = getComputedStyle(document.getElementById('canvas'));\n    this.setState({\n      canvasWidth: parseInt(canvasStyle.width),\n      canvasHeight: parseInt(canvasStyle.height)\n    })\n    console.log('AppDidMount')\n    console.log(this.state.canvasWidth, this.state.canvasHeight);\n\n    // styling changes\n    this.updateStyles();\n\n  }\n\n  componentDidUpdate() {\n    this.updateStyles();\n  }\n\n  setSide(side) {\n    this.setState({\n      side: side\n    })\n  }\n\n  switchLine(diff) {\n    let currentPanel = this.state.currentPanel + diff;\n\n    if(0 <= currentPanel && currentPanel < this.state.panels.length){\n      this.setState({\n        currentPanel: currentPanel\n      });\n    }\n  }\n\n  handleAddLine() {\n    console.log('add line');\n    const newPanels = this.state.panels;\n\n    newPanels.push(new line(this.state.side, this.state.side, this.state.panels.length));\n\n    this.setState({\n      panels: newPanels,\n      currentPanel: newPanels.length - 1\n    });\n  }\n\n  handleRemoveLine() {\n\n    // prevent removing base\n    if(this.state.currentPanel > 0) {\n      const current = this.state.panels[this.state.currentPanel];\n      const newPanels = this.state.panels;\n      newPanels.splice(this.state.currentPanel, 1);\n      var newCurrent = this.state.currentPanel - 1;\n\n      // check for binding\n      if(current.bindees.length > 0 || current.boundTo) {\n        alert('Please unbind before removing')\n      } else {\n        this.setState({\n          panels: newPanels,\n          currentPanel: newCurrent\n        });\n      }\n    } else {\n      alert('Cannot delete the background');\n    }\n  }\n\n  handleCopyLine() {\n    console.log('copy line');\n\n    if(this.state.currentPanel > 0) {\n      const newPanels = this.state.panels;\n      const currentLine = this.state.panels[this.state.currentPanel];\n      const copyLine = new line(this.state.side, this.state.side,this.state.panels.length);\n\n      const copyStrings = [['color','hue','sat','light','opacity'], 'height', 'width', 'thickness',\n    'regularity', 'orientation', 'pattern', 'spacing', ['offset', 'x', 'y'], 'grid',\n    'lineWidth', 'boundTo'];\n\n      var attr;\n      for(attr of copyStrings) {\n        if(Array.isArray(attr)){\n          var i;\n          for(i = 1; i < attr.length; i++) {\n            copyLine[attr[0]][attr[i]] = currentLine[attr[0]][attr[i]];\n          }\n        } else {\n          copyLine[attr] = currentLine[attr];\n        }\n      }\n\n\n      newPanels.push(copyLine);\n      this.setState({\n        currentPanel: newPanels.length - 1,\n        panels: newPanels,\n      });\n    }\n  }\n\n  handleDownload(e) {\n    const target = e.target;\n    const canvas = document.getElementById('canvas');\n    const image = canvas.toDataURL('image/jpeg');\n\n    target.href = image;\n  }\n\n  handleColorChange(e) {\n    const target = e.target;\n    const aspect = target.getAttribute('data-aspect');\n    const input = target.value;\n    var key;\n    var value;\n    var color;\n\n\n    key = 'panels';\n    value = this.state.panels;\n    color = value[this.state.currentPanel].color;\n\n\n    //alert(input, this.state.base.color.hue)\n    color[aspect] = input;\n\n    this.setState({\n      [key]: value\n    });\n  }\n\n  handleLineChange(v, a) {\n\n    const value = v\n    const aspect = a\n    const lines = this.state.panels;\n    const line = lines[this.state.currentPanel];\n\n    if (aspect.slice(0, 6) === 'offset'){\n      line[aspect.slice(0,6)][aspect.slice(7)] = value\n    } else if (aspect.slice(-8) === 'boundary'){\n      if(aspect.charAt(0) === 'l') {\n        if(aspect.charAt(1) === 'e') {\n          line[aspect.slice(-8)][aspect.charAt(0)] = value;\n        } else {\n          line[aspect.slice(-8)].d = value;\n        }\n      } else {\n        line[aspect.slice(-8)][aspect.charAt(0)] = value;\n      }\n    }else {\n      line[aspect] = value;\n    }\n\n    this.setState({\n      panels: lines\n    });\n  }\n\n  handleBind(index) {\n    const bindor = this.state.panels[index];\n    const bindee = this.state.panels[this.state.currentPanel];\n\n    bindee.boundTo = bindor;\n    bindor.bindees.push(bindee);\n\n  }\n\n  handleUnbind() {\n    const bindee = this.state.panels[this.state.currentPanel];\n    const bindor = bindee.boundTo;\n\n    bindee.boundTo = null;\n\n    var bindeeIndex = bindor.bindees.indexOf(bindee);\n    if(bindeeIndex !== -1) {\n      bindor.bindees.splice(bindeeIndex, 1);\n    }\n\n    this.bindToggle();\n\n  }\n\n  introToggle() {\n    this.setState((state) => ({\n      intro: !(state.intro)\n    }));\n  }\n\n  navToggle() {\n    this.setState((state) => ({\n      nav: !(state.nav)\n    }));\n  }\n\n  displayToggle() {\n    this.setState((state) => ({\n      displayAdvanced: !(state.displayAdvanced)\n    }));\n  }\n\n\n  downloadToggle() {\n    this.setState((state) => ({\n      download: !(state.download)\n    }));\n  }\n\n  bindToggle() {\n\n    if(this.state.currentPanel > 0){\n      if(this.state.panels.length > 2) {\n        this.setState((state) => ({\n          bind: !(state.bind)\n        }));\n      } else {\n        alert(\"Nothing to bind to!\")\n      }\n    } else {\n      alert(\"You can't bind the background!\");\n    }\n  }\n\n  render() {\n    const canvasHeight = 300;\n    var overlay;\n    if(this.state.intro){\n      overlay = <Intro handleClick={() => this.introToggle()}/>\n    } else if(this.state.download){\n      overlay = (\n        <Download\n          flip={this.downloadToggle}\n        />\n      )\n\n    } else if(this.state.bind) {\n      overlay = (\n        <Bind\n          flip={this.bindToggle}\n          bind={(i) => this.handleBind(i)}\n          unbind={() => this.handleUnbind()}\n          panels={this.state.panels}\n          currentPanel={this.state.currentPanel}\n        />\n      )\n    }else {\n      overlay = false;\n    }\n\n    return (\n      <div id='frame' className='col-12 thick-row'>\n        {overlay}\n        <TopBar\n          nav={this.state.nav}\n          flip={this.navToggle}\n        />\n        <div id='app'>\n          <Canvas\n            panels={this.state.panels}\n            currentPanel={this.state.currentPanel}\n            handleClick={this.switchLine}\n            setSide={(s) => this.setSide(s)}\n          />\n          <ButtonPanel\n            switchPanel={(d) => this.switchLine(d)}\n            handleAddLine={() => this.handleAddLine()}\n            handleRemoveLine={() => this.handleRemoveLine()}\n            handleCopyLine={() => this.handleCopyLine()}\n            handleDownload={() => this.downloadToggle()}\n            handleBind={() => this.bindToggle()}\n            handleDisplay={() => this.displayToggle()}\n            display = {this.state.displayAdvanced}\n            width={this.props.width}\n          />\n          <TopPanel\n            width={this.state.width}\n            height={this.state.height}\n            panel={this.state.panels[this.state.currentPanel]}\n            currentPanel={this.state.currentPanel}\n            handlers={this.state.handlers}\n            displayAdvanced={this.state.displayAdvanced}\n          />\n\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default App;\n\n/*\n\n*/\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}