{"version":3,"sources":["canvas.js","helpers.js","colorSlider.js","colorPanel.js","basePanel.js","plusMinus.js","attrSelect.js","attributePanel.js","patternPanel.js","linePanel.js","buttonPanel.js","topPanel.js","objects.js","App.js","serviceWorker.js","index.js"],"names":["Canvas","props","priorClick","coords","x","y","idx","dir","this","updateCanvas","ctx","refs","canvas","getContext","width","height","panels","i","length","draw","e","target","xOffset","offsetLeft","yOffset","offsetTop","v","pageX","h","pageY","lines","line","axes","grid","orientation","tick","axis","thickness","console","log","handleClick","currentPanel","offset","ref","id","className","onMouseDown","canvasClick","onMouseUp","canvasUnclick","React","Component","makeHeader","s","header","charAt","toUpperCase","ColorSlider","row","aspect","type","min","max","step","value","color","data-aspect","style","onChange","handleColorChange","ColorPanel","bind","bottomClass","colorSource","styler","sliderStyle","hue","key","getStyle","sat","light","opacity","topRow","bottomRow","push","l","a","makeString","qual","right","lin","left","alert","inc","background","BasePanel","base","PlusMinus","input","createRef","current","parseInt","getAttribute","oldVar","preventNegative","handleLineChange","onClick","buttonChange","data-change","inputChange","AttrSelect","options","map","AttributePanel","plusWidth","selectWidth","regularity","returnColor","PatternPanel","spacing","lineWidth","pattern","LinePanel","attributes","panel","ButtonPanel","switchPanel","diff","toggleText","buttonWidth","handleAddLine","togglePattern","TopPanel","switchLine","patternToggle","state","displayPattern","change","setState","addHandler","handlers","colorChanger","lineChanger","switchHandler","displayPanel","d","colorObj","undefined","fillStyle","Path2D","rect","fill","createGrid","xAxis","yAxis","xGap","yGap","xTick","yTick","drawSolid","lineStart","side","fillRect","drawRightSlash","iter","startX","startY","endX","endY","strokeStyle","beginPath","moveTo","lineTo","stroke","closePath","drawLeftSlash","drawHorizontalStripes","setBack","Math","floor","drawVerticalStripes","drawChecker","topLeft","breadth","depth","j","drawPatterns","solid","rightSlash","leftSlash","horizontalStripes","verticalStripes","checker","save","drawLines","restore","root","document","getElementById","App","rootStyle","getComputedStyle","canvasWidth","canvasHeight","bkgd","toDataURL","body","backgroundImage","pmButtons","querySelectorAll","button","lineColor","borderColor","canvasStyle","updateStyles","newPanels","isNaN","slice","Boolean","window","location","hostname","match","ReactDOM","render","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"gQAEaA,EAAb,YACE,WAAYC,GAAQ,IAAD,8BACjB,4CAAMA,KACDC,WAAa,CAChBC,OAAQ,CACNC,EAAG,EACHC,EAAG,GAELC,IAAK,KACLC,IAAK,MARU,EADrB,iFAcIC,KAAKC,iBAdT,2CAmBID,KAAKC,iBAnBT,qCA6BI,IALA,IAAMC,EAAMF,KAAKG,KAAKC,OAAOC,WAAW,MAClCC,EAAQN,KAAKP,MAAMa,MACnBC,EAASP,KAAKP,MAAMc,OACpBC,EAASR,KAAKP,MAAMe,OAElBC,EAAI,EAAGA,EAAID,EAAOE,OAAQD,IAChCD,EAAOC,GAAGE,KAAKT,EAAKI,EAAOC,KA9BjC,kCAmCcK,GAUV,IATA,IAAMR,EAASQ,EAAEC,OACXC,EAAUV,EAAOW,WACjBC,EAAUZ,EAAOa,UACjBtB,EAAS,CACbuB,EAAGN,EAAEO,MAAQL,EACbM,EAAGR,EAAES,MAAQL,GAETM,EAAQtB,KAAKP,MAAMe,OAEhBC,EAAK,EAAGA,EAAIa,EAAMZ,OAAQD,IAAK,CACtC,IAQIV,EARAwB,EAAOD,EAAMb,GAEbe,GADOD,EAAKE,UACR,GAEND,EADsB,MAArBD,EAAKG,YACC,CAAC,IAAK,KAEN,CAACH,EAAKG,aAPuB,2BAUtC,YAAYF,EAAZ,+CAAkB,CAAbzB,EAAa,QACd,IACI4B,EADAC,EAAOL,EAAKE,KAAK1B,GADP,uBAGd,YAAa6B,EAAb,+CACE,GADGD,EAAc,QACdhC,EAAOI,GAAO4B,GACjBhC,EAAOI,GAAQ4B,EAAOJ,EAAKM,UAOzB,OANAC,QAAQC,IAAI,oBACZ/B,KAAKP,MAAMuC,YAAYvB,EAAIT,KAAKP,MAAMwC,cACtCjC,KAAKN,WAAWK,IAAKA,EACrBC,KAAKN,WAAWC,OAAOC,EAAID,EAAOuB,EAClClB,KAAKN,WAAWC,OAAOE,EAAIF,EAAOyB,EAClCpB,KAAKN,WAAWI,IAAMW,GACf,EAZG,oFAVoB,mFAgCxC,OALAT,KAAKP,MAAMuC,YAAY,EAAIhC,KAAKP,MAAMwC,cACtCjC,KAAKN,WAAWK,IAAM,KACtBC,KAAKN,WAAWC,OAAOC,EAAI,EAC3BI,KAAKN,WAAWC,OAAOE,EAAI,EAC3BG,KAAKN,WAAWI,IAAM,MACf,IA7EX,oCA+EgBc,GACZ,GAA2B,OAAxBZ,KAAKN,WAAWI,IAAnB,CAIA,IAAMM,EAASQ,EAAEC,OACXC,EAAUV,EAAOW,WACjBC,EAAUZ,EAAOa,UACjBtB,EACDiB,EAAEO,MAAQL,EADTnB,EAEDiB,EAAES,MAAQL,EAGTO,EADQvB,KAAKP,MAAMe,OACNR,KAAKN,WAAWI,KAEnC,GAA2B,MAAxBE,KAAKN,WAAWK,IAAa,CAC9B,IAAImC,EAASvC,EAAWK,KAAKN,WAAWC,OAAOE,EAC/C0B,EAAKW,OAAOrC,GAAKqC,OACZ,GAA2B,MAAxBlC,KAAKN,WAAWK,IAAa,CACrC,IAAImC,EAASvC,EAAWK,KAAKN,WAAWC,OAAOC,EAC/C2B,EAAKW,OAAOtC,GAAKsC,EAGnBlC,KAAKC,eAELD,KAAKN,WAAWK,IAAM,KACtBC,KAAKN,WAAWC,OAAOC,EAAI,EAC3BI,KAAKN,WAAWC,OAAOE,EAAI,EAC3BG,KAAKN,WAAWI,IAAM,QA3G1B,+BAoHY,IAAD,OACP,OACE,4BACEqC,IAAI,SACJC,GAAG,SACH9B,MAAON,KAAKP,MAAMa,MAClBC,OAAQP,KAAKP,MAAMc,OACnB8B,UAAU,SACVC,YAAa,SAAC1B,GAAD,OAAO,EAAK2B,YAAY3B,IACrC4B,UAAW,SAAC5B,GAAD,OAAO,EAAK6B,cAAc7B,UA7H7C,GAA4B8B,IAAMC,WCF3B,SAASC,EAAWC,GAGzB,IAFA,IAAIC,EAASD,EAAEE,OAAO,GAAGC,cAEjBvC,EAAI,EAAGA,EAAIoC,EAAEnC,OAAQD,IACxBoC,EAAEE,OAAOtC,KAAOoC,EAAEE,OAAOtC,GAAGuC,gBAC7BF,GAAU,KAEZA,GAAUD,EAAEE,OAAOtC,GAGrB,OAAOqC,ECPF,SAASG,EAAYxD,GAE1B,OACE,yBAAK4C,UAAW5C,EAAMyD,KACpB,4BACGN,EAAWnD,EAAM0D,SAEpB,2BACEC,KAAK,QACLf,UAAU,eACVgB,IAAK,EACLC,IAAK7D,EAAM6D,IACXC,KAAM9D,EAAM8D,KACZC,MAAO/D,EAAMgE,MAAMhE,EAAM0D,QACzBO,cAAejE,EAAM0D,OACrBQ,MAAOlE,EAAMkE,MACbC,SAAU,SAAChD,GAAD,OAAOnB,EAAMoE,kBAAkBjD,OChB1C,IAAMkD,EAAb,YACE,WAAYrE,GAAQ,IAAD,8BACjB,4CAAMA,KACDoE,kBAAoB,EAAKA,kBAAkBE,KAAvB,gBAFR,EADrB,+EAMoBnD,GAChBZ,KAAKP,MAAMoE,kBAAkBjD,KAPjC,+BAYI,IAEIoD,EAFEP,EAAQzD,KAAKP,MAAMwE,YAAYR,MAC/BS,EAAS,IAAIC,EAAYV,GAG7BO,EADChE,KAAKP,MAAMwC,aAAe,EACb,UAEA,UAGhB,IAAMmC,EACJ,kBAACnB,EAAD,CACEoB,IAAI,MACJlB,OAAO,MACPM,MAAOA,EACPH,IAAK,IACLC,KAAM,EACNL,IAAK,MACLW,kBAAmB7D,KAAK6D,kBACxBF,MAAOO,EAAOI,SAAS,OAGrBC,EACJ,kBAACtB,EAAD,CACEoB,IAAI,MACJlB,OAAO,MACPM,MAAOA,EACPH,IAAK,IACLC,KAAM,EACNL,IAAKc,EACLH,kBAAmB7D,KAAK6D,kBACxBF,MAAOO,EAAOI,SAAS,OAErBE,EACJ,kBAACvB,EAAD,CACEoB,IAAI,QACJlB,OAAO,QACPM,MAAOA,EACPH,IAAK,IACLC,KAAM,EACNL,IAAKc,EACLH,kBAAmB7D,KAAK6D,kBACxBF,MAAOO,EAAOI,SAAS,OAErBG,EACJ,kBAACxB,EAAD,CACEoB,IAAI,UACJlB,OAAO,UACPM,MAAOA,EACPH,IAAK,EACLC,KAAM,GACNL,IAAKc,EACLH,kBAAmB7D,KAAK6D,kBACxBF,MAAOO,EAAOI,SAAS,OAErBI,EAASN,EACTO,EAAY,CAACJ,EAAKC,GAKxB,OAJGxE,KAAKP,MAAMgF,SACZE,EAAUC,KAAKH,GAIf,yBAAKpC,UAAU,iCACb,yBAAKA,UAAU,eAAeqC,GAC9B,yBAAKrC,UAAU,eAAesC,QA3EtC,GAAgCjC,IAAMC,WAiFtC,SAASwB,EAAYV,GACnBzD,KAAKoB,EAAIqC,EAAMW,IACfpE,KAAK6C,EAAIY,EAAMc,IACfvE,KAAK6E,EAAIpB,EAAMe,MACfxE,KAAK8E,EAAIrB,EAAMgB,QAEfzE,KAAK+E,WAAa,SAASC,GACzB,IAGIC,EACA3B,EAJA4B,EAAM,6BAENC,EAAO,QAIX,GAAY,MAATH,EACDC,EAAQ,KAAOjF,KAAK6C,EAAI,MAAO7C,KAAK6E,EAAI,MAAQ7E,KAAK8E,EAAI,IACzDxB,EAAM,SACD,GAAY,MAAT0B,EACRG,GAAQnF,KAAKoB,EAAG,KAChB6D,EAAQ,MAAQjF,KAAK6E,EAAI,MAAQ7E,KAAK8E,EAAI,IAC1CxB,EAAM,SACD,GAAY,MAAT0B,EACRG,GAAQnF,KAAKoB,EAAG,KAAOpB,KAAK6C,EAAI,MAChCoC,EAAQ,MAAQjF,KAAK8E,EAAI,IACzBxB,EAAM,QACD,IAAY,MAAT0B,EAMR,OADAI,MAAM,iBACC,EALPD,GAAQnF,KAAKoB,EAAG,KAAOpB,KAAK6C,EAAI,MAAQ7C,KAAK6E,EAAI,MACjDI,EAAO,IACP3B,EAAM,EASR,IAHA,IAAM+B,EAAM/B,EAAM,EACd1D,EAAI,EAER,MA5BmB,CAAC,OAAO,QAAQ,QAAQ,QAAQ,QAAQ,QAAQ,QA4BnE,eAAyB,CAEvBsF,GADWC,EAAOvF,EAAIqF,EAAQ,IADP,MAGvBrF,GAAKyF,KACI/B,IACP1D,EAAI,GAKR,OAFAsF,GAAO,KAKTlF,KAAKsE,SAAW,SAASU,EAAK1E,GAC5B,MAAO,CACLgF,WAAYtF,KAAK+E,WAAWC,KCpI3B,IAAMO,EAAb,YACE,WAAY9F,GAAQ,IAAD,8BACjB,4CAAMA,KACDoE,kBAAoB,EAAKA,kBAAkBE,KAAvB,gBAFR,EADrB,+EAMoBnD,GAEhBZ,KAAKP,MAAMoE,kBAAkBjD,KARjC,+BAWY,IAAD,OAEP,OACE,yBAAKyB,UAAU,cACb,kBAAC,EAAD,CACE/B,MAAON,KAAKP,MAAMa,MAClB2B,aAAcjC,KAAKP,MAAMwC,aACzBgC,YAAajE,KAAKP,MAAM+F,KACxB3B,kBAAmB,SAACjD,GAAD,OAAO,EAAKiD,kBAAkBjD,WAnB3D,GAA+B8B,IAAMC,WCAxB8C,EAAb,YACE,WAAYhG,GAAQ,IAAD,8BACjB,4CAAMA,KACDiG,MAAQhD,IAAMiD,YAFF,EADrB,0EAOe/E,GACX,IAAM8E,EAAQ1F,KAAK0F,MAAME,QAErBP,EAAMQ,SAASjF,EAAEC,OAAOiF,aAAa,gBACrCC,EAASF,SAASH,EAAMlC,OACzBxD,KAAKP,MAAMuG,iBACTD,EAAS,GAAKV,EAAM,KACrBK,EAAMlC,MAAQ6B,EAAMU,GAGtBL,EAAMlC,MAAQ6B,EAAMU,EAGtB,IAAM5C,EAASuC,EAAMI,aAAa,eAClC9F,KAAKP,MAAMwG,iBAAiBJ,SAASH,EAAMlC,OAAQL,KArBvD,kCAwBcvC,GACV,IAAM8E,EAAQ9E,EAAEC,OACVsC,EAASuC,EAAMI,aAAa,eAClC9F,KAAKP,MAAMwG,iBAAiBJ,SAASH,EAAMlC,OAAQL,KA3BvD,+BA8BY,IAAD,OAEDL,EAASF,EAAW5C,KAAKP,MAAM0D,QACvBnD,KAAKP,MAAMa,MAEzB,OACE,yBAAK+B,UAAU,qBACb,4BACGS,GAEH,yBAAKT,UAAU,oBACb,4BACE6D,QAAS,SAACtF,GAAD,OAAO,EAAKuF,aAAavF,IAClCwF,cAAY,KACZ/D,UAAU,aAHZ,KAOA,2BACEe,KAAK,OACLQ,SAAU,SAAChD,GAAD,OAAO,EAAKyF,YAAYzF,IAClC4C,MAAOxD,KAAKP,MAAM+D,MAClBE,cAAa1D,KAAKP,MAAM0D,OACxBhB,IAAKnC,KAAK0F,MACVrD,UAAU,aAEZ,4BACE6D,QAAS,SAACtF,GAAD,OAAO,EAAKuF,aAAavF,IAClCwF,cAAY,IACZ/D,UAAU,aAHZ,WAxDV,GAA+BK,IAAMC,WCAxB2D,EAAb,YACE,WAAY7G,GAAQ,IAAD,8BACjB,4CAAMA,KACDwG,iBAAmB,EAAKA,iBAAiBlC,KAAtB,gBAFP,EADrB,8EAMmBnD,GACf,IAAMC,EAASD,EAAEC,OACX2C,EAAQ3C,EAAO2C,MACfL,EAAStC,EAAOiF,aAAa,eAGnC9F,KAAKP,MAAMwG,iBAAiBzC,EAAOL,KAZvC,+BAeY,IAAD,OAEDL,EAASF,EAAW5C,KAAKP,MAAM0D,QAGrC,OACE,yBAAKd,UAAU,UACb,4BACGS,GAEH,4BACExC,MAAON,KAAKP,MAAMa,MAClBkD,MAAOxD,KAAKP,MAAM+D,MAClBI,SAAU,SAAChD,GAAD,OAAO,EAAKqF,iBAAiBrF,IACvC8C,cAAa1D,KAAKP,MAAM0D,OACxBd,UAAU,aAEXrC,KAAKP,MAAM8G,QAAQC,IAAI,SAAAhD,GAAK,OAAI,4BAAQa,IAAKb,EAAM,GAAIA,MAAOA,EAAM,IAAKA,EAAM,YAhCxF,GAAgCd,IAAMC,WCCzB8D,EAAb,YACE,WAAYhH,GAAQ,IAAD,8BACjB,4CAAMA,KACDwG,iBAAmB,EAAKA,iBAAiBlC,KAAtB,gBAFP,EADrB,8EAMmB7C,EAAG4D,GAClB9E,KAAKP,MAAMwG,iBAAiB/E,EAAG4D,KAPnC,+BAUY,IAAD,OAED4B,EAAY1G,KAAKP,MAAMa,MAAQ,EAC/BqG,EAAc3G,KAAKP,MAAMa,MAAQ,EAKvC,OAEE,yBAAK+B,UAAU,qBACb,yBAAKA,UAAU,wBACb,kBAAC,EAAD,CACE/B,MAAOoG,EACPvD,OAAO,aACP8C,iBAAkB,SAAC/E,EAAG4D,GAAJ,OAAU,EAAKmB,iBAAiB/E,EAAG4D,IACrDtB,MAAOxD,KAAKP,MAAM8B,KAAKqF,WACvBnD,MAAOzD,KAAKP,MAAM8B,KAAKsF,cACvBb,iBAAiB,IAEnB,kBAAC,EAAD,CACE1F,MAAOoG,EACPvD,OAAO,YACP8C,iBAAkB,SAAC/E,EAAG4D,GAAJ,OAAU,EAAKmB,iBAAiB/E,EAAG4D,IACrDtB,MAAOxD,KAAKP,MAAM8B,KAAKM,UACvB4B,MAAOzD,KAAKP,MAAM8B,KAAKsF,cACvBb,iBAAiB,IAEnB,kBAAC,EAAD,CACE1F,MAAOoG,EACPvD,OAAO,WACP8C,iBAAkB,SAAC/E,EAAG4D,GAAJ,OAAU,EAAKmB,iBAAiB/E,EAAG4D,IACrDtB,MAAOxD,KAAKP,MAAM8B,KAAKW,OAAOtC,EAC9B6D,MAAOzD,KAAKP,MAAM8B,KAAKsF,cACvBb,iBAAiB,IAEnB,kBAAC,EAAD,CACE1F,MAAOoG,EACPvD,OAAO,WACP8C,iBAAkB,SAAC/E,EAAG4D,GAAJ,OAAU,EAAKmB,iBAAiB/E,EAAG4D,IACrDtB,MAAOxD,KAAKP,MAAM8B,KAAKW,OAAOrC,EAC9B4D,MAAOzD,KAAKP,MAAM8B,KAAKsF,cACvBb,iBAAiB,KAGrB,kBAAC,EAAD,CACE1F,MAAOqG,EACPxD,OAAO,cACP8C,iBAAkB,SAAC/E,EAAG4D,GAAJ,OAAU,EAAKmB,iBAAiB/E,EAAG4D,IACrDtB,MAAOxD,KAAKP,MAAM8B,KAAKG,YACvB6E,QA9CU,CAAC,CAAC,aAAc,KACf,CAAC,WAAW,KACZ,CAAC,OAAQ,aAhB9B,GAAoC7D,IAAMC,WCA7BmE,EAAb,YACE,WAAYrH,GAAQ,IAAD,8BACjB,4CAAMA,KACDwG,iBAAmB,EAAKA,iBAAiBlC,KAAtB,gBAFP,EADrB,8EAMmB7C,EAAG4D,GAClB9E,KAAKP,MAAMwG,iBAAiB/E,EAAG4D,KAPnC,+BAUY,IAAD,OAED4B,EAAY1G,KAAKP,MAAMa,MAAQ,EAC/BqG,EAAc3G,KAAKP,MAAMa,MAAQ,EAKvC,OACE,yBAAK+B,UAAU,qBACb,yBAAKA,UAAU,wBACb,kBAAC,EAAD,CACE/B,MAAOoG,EACPvD,OAAO,UACP8C,iBAAkB,SAAC/E,EAAG4D,GAAJ,OAAU,EAAKmB,iBAAiB/E,EAAG4D,IACrDtB,MAAOxD,KAAKP,MAAM8B,KAAKwF,QACvBtD,MAAOzD,KAAKP,MAAM8B,KAAKsF,cACvBb,iBAAiB,IAEnB,kBAAC,EAAD,CACE1F,MAAOoG,EACPvD,OAAO,YACP8C,iBAAkB,SAAC/E,EAAG4D,GAAJ,OAAU,EAAKmB,iBAAiB/E,EAAG4D,IACrDtB,MAAOxD,KAAKP,MAAM8B,KAAKyF,UACvBvD,MAAOzD,KAAKP,MAAM8B,KAAKsF,cACvBb,iBAAiB,KAGrB,kBAAC,EAAD,CACE1F,MAAOqG,EACPxD,OAAO,UACP8C,iBAAkB,SAAC/E,EAAG4D,GAAJ,OAAU,EAAKmB,iBAAiB/E,EAAG4D,IACrDtB,MAAOxD,KAAKP,MAAM8B,KAAK0F,QACvBV,QA7BU,CAAC,CAAC,QAAS,SAAU,CAAC,KAAM,cAC5B,CAAC,OAAQ,aAAa,CAAC,IAAK,qBAC5B,CAAC,KAAM,mBAAmB,CAAC,UAAW,mBAhB1D,GAAkC7D,IAAMC,WCC3BuE,EAAb,YACE,WAAYzH,GAAQ,IAAD,8BACjB,4CAAMA,KACDoE,kBAAoB,EAAKA,kBAAkBE,KAAvB,gBACzB,EAAKkC,iBAAmB,EAAKA,iBAAiBlC,KAAtB,gBAHP,EADrB,+EAOoBnD,GAChBZ,KAAKP,MAAMoE,kBAAkBjD,KARjC,uCAWmBM,EAAG4D,GAClB9E,KAAKP,MAAMwG,iBAAiB/E,EAAG4D,KAZnC,+BAgBY,IAEJqC,EAFG,OAsBP,OAjBEA,EADCnH,KAAKP,MAAMwH,QAEV,kBAAC,EAAD,CACE3G,MAAON,KAAKP,MAAMa,MAClBiB,KAAMvB,KAAKP,MAAM2H,MACjBnB,iBAAkB,SAAC/E,EAAG4D,GAAJ,OAAU,EAAKmB,iBAAiB/E,EAAG4D,MAKvD,kBAAC,EAAD,CACExE,MAAON,KAAKP,MAAMa,MAClBiB,KAAMvB,KAAKP,MAAM2H,MACjBnB,iBAAkB,SAAC/E,EAAG4D,GAAJ,OAAU,EAAKmB,iBAAiB/E,EAAG4D,MAMzD,yBAAK1C,GAAG,aAAaC,UAAU,qBAC7B,kBAAC,EAAD,CACE/B,MAAON,KAAKP,MAAMa,MAClB2D,YAAajE,KAAKP,MAAM2H,MACxBnF,aAAcjC,KAAKP,MAAMwC,aACzBwC,SAAS,EACTZ,kBAAmB,SAACjD,GAAD,OAAO,EAAKiD,kBAAkBjD,MAElDuG,OA/CT,GAA+BzE,IAAMC,WCH9B,SAAS0E,EAAY5H,GAE1B,SAAS6H,EAAY1G,GACnB,IAAI2G,EAAO1B,SAASjF,EAAEC,OAAO2C,OAE7B/D,EAAM6H,YAAYC,GAGpB,IAAIC,EAGFA,EADC/H,EAAMwH,QACM,cAEA,iBAGf,IAAMQ,EAAchI,EAAMa,MAAQ,EAElC,OACE,yBAAK+B,UAAU,SAASD,GAAG,gBACzB,4BACE8D,QAASoB,EACT9D,OAAU,EACVlD,MAAOmH,EACPrF,GAAG,QAEF,MAEH,4BACE8D,QAASzG,EAAMiI,cACfpH,MAAOmH,EACPrF,GAAG,OAHL,YAOA,4BACE8D,QAASzG,EAAMkI,cACfrH,MAAOmH,EACPrF,GAAG,UAEFoF,GAEH,4BACEtB,QAASoB,EACT9D,MAAS,EACTlD,MAAOmH,EACPrF,GAAG,WAEF,OC7CF,IAAMwF,EAAb,YACE,WAAYnI,GAAQ,IAAD,8BACjB,4CAAMA,KACDiI,cAAgB,EAAKA,cAAc3D,KAAnB,gBACrB,EAAKF,kBAAoB,EAAKA,kBAAkBE,KAAvB,gBACzB,EAAK8D,WAAa,EAAKA,WAAW9D,KAAhB,gBAClB,EAAK+D,cAAgB,EAAKA,cAAc/D,KAAnB,gBACrB,EAAKgE,MAAQ,CACXC,gBAAgB,GAPD,EADrB,6EAaI,IAAIC,GAAWjI,KAAK+H,MAAMC,eAC1BlG,QAAQC,IAAIkG,GACZjI,KAAKkI,SAAS,CACZF,eAAgBC,IAElBnG,QAAQC,IAAI/B,KAAK+H,MAAMC,kBAlB3B,sCAsBIlG,QAAQC,IAAI,kBAGZoG,EAFmBnI,KAAKP,MAAM2I,SAAX,aAvBvB,wCA4BoBxH,IAGhByH,EAFqBrI,KAAKP,MAAM2I,SAAX,aAERxH,KA/BjB,uCAkCmBM,EAAG4D,IAGlBwD,EAFoBtI,KAAKP,MAAM2I,SAAX,YAERlH,EAAG4D,KArCnB,iCAwCayC,IAGTgB,EAFsBvI,KAAKP,MAAM2I,SAAX,YAERb,KA3ClB,+BA8CY,IACJiB,EACA1F,EAFG,OA4BP,OAxB+B,IAA5B9C,KAAKP,MAAMwC,cACZuG,EACE,kBAAC,EAAD,CACElI,MAAON,KAAKP,MAAMa,MAClB2B,aAAcjC,KAAKP,MAAMwC,aACzB4B,kBAAmB,SAACjD,GAAD,OAAO,EAAKiD,kBAAkBjD,IACjD4E,KAAMxF,KAAKP,MAAM2H,QAGrBtE,EAAS,SAET0F,EACE,kBAAC,EAAD,CACElI,MAAON,KAAKP,MAAMa,MAClBuD,kBAAmB,SAACjD,GAAD,OAAO,EAAKiD,kBAAkBjD,IACjDqF,iBAAkB,SAAC/E,EAAG4D,GAAJ,OAAU,EAAKmB,iBAAiB/E,EAAG4D,IACrDsC,MAAOpH,KAAKP,MAAM2H,MAClBnF,aAAcjC,KAAKP,MAAMwC,aACzBgF,QAASjH,KAAK+H,MAAMC,iBAGxBlF,EAAS,QAAU9C,KAAKP,MAAMwC,cAI9B,yBAAKI,UAAU,qBACb,kBAACgF,EAAD,CACEC,YAAa,SAACmB,GAAD,OAAO,EAAKZ,WAAWY,IACpCf,cAAe,kBAAM,EAAKA,iBAC1BT,QAASjH,KAAK+H,MAAMC,eACpBL,cAAe3H,KAAK8H,cACpBxH,MAAON,KAAKP,MAAMa,QAEpB,wBACEqD,MAAO,CAACF,MAAOzD,KAAKP,MAAM2H,MAAMP,gBAE/B/D,GAEF0F,OAxFT,GAA8B9F,IAAMC,WCFpC,SAASkE,EAAY6B,GAEnB,MAAO,QAAUA,EAAStE,IAAM,KAAOsE,EAASnE,IAAM,MAAQmE,EAASlE,MAAQ,MAAOkE,EAASjE,QAAU,IAGpG,SAASe,IACdxF,KAAKyD,MAAQ,CACXW,IAAK,IACLG,IAAK,GACLC,MAAO,GACPC,QAAS,GAGXzE,KAAK6G,YAAc,WAEjB,OADUA,EAAY7G,KAAKyD,QAI7BzD,KAAKW,KAAO,SAAST,EAAKI,EAAOC,GAC/B,QAAmBoI,IAAf3I,KAAKyD,MAAqB,CAC5BvD,EAAI0I,UAAY5I,KAAK6G,cACrB,IAAIvB,EAAa,IAAIuD,OACrBvD,EAAWwD,KAAK,EAAG,EAAGxI,EAAOC,GAC7BL,EAAI6I,KAAKzD,KAKR,SAAS/D,EAAKhB,EAAQD,GAG3BN,KAAKyD,MAAQ,CACXW,IAAK,EACLG,IAAK,GACLC,MAAO,EACPC,QAAS,GAEXzE,KAAKO,OAASA,EACdP,KAAKM,MAAQA,EACbN,KAAK6B,UAAY,GACjB7B,KAAK4G,WAAa,EAClB5G,KAAK0B,YAAc,IACnB1B,KAAKiH,QAAU,QACfjH,KAAK+G,QAAU,EACf/G,KAAKkC,OAAS,CACZtC,EAAG,EACHC,EAAG,GAELG,KAAKyB,KAAO,KACZzB,KAAKgH,UAAY,EAKjBhH,KAAKgJ,WAAa,WAEhB,IAAMC,EAAQ,GACRC,EAAQ,GAERC,EAAO7I,GAASN,KAAK4G,WAAa,GAClCwC,EAAO7I,GAAUP,KAAK4G,WAAa,GAEzC9E,QAAQC,IAAI,QAAUoH,EAAO,KAAOC,GAGpC,IAAI,IAAI3I,EAAI,EAAGA,EAAIT,KAAK4G,WAAYnG,IAAK,CAErC,IAAI4I,EAAUF,GAAQ1I,EAAI,GAAOT,KAAK6B,UAAY,EAAM7B,KAAKkC,OAAOtC,EAChE0J,EAAUF,GAAQ3I,EAAI,GAAOT,KAAK6B,UAAY,EAAM7B,KAAKkC,OAAOrC,EAEpEoJ,EAAMrE,KAAKyE,GACXH,EAAMtE,KAAK0E,GAGftJ,KAAKyB,KAAO,CACVL,EAAG8H,EACHhI,EAAG+H,GAELnH,QAAQC,IAAI/B,KAAKyB,OAGnBzB,KAAK6G,YAAc,WACjB,OAAOA,EAAY7G,KAAKyD,QAG1BzD,KAAKuJ,UAAY,SAASC,EAAWC,EAAMvJ,EAAKH,GAEnC,MAARA,EACDG,EAAIwJ,SAAS,EAAGF,EAAWC,EAAMzJ,KAAK6B,WACrB,MAAR9B,EACTG,EAAIwJ,SAASF,EAAW,EAAGxJ,KAAK6B,UAAW4H,GAE3CrE,MAAM,sCAIVpF,KAAK2J,eAAiB,SAASH,EAAWC,EAAMvJ,EAAKH,GAInD,IAFA,IAAM6J,EAAOH,EAAOzJ,KAAK+G,QAEjBtG,GAAK,EAAGA,EAAImJ,EAAO,EAAGnJ,IAAK,CACjC,IAAIoJ,OAAM,EACNC,OAAM,EACNC,OAAI,EACJC,OAAI,EAEG,MAARjK,GACD8J,EAAS7J,KAAK+G,QAAUtG,EACxBqJ,EAASN,EAAYxJ,KAAK6B,UAC1BkI,EAAOF,EAAS7J,KAAK+G,QACrBiD,EAAOF,EAAS9J,KAAK6B,WAEL,MAAR9B,GACR8J,EAASL,EACTM,EAAS9J,KAAK+G,SAAWtG,EAAI,GAC7BsJ,EAAOF,EAAS7J,KAAK6B,UACrBmI,EAAOF,EAAS9J,KAAK+G,SAGrB3B,MAAM,kCAGRlF,EAAI8G,UAAYhH,KAAKgH,UACrB9G,EAAI+J,YAAcjK,KAAK6G,cAEvB3G,EAAIgK,YACJhK,EAAIiK,OAAON,EAAQC,GACnB5J,EAAIkK,OAAOL,EAAMC,GACjB9J,EAAImK,SACJnK,EAAIoK,cAIRtK,KAAKuK,cAAgB,SAASf,EAAWC,EAAMvJ,EAAKH,GAIlD,IAFA,IAAM6J,EAAOH,EAAOzJ,KAAK+G,QAEjBtG,GAAK,EAAGA,EAAImJ,EAAO,EAAGnJ,IAAK,CACjC,IAAIoJ,OAAM,EACNC,OAAM,EACNC,OAAI,EACJC,OAAI,EAEG,MAARjK,GAED+J,EAASN,EACTO,GAFAF,EAAS7J,KAAK+G,QAAUtG,GAERT,KAAK+G,QACrBiD,EAAOF,EAAS9J,KAAK6B,WAEL,MAAR9B,GACR8J,EAASL,EACTM,EAAS9J,KAAK+G,QAAUtG,EACxBsJ,EAAOF,EAAS7J,KAAK6B,UACrBmI,EAAOF,EAAS9J,KAAK+G,SAGrB3B,MAAM,qCAGRlF,EAAI8G,UAAYhH,KAAKgH,UACrB9G,EAAI+J,YAAcjK,KAAK6G,cAEvB3G,EAAIgK,YACJhK,EAAIiK,OAAON,EAAQC,GACnB5J,EAAIkK,OAAOL,EAAMC,GACjB9J,EAAImK,SACJnK,EAAIoK,cAIRtK,KAAKwK,sBAAwB,SAAShB,EAAWC,EAAMvJ,EAAKH,GAC1D,IAAI6J,EACAa,EAEQ,MAAR1K,GACD6J,EAAOc,KAAKC,MAAM3K,KAAK6B,UAAY7B,KAAK+G,SACxC0D,EAAU,GACM,MAAR1K,GACP6J,EAAOc,KAAKC,MAAMlB,EAAOzJ,KAAK+G,SAAW,EACzC0D,GAAW,GAEbrF,MAAM,qCAGR,IAAI,IAAI3E,EAAIgK,EAAShK,EAAImJ,EAAMnJ,IAAK,CAClC,IAAIoJ,OAAM,EACNC,OAAM,EACNC,OAAI,EACJC,OAAI,EAEG,MAARjK,GACD8J,EAAS,EAETE,EAAON,EACPO,EAFAF,EAASN,EAAc/I,EAAIT,KAAK+G,SAIhB,MAARhH,GACR8J,EAASL,EACTM,EAAS9J,KAAK+G,QAAUtG,EACxBsJ,EAAOF,EAAS7J,KAAK6B,UACrBmI,EAAOF,GAGP1E,MAAM,qCAGRlF,EAAI8G,UAAYhH,KAAKgH,UACrB9G,EAAI+J,YAAcjK,KAAK6G,cAEvB3G,EAAIgK,YACJhK,EAAIiK,OAAON,EAAQC,GACnB5J,EAAIkK,OAAOL,EAAMC,GACjB9J,EAAImK,SACJnK,EAAIoK,cAKRtK,KAAK4K,oBAAsB,SAASpB,EAAWC,EAAMvJ,EAAKH,GACxD,IAAI6J,EACAa,EAEQ,MAAR1K,GACD6J,EAAOc,KAAKC,MAAM3K,KAAK6B,UAAY7B,KAAK+G,SACxC0D,EAAU,GACM,MAAR1K,GACP6J,EAAOc,KAAKC,MAAMlB,EAAOzJ,KAAK+G,SAAW,EACzC0D,GAAW,GAEbrF,MAAM,qCAGR,IAAI,IAAI3E,EAAIgK,EAAShK,EAAImJ,EAAMnJ,IAAK,CAClC,IAAIoJ,OAAM,EACNC,OAAM,EACNC,OAAI,EACJC,OAAI,EAEG,MAARjK,GAED+J,EAAS,EACTC,EAFAF,EAASL,EAAc/I,EAAIT,KAAK+G,QAGhCiD,EAAOP,GAES,MAAR1J,GAGRgK,EAFAF,EAAS7J,KAAK+G,QAAUtG,EAGxBuJ,GAFAF,EAASN,GAEOxJ,KAAK6B,WAGrBuD,MAAM,qCAGRlF,EAAI8G,UAAYhH,KAAKgH,UACrB9G,EAAI+J,YAAcjK,KAAK6G,cAEvB3G,EAAIgK,YACJhK,EAAIiK,OAAON,EAAQC,GACnB5J,EAAIkK,OAAOL,EAAMC,GACjB9J,EAAImK,SACJnK,EAAIoK,cAKRtK,KAAK6K,YAAc,SAASrB,EAAWC,EAAMvJ,EAAKH,GAEhD,IAAI+K,GAAU,EACVC,EAAUL,KAAKC,MAAMlB,EAAOzJ,KAAK+G,SACjCiE,EAAQN,KAAKC,MAAM3K,KAAK6B,UAAY7B,KAAK+G,SAE7CjF,QAAQC,IAAIgJ,EAASC,GAErB,IAAI,IAAIvK,EAAI,EAAGA,EAAIsK,EAAStK,IAAK,CAC/B,GAAGqK,GACD,IAAI,IAAIG,EAAI,EAAGA,EAAID,EAAOC,GAAK,EAC7B,GAAW,MAARlL,EAAa,CACd,IAAIH,EAAKa,EAAIT,KAAK+G,QACdlH,EAAKoL,EAAIjL,KAAK+G,QAAWyC,EAC7BtJ,EAAIwJ,SAAS9J,EAAGC,EAAGG,KAAK+G,QAAS/G,KAAK+G,cACjC,GAAW,MAARhH,EAAa,CACrB,IAAIH,EAAKqL,EAAIjL,KAAK+G,QAAWyC,EACzB3J,EAAKY,EAAIT,KAAK+G,QAClB7G,EAAIwJ,SAAS9J,EAAEC,EAAEG,KAAK+G,QAAS/G,KAAK+G,eAIxC,IAAI,IAAIkE,EAAI,EAAGA,EAAID,EAAOC,GAAK,EAC7B,GAAW,MAARlL,EAAa,CACd,IAAIH,EAAKa,EAAIT,KAAK+G,QACdlH,EAAKoL,EAAIjL,KAAK+G,QAAWyC,EAC7BtJ,EAAIwJ,SAAS9J,EAAGC,EAAGG,KAAK+G,QAAS/G,KAAK+G,cACjC,GAAW,MAARhH,EAAa,CACrB,IAAIH,EAAKqL,EAAIjL,KAAK+G,QAAWyC,EACzB3J,EAAKY,EAAIT,KAAK+G,QAClB7G,EAAIwJ,SAAS9J,EAAEC,EAAEG,KAAK+G,QAAS/G,KAAK+G,SAI1C+D,GAAWA,IAKf9K,KAAKuJ,UAAYvJ,KAAKuJ,UAAUxF,KAAK/D,MACrCA,KAAK2J,eAAiB3J,KAAK2J,eAAe5F,KAAK/D,MAC/CA,KAAKuK,cAAgBvK,KAAKuK,cAAcxG,KAAK/D,MAC7CA,KAAKwK,sBAAwBxK,KAAKwK,sBAAsBzG,KAAK/D,MAC7DA,KAAK4K,oBAAsB5K,KAAK4K,oBAAoB7G,KAAK/D,MACzDA,KAAK6K,YAAc7K,KAAK6K,YAAY9G,KAAK/D,MAGzCA,KAAKkL,aAAe,CAClBC,MAAOnL,KAAKuJ,UACZ6B,WAAYpL,KAAK2J,eACjB0B,UAAWrL,KAAKuK,cAChBe,kBAAoBtL,KAAKwK,sBACzBe,gBAAiBvL,KAAK4K,oBACtBY,QAASxL,KAAK6K,aAGhB7K,KAAKW,KAAO,SAAST,EAAKI,EAAOC,GAE/BP,KAAKgJ,aAEL9I,EAAIuL,OACJvL,EAAI0I,UAAY5I,KAAK6G,cAErB7G,KAAK0L,UAAY,SAAU3L,EAAK0J,EAAMvJ,GAOpC,IAFA,IAAM0B,EAAO5B,KAAKyB,KAAK1B,GAEfU,EAAI,EAAGA,EAAImB,EAAKlB,OAAQD,IAE5BT,KAAKkL,aAAalL,KAAKiH,SAASrF,EAAKnB,GAAIgJ,EAAMvJ,EAAKH,IAI1DC,KAAK0L,UAAY1L,KAAK0L,UAAU3H,KAAK/D,MAEb,MAArBA,KAAK0B,aAA4C,MAArB1B,KAAK0B,aAClC1B,KAAK0L,UAAU,IAAKnL,EAAQL,GAGN,MAArBF,KAAK0B,aAA4C,MAArB1B,KAAK0B,aAClC1B,KAAK0L,UAAU,IAAKpL,EAAOJ,GAG7BA,EAAIyL,WAEN3L,KAAKW,KAAOX,KAAKW,KAAKoD,KAAK/D,MC/V7B,IAAM4L,EAAOC,SAASC,eAAe,QAmKtBC,E,YAhKb,WAAYtM,GAAQ,IAAD,uBACjB,4CAAMA,KACDiI,cAAgB,EAAKA,cAAc3D,KAAnB,gBACrB,EAAKF,kBAAoB,EAAKA,kBAAkBE,KAAvB,gBACzB,EAAKkC,iBAAmB,EAAKA,iBAAiBlC,KAAtB,gBACxB,EAAK8D,WAAa,EAAKA,WAAW9D,KAAhB,gBAClB,IAAMiI,EAAYC,iBAAiBL,GANlB,OAOjB,EAAK7D,MAAQ,CACXvH,OAAQ,CAAC,IAAIgF,GACbvD,aAAc,EACdmG,SAAU,CACR,QAAY,EAAKV,cACjB,YAAe,EAAK7D,kBACpB,WAAe,EAAKoC,iBACpB,WAAe,EAAK4B,YAEtBvH,MAAOuF,SAASmG,EAAU1L,OAC1BC,OAAQsF,SAASmG,EAAUzL,QAC3B2L,YAAa,KACbC,aAAc,MAnBC,E,4EAyBjB,IACMC,EADSP,SAASC,eAAe,UACnBO,UAAU,aAE9BR,SAASS,KAAK3I,MAAM4I,gBAAkB,OAASH,EAAO,IAKtD,IAAMI,EAAYX,SAASY,iBAAiB,cAE5C3K,QAAQC,IAAI,cAAgByK,GAE5B,IAMIE,EANAC,EAAY3M,KAAK+H,MAAMvH,OAAOR,KAAK+H,MAAM9F,cAAc4E,cAE3D/E,QAAQC,IAAI4K,GAEZ7K,QAAQC,IAAIyK,EAAU,IAlBT,2BAqBb,IAAI,IAAJ,IAAcA,EAAd,+CAAIE,EAAqB,QACvB5K,QAAQC,IAAI,WAAa2K,GACzBA,EAAO/I,MAAMiJ,YAAcD,EAvBhB,qF,0CA8Bb,IAAME,EAAcZ,iBAAiBJ,SAASC,eAAe,WAC7D9L,KAAKkI,SAAS,CACZgE,YAAarG,SAASgH,EAAYvM,OAClC6L,aAActG,SAASgH,EAAYtM,UAIrCP,KAAK8M,iB,2CAKL9M,KAAK8M,iB,iCAGIvF,GACTzF,QAAQC,IAAIwF,GACZ,IAAItF,EAAejC,KAAK+H,MAAM9F,aAAesF,EAE1C,GAAKtF,GAAgBA,EAAejC,KAAK+H,MAAMvH,OAAOE,QACvDV,KAAKkI,SAAS,CACZjG,aAAcA,M,sCAMlBH,QAAQC,IAAI,YACZ,IAAMgL,EAAY/M,KAAK+H,MAAMvH,OAE7BuM,EAAUnI,KAAK,IAAIrD,EAAKvB,KAAK+H,MAAMmE,YAAalM,KAAK+H,MAAMoE,eAE3DnM,KAAKkI,SAAS,CACZ1H,OAAQuM,EACR9K,aAAc8K,EAAUrM,OAAS,M,wCAInBE,GAChB,IAII4C,EAJE3C,EAASD,EAAEC,OACXsC,EAAStC,EAAOiF,aAAa,eAC7BJ,EAAQ7E,EAAO2C,OAOrBA,EAAQxD,KAAK+H,MAAMvH,QACLR,KAAK+H,MAAM9F,cAAcwB,MAIjCN,GAAUuC,EAEhB1F,KAAKkI,SAAL,eARM,QASG1E,M,uCAIMtC,EAAG4D,GAElB,IAAMtB,EAAQtC,EACRiC,EAAS2B,EACTxD,EAAQtB,KAAK+H,MAAMvH,OACnBe,EAAOD,EAAMtB,KAAK+H,MAAM9F,cAEhB,eAAXkB,GAAsC,cAAXA,EACxB6J,MAAMxJ,IAAUA,EAAQ,EAC1BjC,EAAK4B,GAAU,EAEf5B,EAAK4B,GAAUK,EAEc,WAAtBL,EAAO8J,MAAM,EAAE,GACxB1L,EAAK4B,EAAO8J,MAAM,EAAE,IAAI9J,EAAO8J,MAAM,IAAMzJ,EAE3CjC,EAAK4B,GAAUK,EAGjBxD,KAAKkI,SAAS,CACZ1H,OAAQc,M,+BAMV,OACE,6BACE,kBAAC,EAAD,CACEhB,MAJe,IAKfC,OALe,IAMfC,OAAQR,KAAK+H,MAAMvH,OACnByB,aAAcjC,KAAK+H,MAAM9F,aACzBD,YAAahC,KAAK6H,aAEpB,kBAAC,EAAD,CACEvH,MAAON,KAAK+H,MAAMzH,MAClBC,OAAQP,KAAK+H,MAAMxH,OACnB6G,MAAOpH,KAAK+H,MAAMvH,OAAOR,KAAK+H,MAAM9F,cACpCA,aAAcjC,KAAK+H,MAAM9F,aACzBmG,SAAUpI,KAAK+H,MAAMK,gB,GA1Jb1F,IAAMC,WCIJuK,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DCZNC,IAASC,OAAO,kBAAC,EAAD,MAAS3B,SAASC,eAAe,SD2H3C,kBAAmB2B,WACrBA,UAAUC,cAAcC,MAAMC,KAAK,SAAAC,GACjCA,EAAaC,iB","file":"static/js/main.26efaf77.chunk.js","sourcesContent":["import React from 'react';\n\nexport class Canvas extends React.Component {\n  constructor(props) {\n    super(props);\n    this.priorClick = {\n      coords: {\n        x: 0,\n        y: 0\n      },\n      idx: null,\n      dir: null\n    }\n  }\n\n  componentDidMount() {\n    this.updateCanvas();\n  }\n\n  // may be unnecessary\n  componentDidUpdate() {\n    this.updateCanvas();\n  }\n\n\n  updateCanvas() {\n    const ctx = this.refs.canvas.getContext('2d');\n    const width = this.props.width;\n    const height = this.props.height;\n    const panels = this.props.panels;\n\n    for(var i = 0; i < panels.length; i++) {\n      panels[i].draw(ctx, width, height);\n    }\n\n  }\n\n  canvasClick(e) {\n    const canvas = e.target;\n    const xOffset = canvas.offsetLeft;\n    const yOffset = canvas.offsetTop;\n    const coords = {\n      v: e.pageX - xOffset,\n      h: e.pageY - yOffset\n    }\n    const lines = this.props.panels;\n\n    for (let i  = 1; i < lines.length; i++) {\n      let line = lines[i]\n      let grid = line.grid;\n      let axes;\n      if(line.orientation === 'b'){\n        axes = ['h', 'v'];\n      } else {\n        axes = [line.orientation];\n      }\n      var dir;\n      for (dir of axes) {\n          let axis = line.grid[dir];\n          var tick;\n          for (tick of axis) {\n            if(coords[dir] > tick &&\n            coords[dir] < (tick + line.thickness)) {\n              console.log('click registered');\n              this.props.handleClick(i - this.props.currentPanel);\n              this.priorClick.dir= dir;\n              this.priorClick.coords.x = coords.v;\n              this.priorClick.coords.y = coords.h;\n              this.priorClick.idx = i;\n              return true;\n            }\n          }\n      }\n    }\n    this.props.handleClick(0 - this.props.currentPanel);\n    this.priorClick.dir = null;\n    this.priorClick.coords.x = 0;\n    this.priorClick.coords.y = 0;\n    this.priorClick.idx = null;\n    return false;\n  }\n  canvasUnclick(e) {\n    if(this.priorClick.idx === null) {\n      return;\n    }\n\n    const canvas = e.target;\n    const xOffset = canvas.offsetLeft;\n    const yOffset = canvas.offsetTop;\n    const coords = {\n      x: e.pageX - xOffset,\n      y: e.pageY - yOffset\n    }\n    const lines = this.props.panels;\n    const line = lines[this.priorClick.idx];\n\n    if(this.priorClick.dir === 'h') {\n      let offset = coords.y - this.priorClick.coords.y;\n      line.offset.y += offset;\n    } else if(this.priorClick.dir === 'v') {\n      let offset = coords.x - this.priorClick.coords.x;\n      line.offset.x += offset;\n    }\n\n    this.updateCanvas();\n\n    this.priorClick.dir = null;\n    this.priorClick.coords.x = 0;\n    this.priorClick.coords.y = 0;\n    this.priorClick.idx = null;\n\n\n\n  }\n\n\n\n\n  render() {\n    return (\n      <canvas\n        ref='canvas'\n        id='canvas'\n        width={this.props.width}\n        height={this.props.height}\n        className='canvas'\n        onMouseDown={(e) => this.canvasClick(e)}\n        onMouseUp={(e) => this.canvasUnclick(e)}\n       />\n    )\n  }\n\n}\n","export function makeHeader(s) {\n  var header = s.charAt(0).toUpperCase();\n\n  for(let i = 1; i < s.length; i++) {\n    if(s.charAt(i) === s.charAt(i).toUpperCase()){\n      header += ' ';\n    }\n    header += s.charAt(i);\n  }\n\n  return header;\n}\n","import React from 'react';\nimport { makeHeader } from './helpers.js';\n\nexport function ColorSlider(props) {\n\n  return (\n    <div className={props.row}>\n      <h5>\n        {makeHeader(props.aspect)}\n      </h5>\n      <input\n        type='range'\n        className='color-slider'\n        min={0}\n        max={props.max}\n        step={props.step}\n        value={props.color[props.aspect]}\n        data-aspect = {props.aspect}\n        style={props.style}\n        onChange={(e) => props.handleColorChange(e)}\n      />\n    </div>\n  )\n}\n","import React from 'react';\nimport { ColorSlider } from './colorSlider.js';\n\nexport class ColorPanel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleColorChange = this.handleColorChange.bind(this);\n  }\n\n  handleColorChange(e) {\n    this.props.handleColorChange(e);\n  }\n\n  render() {\n\n    const color = this.props.colorSource.color;\n    const styler = new sliderStyle(color);\n    var bottomClass;\n    if(this.props.currentPanel < 1){\n      bottomClass = 'bottom2';\n    } else {\n      bottomClass = 'bottom3';\n    }\n\n    const hue = (\n      <ColorSlider\n        key='hue'\n        aspect='hue'\n        color={color}\n        max={360}\n        step={1}\n        row={'top'}\n        handleColorChange={this.handleColorChange}\n        style={styler.getStyle('h')}\n      />\n    )\n    const sat = (\n      <ColorSlider\n        key='sat'\n        aspect='sat'\n        color={color}\n        max={100}\n        step={1}\n        row={bottomClass}\n        handleColorChange={this.handleColorChange}\n        style={styler.getStyle('s')}\n      />);\n    const light = (\n      <ColorSlider\n        key='light'\n        aspect='light'\n        color={color}\n        max={100}\n        step={1}\n        row={bottomClass}\n        handleColorChange={this.handleColorChange}\n        style={styler.getStyle('l')}\n      />);\n    const opacity = (\n      <ColorSlider\n        key='opacity'\n        aspect='opacity'\n        color={color}\n        max={1}\n        step={.1}\n        row={bottomClass}\n        handleColorChange={this.handleColorChange}\n        style={styler.getStyle('a')}\n      />);\n    const topRow = hue\n    const bottomRow = [sat, light]\n    if(this.props.opacity){\n      bottomRow.push(opacity);\n    }\n\n    return (\n      <div className=\"v-flex panel color full-width\">\n        <div className=\"h-flex full\">{topRow}</div>\n        <div className=\"h-flex full\">{bottomRow}</div>\n      </div>\n    )\n  }\n}\n\nfunction sliderStyle(color) {\n  this.h = color.hue;\n  this.s = color.sat;\n  this.l = color.light;\n  this.a = color.opacity;\n\n  this.makeString = function(qual) {\n    var lin = \"linear-gradient(to right, \";\n    const stopPoints = ['0%, ','17%, ','33%, ','50%, ','67%, ','83%, ','100%'];\n    var left = 'hsla(';\n    var right;\n    var max;\n\n    if(qual === 'h') {\n      right = ', ' + this.s + '%, '+ this.l + '%, ' + this.a + ')';\n      max = 360;\n    } else if(qual === 's') {\n      left += this.h +', ';\n      right = '%, ' + this.l + '%, ' + this.a + ')';\n      max = 100;\n    } else if(qual === 'l') {\n      left += this.h +', ' + this.s + '%, ';\n      right = '%, ' + this.a + ')';\n      max = 100;\n    } else if(qual === 'a') {\n      left += this.h +', ' + this.s + '%, ' + this.l + '%, ';\n      right =')';\n      max = 1;\n    } else {\n      alert('invalid input');\n      return 1;\n    }\n\n    const inc = max / 6\n    var x = 0;\n    var point;\n    for(point of stopPoints) {\n      let hsla = left + x + right + ' ' + point;\n      lin += hsla;\n      x += inc;\n      if(x === max) {\n        x = 0;\n      }\n    }\n    lin += ')';\n\n    return lin;\n  }\n\n  this.getStyle = function(qual,width) {\n    return {\n      background: this.makeString(qual)\n    };\n  }\n}\n","import React from 'react';\nimport { ColorPanel } from './colorPanel.js'\n\nexport class BasePanel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleColorChange = this.handleColorChange.bind(this);\n  }\n\n  handleColorChange(e) {\n\n    this.props.handleColorChange(e);\n  }\n\n  render() {\n\n    return (\n      <div className='full-width'>\n        <ColorPanel\n          width={this.props.width}\n          currentPanel={this.props.currentPanel}\n          colorSource={this.props.base}\n          handleColorChange={(e) => this.handleColorChange(e)}\n        />\n      </div>\n    )\n  }\n}\n","import React from 'react';\nimport { makeHeader } from './helpers.js';\n\nexport class PlusMinus extends React.Component {\n  constructor(props) {\n    super(props);\n    this.input = React.createRef()\n  }\n\n\n  buttonChange(e) {\n    const input = this.input.current\n\n    var inc = parseInt(e.target.getAttribute('data-change'));\n    var oldVar = parseInt(input.value);\n    if(this.props.preventNegative) {\n      if(oldVar > 1 || inc > 0) {\n        input.value = inc + oldVar;\n      }\n    } else {\n      input.value = inc + oldVar;\n    }\n\n    const aspect = input.getAttribute('data-aspect');\n    this.props.handleLineChange(parseInt(input.value), aspect);\n  }\n\n  inputChange(e) {\n    const input = e.target;\n    const aspect = input.getAttribute('data-aspect');\n    this.props.handleLineChange(parseInt(input.value), aspect);\n  }\n\n  render() {\n\n    const header = makeHeader(this.props.aspect);\n    const third = this.props.width / 4;\n\n    return (\n      <div className='v-flex plus-minus'>\n        <h5>\n          {header}\n        </h5>\n        <div className='h-flex pm-bundle'>\n          <button\n            onClick={(e) => this.buttonChange(e)}\n            data-change='-1'\n            className='pmButtons'\n          >\n            -\n          </button>\n          <input\n            type='text'\n            onChange={(e) => this.inputChange(e)}\n            value={this.props.value}\n            data-aspect={this.props.aspect}\n            ref={this.input}\n            className='pm-input'\n          />\n          <button\n            onClick={(e) => this.buttonChange(e)}\n            data-change='1'\n            className='pmButtons'\n          >\n            +\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { makeHeader } from './helpers.js';\n\nexport class AttrSelect extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleLineChange = this.handleLineChange.bind(this);\n  }\n\n  handleLineChange(e) {\n    const target = e.target;\n    const value = target.value;\n    const aspect = target.getAttribute('data-aspect');\n\n\n    this.props.handleLineChange(value, aspect);\n  }\n\n  render() {\n\n    const header = makeHeader(this.props.aspect);\n\n\n    return (\n      <div className='v-flex'>\n        <h5>\n          {header}\n        </h5>\n        <select\n          width={this.props.width}\n          value={this.props.value}\n          onChange={(e) => this.handleLineChange(e)}\n          data-aspect={this.props.aspect}\n          className='pm-select'\n        >\n        {this.props.options.map(value => <option key={value[1]} value={value[1]}>{value[0]}</option>) }\n        </select>\n      </div>\n    )\n  }\n}\n","import React from 'react';\nimport { PlusMinus } from './plusMinus.js';\nimport { AttrSelect } from './attrSelect.js';\n\nexport class AttributePanel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleLineChange = this.handleLineChange.bind(this);\n  }\n\n  handleLineChange(v, a) {\n    this.props.handleLineChange(v, a);\n  }\n\n  render() {\n\n    const plusWidth = this.props.width / 6;\n    const selectWidth = this.props.width / 6;\n    const options = [['horizontal', 'h'],\n                     ['vertical','v'],\n                     ['both', 'b']];\n\n    return (\n\n      <div className='h-flex full-width'>\n        <div className='h-flex pm-width wrap'>\n          <PlusMinus\n            width={plusWidth}\n            aspect='regularity'\n            handleLineChange={(v, a) => this.handleLineChange(v, a)}\n            value={this.props.line.regularity}\n            color={this.props.line.returnColor()}\n            preventNegative={true}\n          />\n          <PlusMinus\n            width={plusWidth}\n            aspect='thickness'\n            handleLineChange={(v, a) => this.handleLineChange(v, a)}\n            value={this.props.line.thickness}\n            color={this.props.line.returnColor()}\n            preventNegative={true}\n          />\n          <PlusMinus\n            width={plusWidth}\n            aspect='offset-x'\n            handleLineChange={(v, a) => this.handleLineChange(v, a)}\n            value={this.props.line.offset.x}\n            color={this.props.line.returnColor()}\n            preventNegative={false}\n          />\n          <PlusMinus\n            width={plusWidth}\n            aspect='offset-y'\n            handleLineChange={(v, a) => this.handleLineChange(v, a)}\n            value={this.props.line.offset.y}\n            color={this.props.line.returnColor()}\n            preventNegative={false}\n          />\n        </div>\n        <AttrSelect\n          width={selectWidth}\n          aspect='orientation'\n          handleLineChange={(v, a) => this.handleLineChange(v, a)}\n          value={this.props.line.orientation}\n          options={options}\n        />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { PlusMinus } from './plusMinus.js';\nimport { AttrSelect } from './attrSelect.js';\n\nexport class PatternPanel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleLineChange = this.handleLineChange.bind(this);\n  }\n\n  handleLineChange(v, a) {\n    this.props.handleLineChange(v, a);\n  }\n\n  render() {\n\n    const plusWidth = this.props.width / 6;\n    const selectWidth = this.props.width / 6;\n    const options = [['solid', 'solid'], ['//', 'rightSlash'],\n                    ['\\\\\\\\', 'leftSlash'],['=', 'horizontalStripes'],\n                    ['||', 'verticalStripes'],['checker', 'checker']];\n\n    return (\n      <div className='h-flex full-width'>\n        <div className='h-flex pm-width wrap'>\n          <PlusMinus\n            width={plusWidth}\n            aspect='spacing'\n            handleLineChange={(v, a) => this.handleLineChange(v, a)}\n            value={this.props.line.spacing}\n            color={this.props.line.returnColor()}\n            preventNegative={true}\n          />\n          <PlusMinus\n            width={plusWidth}\n            aspect='lineWidth'\n            handleLineChange={(v, a) => this.handleLineChange(v, a)}\n            value={this.props.line.lineWidth}\n            color={this.props.line.returnColor()}\n            preventNegative={true}\n          />\n        </div>\n        <AttrSelect\n          width={selectWidth}\n          aspect='pattern'\n          handleLineChange={(v, a) => this.handleLineChange(v, a)}\n          value={this.props.line.pattern}\n          options={options}\n        />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { ColorPanel } from './colorPanel.js';\nimport { AttributePanel } from './attributePanel.js';\nimport { PatternPanel } from './patternPanel.js';\n\nexport class LinePanel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleColorChange = this.handleColorChange.bind(this);\n    this.handleLineChange = this.handleLineChange.bind(this);\n  }\n\n  handleColorChange(e) {\n    this.props.handleColorChange(e);\n  }\n\n  handleLineChange(v, a) {\n    this.props.handleLineChange(v, a);\n  }\n\n\n  render() {\n\n    var attributes;\n\n    if(this.props.pattern){\n      attributes = (\n        <PatternPanel\n          width={this.props.width}\n          line={this.props.panel}\n          handleLineChange={(v, a) => this.handleLineChange(v, a)}\n        />\n      )\n    } else {\n      attributes = (\n        <AttributePanel\n          width={this.props.width}\n          line={this.props.panel}\n          handleLineChange={(v, a) => this.handleLineChange(v, a)}\n        />\n      )\n    }\n\n    return (\n      <div id='line-panel' className='v-flex full-width'>\n        <ColorPanel\n          width={this.props.width}\n          colorSource={this.props.panel}\n          currentPanel={this.props.currentPanel}\n          opacity={true}\n          handleColorChange={(e) => this.handleColorChange(e)}\n        />\n        {attributes}\n      </div>\n    );\n\n  }\n}\n","import React from 'react';\n\nexport function ButtonPanel(props) {\n\n  function switchPanel(e) {\n    let diff = parseInt(e.target.value)\n\n    props.switchPanel(diff);\n  }\n\n  var toggleText;\n\n  if(props.pattern) {\n    toggleText = \"Change Line\";\n  } else {\n    toggleText = \"Change Pattern\";\n  }\n\n  const buttonWidth = props.width / 6;\n\n  return (\n    <div className='h-flex' id='button-panel'>\n      <button\n        onClick={switchPanel}\n        value = {-1}\n        width={buttonWidth}\n        id='back'\n      >\n        {'<<'}\n      </button>\n      <button\n        onClick={props.handleAddLine}\n        width={buttonWidth}\n        id='add'\n      >\n        Add Line\n      </button>\n      <button\n        onClick={props.togglePattern}\n        width={buttonWidth}\n        id='toggle'\n      >\n        {toggleText}\n      </button>\n      <button\n        onClick={switchPanel}\n        value = {1}\n        width={buttonWidth}\n        id='forward'\n      >\n        {'>>'}\n      </button>\n    </div>\n  )\n}\n","import React from 'react';\nimport { BasePanel } from './basePanel.js';\nimport { LinePanel } from './linePanel.js';\nimport { ButtonPanel } from './buttonPanel.js';\n\nexport class TopPanel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleAddLine = this.handleAddLine.bind(this);\n    this.handleColorChange = this.handleColorChange.bind(this);\n    this.switchLine = this.switchLine.bind(this);\n    this.patternToggle = this.patternToggle.bind(this);\n    this.state = {\n      displayPattern: false\n    };\n  }\n\n  patternToggle() {\n    var change = !(this.state.displayPattern);\n    console.log(change);\n    this.setState({\n      displayPattern: change\n    });\n    console.log(this.state.displayPattern);\n  }\n\n  handleAddLine() {\n    console.log('pass topPanel')\n    const addHandler = this.props.handlers['addLine'];\n\n    addHandler();\n  }\n\n  handleColorChange(e) {\n    const colorChanger = this.props.handlers['colorChange'];\n\n    colorChanger(e);\n  }\n\n  handleLineChange(v, a) {\n    const lineChanger = this.props.handlers['lineChange'];\n\n    lineChanger(v, a);\n  }\n\n  switchLine(diff) {\n    const switchHandler = this.props.handlers['switchLine'];\n\n    switchHandler(diff);\n  }\n\n  render() {\n    var displayPanel;\n    var header\n\n    if(this.props.currentPanel === 0) {\n      displayPanel = (\n        <BasePanel\n          width={this.props.width}\n          currentPanel={this.props.currentPanel}\n          handleColorChange={(e) => this.handleColorChange(e)}\n          base={this.props.panel}\n        />\n      )\n      header = 'Base';\n    } else {\n      displayPanel = (\n        <LinePanel\n          width={this.props.width}\n          handleColorChange={(e) => this.handleColorChange(e)}\n          handleLineChange={(v, a) => this.handleLineChange(v, a)}\n          panel={this.props.panel}\n          currentPanel={this.props.currentPanel}\n          pattern={this.state.displayPattern}\n        />\n      )\n      header = \"Line \" + this.props.currentPanel;\n    }\n\n    return (\n      <div className='v-flex full-width'>\n        <ButtonPanel\n          switchPanel={(d) => this.switchLine(d)}\n          handleAddLine={() => this.handleAddLine()}\n          pattern={this.state.displayPattern}\n          togglePattern={this.patternToggle}\n          width={this.props.width}\n        />\n        <h4\n          style={{color: this.props.panel.returnColor()}}\n        >\n          {header}\n        </h4>\n        {displayPanel}\n      </div>\n    )\n  }\n}\n","// convert value from color element into string readable by fillStyle\n\n// Object constructors\nfunction returnColor(colorObj) {\n\n  return 'hsla(' + colorObj.hue + ', ' + colorObj.sat + '%, ' + colorObj.light + '%, '+ colorObj.opacity + ')';\n}\n\nexport function base() {\n  this.color = {\n    hue: 180,\n    sat: 50,\n    light: 50,\n    opacity: 1.0\n  }\n\n  this.returnColor = function() {\n    var ret = returnColor(this.color);\n    return ret;\n  }\n\n  this.draw = function(ctx, width, height) {\n    if (this.color !== undefined) {\n      ctx.fillStyle = this.returnColor();\n      var background = new Path2D();\n      background.rect(0, 0, width, height);\n      ctx.fill(background);\n    }\n  };\n};\n\nexport function line(height, width) {\n\n  // attributes\n  this.color = {\n    hue: 0,\n    sat: 70,\n    light: 0,\n    opacity: 1.0\n  }\n  this.height = height;\n  this.width = width;\n  this.thickness = 10;\n  this.regularity = 1;\n  this.orientation = 'b'; // can be h for horizontal, v for vertical or b for both\n  this.pattern = 'solid';\n  this.spacing = 3; // space between iterations of the pattern\n  this.offset = {\n    x: 0,\n    y: 0\n  };\n  this.grid = null;\n  this.lineWidth = 1;\n\n\n\n  // methods\n  this.createGrid = function() {\n\n    const xAxis = [];\n    const yAxis = [];\n\n    const xGap = width / (this.regularity + 1);\n    const yGap = height / (this.regularity + 1);\n\n    console.log('gap: ' + xGap + \", \" + yGap);\n\n\n    for(let i = 0; i < this.regularity; i++) {\n\n        let xTick = ((xGap * (i + 1)) - (this.thickness / 2)) + this.offset.x;\n        let yTick = ((yGap * (i + 1)) - (this.thickness / 2)) + this.offset.y;\n\n        xAxis.push(xTick);\n        yAxis.push(yTick);\n    }\n\n    this.grid = {\n      h: yAxis,\n      v: xAxis\n    }\n    console.log(this.grid);\n  }\n\n  this.returnColor = function() {\n    return returnColor(this.color)\n  }\n\n  this.drawSolid = function(lineStart, side, ctx, dir) {\n\n    if(dir === 'h') {\n      ctx.fillRect(0, lineStart, side, this.thickness);\n    } else if (dir === 'v') {\n      ctx.fillRect(lineStart, 0, this.thickness, side);\n    } else {\n      alert('critical draw error: improper dir');\n    }\n  }\n\n  this.drawRightSlash = function(lineStart, side, ctx, dir) {\n\n    const iter = side / this.spacing;\n\n    for(let i = -5; i < iter + 5; i++) {\n      let startX;\n      let startY;\n      let endX;\n      let endY;\n\n      if(dir === 'h') {\n        startX = this.spacing * i;\n        startY = lineStart + this.thickness;\n        endX = startX + this.spacing;\n        endY = startY - this.thickness;\n\n      } else if(dir === 'v') {\n        startX = lineStart;\n        startY = this.spacing * (i + 1);\n        endX = startX + this.thickness;\n        endY = startY - this.spacing;\n\n      } else {\n        alert('cirtical draw error: improper ')\n      }\n\n      ctx.lineWidth = this.lineWidth;\n      ctx.strokeStyle = this.returnColor();\n\n      ctx.beginPath();\n      ctx.moveTo(startX, startY);\n      ctx.lineTo(endX, endY);\n      ctx.stroke();\n      ctx.closePath();\n    }\n  }\n\n  this.drawLeftSlash = function(lineStart, side, ctx, dir) {\n\n    const iter = side / this.spacing;\n\n    for(let i = -5; i < iter + 5; i++) {\n      let startX;\n      let startY;\n      let endX;\n      let endY;\n\n      if(dir === 'h') {\n        startX = this.spacing * i;\n        startY = lineStart;\n        endX = startX + this.spacing;\n        endY = startY + this.thickness;\n\n      } else if(dir === 'v') {\n        startX = lineStart;\n        startY = this.spacing * i;\n        endX = startX + this.thickness;\n        endY = startY + this.spacing;\n\n      } else {\n        alert('cirtical draw error: improper dir');\n      }\n\n      ctx.lineWidth = this.lineWidth;\n      ctx.strokeStyle = this.returnColor();\n\n      ctx.beginPath();\n      ctx.moveTo(startX, startY);\n      ctx.lineTo(endX, endY);\n      ctx.stroke();\n      ctx.closePath();\n    }\n  }\n\n  this.drawHorizontalStripes = function(lineStart, side, ctx, dir) {\n    var iter;\n    var setBack;\n\n    if (dir === 'h') {\n       iter = Math.floor(this.thickness / this.spacing);\n       setBack = 0;\n    } else if (dir === 'v') {\n        iter = Math.floor(side / this.spacing) + 5\n        setBack = -5;\n    } else {\n      alert('critical draw error: improper dir');\n    }\n\n    for(let i = setBack; i < iter; i++) {\n      let startX;\n      let startY;\n      let endX;\n      let endY;\n\n      if(dir === 'h') {\n        startX = 0;\n        startY = lineStart  + (i * this.spacing);\n        endX = side;\n        endY = startY;\n\n      } else if(dir === 'v') {\n        startX = lineStart;\n        startY = this.spacing * i;\n        endX = startX + this.thickness;\n        endY = startY;\n\n      } else {\n        alert('cirtical draw error: improper dir');\n      }\n\n      ctx.lineWidth = this.lineWidth;\n      ctx.strokeStyle = this.returnColor();\n\n      ctx.beginPath();\n      ctx.moveTo(startX, startY);\n      ctx.lineTo(endX, endY);\n      ctx.stroke();\n      ctx.closePath();\n\n    }\n  }\n\n  this.drawVerticalStripes = function(lineStart, side, ctx, dir) {\n    var iter;\n    var setBack;\n\n    if (dir === 'v') {\n       iter = Math.floor(this.thickness / this.spacing);\n       setBack = 0;\n    } else if (dir === 'h') {\n        iter = Math.floor(side / this.spacing) + 5\n        setBack = -5\n    } else {\n      alert('cirtical draw error: improper dir');\n    }\n\n    for(let i = setBack; i < iter; i++) {\n      let startX;\n      let startY;\n      let endX;\n      let endY;\n\n      if(dir === 'v') {\n        startX = lineStart  + (i * this.spacing);\n        startY = 0;\n        endX = startX;\n        endY = side;\n\n      } else if(dir === 'h') {\n        startX = this.spacing * i;\n        startY = lineStart;\n        endX = startX;\n        endY = startY + this.thickness;\n\n      } else {\n        alert('cirtical draw error: improper dir');\n      }\n\n      ctx.lineWidth = this.lineWidth;\n      ctx.strokeStyle = this.returnColor();\n\n      ctx.beginPath();\n      ctx.moveTo(startX, startY);\n      ctx.lineTo(endX, endY);\n      ctx.stroke();\n      ctx.closePath();\n\n    }\n  }\n\n  this.drawChecker = function(lineStart, side, ctx, dir) {\n\n    var topLeft = true;\n    var breadth = Math.floor(side / this.spacing);\n    var depth = Math.floor(this.thickness / this.spacing);\n\n    console.log(breadth, depth)\n\n    for(let i = 0; i < breadth; i++) {\n      if(topLeft) {\n        for(let j = 0; j < depth; j += 2) {\n          if(dir === 'h') {\n            let x = (i * this.spacing);\n            let y = (j * this.spacing) + lineStart;\n            ctx.fillRect(x, y, this.spacing, this.spacing)\n          } else if(dir === 'v') {\n            let x = (j * this.spacing) + lineStart;\n            let y = (i * this.spacing);\n            ctx.fillRect(x,y,this.spacing, this.spacing)\n          }\n        }\n      } else {\n        for(let j = 1; j < depth; j += 2) {\n          if(dir === 'h') {\n            let x = (i * this.spacing);\n            let y = (j * this.spacing) + lineStart;\n            ctx.fillRect(x, y, this.spacing, this.spacing)\n          } else if(dir === 'v') {\n            let x = (j * this.spacing) + lineStart;\n            let y = (i * this.spacing);\n            ctx.fillRect(x,y,this.spacing, this.spacing)\n          }\n        }\n      }\n      topLeft = !topLeft;\n    }\n  }\n\n\n  this.drawSolid = this.drawSolid.bind(this);\n  this.drawRightSlash = this.drawRightSlash.bind(this);\n  this.drawLeftSlash = this.drawLeftSlash.bind(this);\n  this.drawHorizontalStripes = this.drawHorizontalStripes.bind(this);\n  this.drawVerticalStripes = this.drawVerticalStripes.bind(this);\n  this.drawChecker = this.drawChecker.bind(this);\n\n\n  this.drawPatterns = {\n    solid: this.drawSolid,\n    rightSlash: this.drawRightSlash,\n    leftSlash: this.drawLeftSlash,\n    horizontalStripes:  this.drawHorizontalStripes,\n    verticalStripes: this.drawVerticalStripes,\n    checker: this.drawChecker\n  }\n\n  this.draw = function(ctx, width, height) {\n\n    this.createGrid();\n\n    ctx.save();\n    ctx.fillStyle = this.returnColor();\n\n    this.drawLines = function (dir, side, ctx) {\n      //console.log('side: ' + side);\n      //console.log('divisor: ' + (this.regularity + 1));\n\n\n      const axis = this.grid[dir];\n\n      for(let i = 0; i < axis.length; i++) {\n\n          this.drawPatterns[this.pattern](axis[i], side, ctx, dir);\n      }\n    }\n\n    this.drawLines = this.drawLines.bind(this)\n\n    if(this.orientation === 'h' || this.orientation === 'b') {\n      this.drawLines('h', height, ctx);\n    }\n\n    if(this.orientation === 'v' || this.orientation === 'b') {\n      this.drawLines('v', width, ctx);\n    }\n\n    ctx.restore();\n  };\n  this.draw = this.draw.bind(this);\n}\n","import React from 'react';\nimport { Canvas } from './canvas.js';\nimport { TopPanel } from './topPanel.js';\nimport { line, base } from './objects.js';\n\n\nconst root = document.getElementById('root');\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleAddLine = this.handleAddLine.bind(this);\n    this.handleColorChange = this.handleColorChange.bind(this);\n    this.handleLineChange = this.handleLineChange.bind(this);\n    this.switchLine = this.switchLine.bind(this);\n    const rootStyle = getComputedStyle(root);\n    this.state = {\n      panels: [new base()],\n      currentPanel: 0,\n      handlers: {\n        'addLine' : this.handleAddLine,\n        'colorChange': this.handleColorChange,\n        'lineChange' : this.handleLineChange,\n        'switchLine' : this.switchLine\n      },\n      width: parseInt(rootStyle.width),\n      height: parseInt(rootStyle.height),\n      canvasWidth: null,\n      canvasHeight: null\n    };\n  }\n\n  updateStyles() {\n\n    const canvas = document.getElementById('canvas');\n    const bkgd = canvas.toDataURL('image/png');\n\n    document.body.style.backgroundImage = 'url(' + bkgd + ')';\n\n\n    //root.style.background = this.state.panels[0].returnColor();\n\n    const pmButtons = document.querySelectorAll('.pmButtons');\n\n    console.log('pmButtons: ' + pmButtons);\n\n    let lineColor = this.state.panels[this.state.currentPanel].returnColor();\n\n    console.log(lineColor)\n\n    console.log(pmButtons[0]);\n\n    let button;\n    for(button of pmButtons) {\n      console.log(\"Button: \" + button);\n      button.style.borderColor = lineColor;\n    }\n\n\n  }\n\n  componentDidMount() {\n    const canvasStyle = getComputedStyle(document.getElementById('canvas'));\n    this.setState({\n      canvasWidth: parseInt(canvasStyle.width),\n      canvasHeight: parseInt(canvasStyle.height)\n    })\n\n    // styling changes\n    this.updateStyles();\n\n  }\n\n  componentDidUpdate() {\n    this.updateStyles();\n  }\n\n  switchLine(diff) {\n    console.log(diff);\n    let currentPanel = this.state.currentPanel + diff;\n\n    if(0 <= currentPanel && currentPanel < this.state.panels.length){\n      this.setState({\n        currentPanel: currentPanel\n      });\n    }\n  }\n\n  handleAddLine() {\n    console.log('add line');\n    const newPanels = this.state.panels;\n\n    newPanels.push(new line(this.state.canvasWidth, this.state.canvasHeight));\n\n    this.setState({\n      panels: newPanels,\n      currentPanel: newPanels.length - 1\n    });\n  }\n\n  handleColorChange(e) {\n    const target = e.target;\n    const aspect = target.getAttribute('data-aspect');\n    const input = target.value;\n    var key;\n    var value;\n    var color;\n\n\n    key = 'lines';\n    value = this.state.panels;\n    color = value[this.state.currentPanel].color;\n\n\n    //alert(input, this.state.base.color.hue)\n    color[aspect] = input;\n\n    this.setState({\n      [key]: value\n    });\n  }\n\n  handleLineChange(v, a) {\n\n    const value = v\n    const aspect = a\n    const lines = this.state.panels;\n    const line = lines[this.state.currentPanel];\n\n    if(aspect === 'regularity' || aspect === 'thickness'){\n      if (isNaN(value) || value < 1) {\n        line[aspect] = 1;\n      } else {\n        line[aspect] = value;\n      }\n    } else if (aspect.slice(0,6) === 'offset'){\n      line[aspect.slice(0,6)][aspect.slice(7)] = value\n    } else {\n      line[aspect] = value;\n    }\n\n    this.setState({\n      panels: lines\n    });\n  }\n\n  render() {\n    const canvasHeight = 300;\n    return (\n      <div>\n        <Canvas\n          width={canvasHeight}\n          height={canvasHeight}\n          panels={this.state.panels}\n          currentPanel={this.state.currentPanel}\n          handleClick={this.switchLine}\n        />\n        <TopPanel\n          width={this.state.width}\n          height={this.state.height}\n          panel={this.state.panels[this.state.currentPanel]}\n          currentPanel={this.state.currentPanel}\n          handlers={this.state.handlers}\n        />\n      </div>\n    )\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}