{"version":3,"sources":["canvas.js","helpers.js","colorSlider.js","colorPanel.js","plusMinus.js","linePanel.js","attrSelect.js","patternPanel.js","attributePanel.js","topPanel.js","objects.js","buttonPanel.js","topBar.js","download.js","intro.js","App.js","serviceWorker.js","index.js"],"names":["Canvas","props","side","priorClick","coords","x","y","idx","dir","canvas","document","getElementById","canvasContainer","getComputedStyle","getPropertyValue","ccStyle","ccWidth","parseInt","width","slice","ccHeight","height","this","setSide","updateCanvas","ctx","refs","getContext","panels","i","length","draw","e","target","xOffset","offsetLeft","yOffset","offsetTop","v","pageX","h","pageY","lines","line","axes","grid","orientation","tick","axis","thickness","console","log","handleClick","currentPanel","offset","id","ref","onMouseDown","canvasClick","onMouseUp","canvasUnclick","React","Component","makeHeader","s","header","charAt","toUpperCase","ColorSlider","className","row","aspect","type","min","max","step","value","color","data-aspect","style","onChange","handleColorChange","ColorPanel","bind","bottomClass","colorSource","styler","sliderStyle","hue","key","getStyle","sat","light","opacity","topRow","bottomRow","push","l","a","makeString","qual","right","lin","left","alert","inc","background","PlusMinus","input","createRef","current","getAttribute","oldVar","preventNegative","handleLineChange","onClick","buttonChange","data-change","inputChange","LinePanel","plusWidth","regularity","returnColor","AttrSelect","size","options","map","PatternPanel","spacing","lineWidth","AttributePanel","pmbox","select","pattern","TopPanel","handleAddLine","switchLine","addHandler","handlers","colorChanger","lineChanger","diff","switchHandler","displayPanel","panel","displayPattern","colorObj","base","undefined","fillStyle","Path2D","rect","fill","createGrid","xAxis","yAxis","xGap","yGap","xTick","yTick","drawSolid","lineStart","fillRect","drawRightSlash","iter","startX","startY","endX","endY","strokeStyle","beginPath","moveTo","lineTo","stroke","closePath","drawLeftSlash","drawHorizontalStripes","setBack","Math","floor","drawVerticalStripes","drawChecker","topLeft","breadth","depth","j","drawPatterns","solid","rightSlash","leftSlash","horizontalStripes","verticalStripes","checker","save","drawLines","restore","ButtonPanel","switchPanel","toggleText","handleRemoveLine","handleCopyLine","togglePattern","handleDownload","TopBar","nav","class","flip","href","Download","togglePreview","downloadImage","changeFormat","changeFilename","state","preview","format","filename","checked","setState","urlInput","image","toDataURL","link","createElement","body","appendChild","download","click","removeChild","newString","lastChar","indexOf","radioButtons","substring","name","bkgd","backgroundImage","Intro","root","App","patternToggle","downloadToggle","navToggle","rootStyle","intro","backgroundColor","borderChanges","querySelectorAll","lineColor","borderColor","canvasStyle","canvasWidth","canvasHeight","updateStyles","newPanels","splice","newCurrent","attr","currentLine","copyLine","Array","isArray","change","isNaN","overlay","introToggle","d","Boolean","window","location","hostname","match","ReactDOM","render","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.94ea95c6.chunk.js","sourcesContent":["import React from 'react';\nimport './canvas.css';\n\nexport class Canvas extends React.Component {\n  constructor(props) {\n    super(props);\n    this.side = null;\n    this.priorClick = {\n      coords: {\n        x: 0,\n        y: 0\n      },\n      idx: null,\n      dir: null\n    }\n  }\n\n  componentDidMount() {\n    const canvas = document.getElementById('canvas');\n    const canvasStyle = getComputedStyle(canvas);\n    const borderWidth = canvasStyle.getPropertyValue('border');\n\n    const canvasContainer = document.getElementById('canvas-container');\n    const ccStyle = getComputedStyle(canvasContainer);\n    const ccWidth = parseInt(ccStyle.width.slice(0, -2));\n    const ccHeight = parseInt(ccStyle.height.slice(0, -2));\n\n\n\n    if(ccWidth > ccHeight) {\n      this.side = ccHeight;\n    } else {\n      this.side = ccWidth;\n    }\n\n    this.props.setSide(this.side);\n\n\n    this.updateCanvas();\n  }\n\n  // may be unnecessary\n  componentDidUpdate() {\n    this.updateCanvas();\n  }\n\n\n  updateCanvas() {\n    const ctx = this.refs.canvas.getContext('2d');\n    const panels = this.props.panels;\n\n    for(var i = 0; i < panels.length; i++) {\n      panels[i].draw(ctx, this.side, this.side);\n    }\n\n  }\n\n  canvasClick(e) {\n    const canvas = e.target;\n    const xOffset = canvas.offsetLeft;\n    const yOffset = canvas.offsetTop;\n    const coords = {\n      v: e.pageX - xOffset,\n      h: e.pageY - yOffset\n    }\n    const lines = this.props.panels;\n\n    for (let i  = 1; i < lines.length; i++) {\n      let line = lines[i]\n      let grid = line.grid;\n      let axes;\n      if(line.orientation === 'b'){\n        axes = ['h', 'v'];\n      } else {\n        axes = [line.orientation];\n      }\n      var dir;\n      for (dir of axes) {\n          let axis = line.grid[dir];\n          var tick;\n          for (tick of axis) {\n            if(coords[dir] > tick &&\n            coords[dir] < (tick + line.thickness)) {\n              console.log('click registered');\n              this.props.handleClick(i - this.props.currentPanel);\n              this.priorClick.dir= dir;\n              this.priorClick.coords.x = coords.v;\n              this.priorClick.coords.y = coords.h;\n              this.priorClick.idx = i;\n              return true;\n            }\n          }\n      }\n    }\n    this.props.handleClick(0 - this.props.currentPanel);\n    this.priorClick.dir = null;\n    this.priorClick.coords.x = 0;\n    this.priorClick.coords.y = 0;\n    this.priorClick.idx = null;\n    return false;\n  }\n  canvasUnclick(e) {\n    if(this.priorClick.idx === null) {\n      return;\n    }\n\n    const canvas = e.target;\n    const xOffset = canvas.offsetLeft;\n    const yOffset = canvas.offsetTop;\n    const coords = {\n      x: e.pageX - xOffset,\n      y: e.pageY - yOffset\n    }\n    const lines = this.props.panels;\n    const line = lines[this.priorClick.idx];\n\n    if(this.priorClick.dir === 'h') {\n      let offset = coords.y - this.priorClick.coords.y;\n      line.offset.y += offset;\n    } else if(this.priorClick.dir === 'v') {\n      let offset = coords.x - this.priorClick.coords.x;\n      line.offset.x += offset;\n    }\n\n    this.updateCanvas();\n\n    this.priorClick.dir = null;\n    this.priorClick.coords.x = 0;\n    this.priorClick.coords.y = 0;\n    this.priorClick.idx = null;\n  }\n\n  render() {\n    return (\n      <div id='canvas-container'>\n        <canvas\n          ref='canvas'\n          id='canvas'\n          width={this.side}\n          height={this.side}\n          onMouseDown={(e) => this.canvasClick(e)}\n          onMouseUp={(e) => this.canvasUnclick(e)}\n         />\n      </div>\n    )\n  }\n}\n","export function makeHeader(s) {\n  var header = s.charAt(0).toUpperCase();\n\n  for(let i = 1; i < s.length; i++) {\n    if(s.charAt(i) === s.charAt(i).toUpperCase()){\n      header += ' ';\n    }\n    header += s.charAt(i);\n  }\n\n  return header;\n}\n","import React from 'react';\nimport { makeHeader } from './helpers.js';\nimport './colorSlider.css';\n\nexport function ColorSlider(props) {\n\n  return (\n    <div className={props.row}>\n      <h5>\n        {makeHeader(props.aspect)}\n      </h5>\n      <input\n        type='range'\n        className='color-slider'\n        min={0}\n        max={props.max}\n        step={props.step}\n        value={props.color[props.aspect]}\n        data-aspect = {props.aspect}\n        style={props.style}\n        onChange={(e) => props.handleColorChange(e)}\n      />\n    </div>\n  )\n}\n","import React from 'react';\nimport { ColorSlider } from './colorSlider.js';\nimport './colorPanel.css';\n\nexport class ColorPanel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleColorChange = this.handleColorChange.bind(this);\n  }\n\n  handleColorChange(e) {\n    this.props.handleColorChange(e);\n  }\n\n  render() {\n\n    const color = this.props.colorSource.color;\n    const styler = new sliderStyle(color);\n    var bottomClass;\n    if(this.props.currentPanel < 1){\n      bottomClass = 'bottom2';\n    } else {\n      bottomClass = 'bottom3';\n    }\n\n    const hue = (\n      <ColorSlider\n        key='hue'\n        aspect='hue'\n        color={color}\n        max={360}\n        step={1}\n        row={'top'}\n        handleColorChange={this.handleColorChange}\n        style={styler.getStyle('h')}\n      />\n    )\n    const sat = (\n      <ColorSlider\n        key='sat'\n        aspect='sat'\n        color={color}\n        max={100}\n        step={1}\n        row={bottomClass}\n        handleColorChange={this.handleColorChange}\n        style={styler.getStyle('s')}\n      />);\n    const light = (\n      <ColorSlider\n        key='light'\n        aspect='light'\n        color={color}\n        max={100}\n        step={1}\n        row={bottomClass}\n        handleColorChange={this.handleColorChange}\n        style={styler.getStyle('l')}\n      />);\n    const opacity = (\n      <ColorSlider\n        key='opacity'\n        aspect='opacity'\n        color={color}\n        max={1}\n        step={.1}\n        row={bottomClass}\n        handleColorChange={this.handleColorChange}\n        style={styler.getStyle('a')}\n      />);\n    const topRow = hue\n    const bottomRow = [sat, light]\n    if(this.props.opacity){\n      bottomRow.push(opacity);\n    }\n\n    return (\n      <div id='color-panel'>\n        <div className=\"row\">{topRow}</div>\n        <div className=\"row\">{bottomRow}</div>\n      </div>\n    )\n  }\n}\n\nfunction sliderStyle(color) {\n  this.h = color.hue;\n  this.s = color.sat;\n  this.l = color.light;\n  this.a = color.opacity;\n\n  this.makeString = function(qual) {\n    var lin = \"linear-gradient(to right, \";\n    const stopPoints = ['0%, ','17%, ','33%, ','50%, ','67%, ','83%, ','100%'];\n    var left = 'hsla(';\n    var right;\n    var max;\n\n    if(qual === 'h') {\n      right = ', ' + this.s + '%, '+ this.l + '%, ' + this.a + ')';\n      max = 360;\n    } else if(qual === 's') {\n      left += this.h +', ';\n      right = '%, ' + this.l + '%, ' + this.a + ')';\n      max = 100;\n    } else if(qual === 'l') {\n      left += this.h +', ' + this.s + '%, ';\n      right = '%, ' + this.a + ')';\n      max = 100;\n    } else if(qual === 'a') {\n      left += this.h +', ' + this.s + '%, ' + this.l + '%, ';\n      right =')';\n      max = 1;\n    } else {\n      alert('invalid input');\n      return 1;\n    }\n\n    const inc = max / 6\n    var x = 0;\n    var point;\n    for(point of stopPoints) {\n      let hsla = left + x + right + ' ' + point;\n      lin += hsla;\n      x += inc;\n      if(x === max) {\n        x = 0;\n      }\n    }\n    lin += ')';\n\n    return lin;\n  }\n\n  this.getStyle = function(qual,width) {\n    return {\n      background: this.makeString(qual)\n    };\n  }\n}\n","import React from 'react';\nimport { makeHeader } from './helpers.js';\nimport './plusMinus.css';\n\nexport class PlusMinus extends React.Component {\n  constructor(props) {\n    super(props);\n    this.input = React.createRef()\n  }\n\n\n  buttonChange(e) {\n    const input = this.input.current\n\n    var inc = parseInt(e.target.getAttribute('data-change'));\n    var oldVar = parseInt(input.value);\n    if(this.props.preventNegative) {\n      if(oldVar > 1 || inc > 0) {\n        input.value = inc + oldVar;\n      }\n    } else {\n      input.value = inc + oldVar;\n    }\n\n    const aspect = input.getAttribute('data-aspect');\n    this.props.handleLineChange(parseInt(input.value), aspect);\n  }\n\n  inputChange(e) {\n    const input = e.target;\n    const aspect = input.getAttribute('data-aspect');\n    this.props.handleLineChange(parseInt(input.value), aspect);\n  }\n\n  render() {\n\n    const header = makeHeader(this.props.aspect);\n    const third = this.props.width / 4;\n\n    return (\n      <div className='pm-container'>\n        <h5>\n          {header}\n        </h5>\n        <div className='pm-bundle'>\n          <button\n            onClick={(e) => this.buttonChange(e)}\n            data-change='-1'\n            className='pmButtons border-change'\n          >\n            -\n          </button>\n          <input\n            type='text'\n            onChange={(e) => this.inputChange(e)}\n            value={this.props.value}\n            data-aspect={this.props.aspect}\n            ref={this.input}\n            className='pm-input'\n          />\n          <button\n            onClick={(e) => this.buttonChange(e)}\n            data-change='1'\n            className='pmButtons border-change'\n          >\n            +\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { PlusMinus } from './plusMinus.js';\nimport './linePanel.css';\n\nexport class LinePanel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleLineChange = this.handleLineChange.bind(this);\n  }\n\n  handleLineChange(v, a) {\n    this.props.handleLineChange(v, a);\n  }\n\n  render() {\n\n    const plusWidth = this.props.width / 6;\n\n    return (\n\n      <div className='line-panel'>\n        <PlusMinus\n          width={plusWidth}\n          aspect='regularity'\n          handleLineChange={(v, a) => this.handleLineChange(v, a)}\n          value={this.props.line.regularity}\n          color={this.props.line.returnColor()}\n          preventNegative={true}\n        />\n        <PlusMinus\n          width={plusWidth}\n          aspect='thickness'\n          handleLineChange={(v, a) => this.handleLineChange(v, a)}\n          value={this.props.line.thickness}\n          color={this.props.line.returnColor()}\n          preventNegative={true}\n        />\n        <PlusMinus\n          width={plusWidth}\n          aspect='offset-x'\n          handleLineChange={(v, a) => this.handleLineChange(v, a)}\n          value={this.props.line.offset.x}\n          color={this.props.line.returnColor()}\n          preventNegative={false}\n        />\n        <PlusMinus\n          width={plusWidth}\n          aspect='offset-y'\n          handleLineChange={(v, a) => this.handleLineChange(v, a)}\n          value={this.props.line.offset.y}\n          color={this.props.line.returnColor()}\n          preventNegative={false}\n        />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { makeHeader } from './helpers.js';\nimport './attrSelect.css'\n\nexport class AttrSelect extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleLineChange = this.handleLineChange.bind(this);\n  }\n\n  handleLineChange(e) {\n    const target = e.target;\n    const value = target.value;\n    const aspect = target.getAttribute('data-aspect');\n\n\n    this.props.handleLineChange(value, aspect);\n  }\n\n  render() {\n\n    const header = makeHeader(this.props.aspect);\n\n\n    return (\n      <div id='selectContainer'>\n        <h5>\n          {header}\n        </h5>\n        <select\n          size={this.props.options.length}\n          value={this.props.value}\n          onChange={(e) => this.handleLineChange(e)}\n          data-aspect={this.props.aspect}\n          className='pm-select border-change'\n        >\n        {this.props.options.map(value => <option key={value[1]} value={value[1]}>{value[0]}</option>) }\n        </select>\n      </div>\n    )\n  }\n}\n","import React from 'react';\nimport { PlusMinus } from './plusMinus.js';\nimport { AttrSelect } from './attrSelect.js';\n\nexport class PatternPanel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleLineChange = this.handleLineChange.bind(this);\n  }\n\n  handleLineChange(v, a) {\n    this.props.handleLineChange(v, a);\n  }\n\n  render() {\n\n    const plusWidth = this.props.width / 6;\n    const selectWidth = this.props.width / 6;\n\n    return (\n      <div className='line-panel'>\n        <PlusMinus\n          width={plusWidth}\n          aspect='spacing'\n          handleLineChange={(v, a) => this.handleLineChange(v, a)}\n          value={this.props.line.spacing}\n          color={this.props.line.returnColor()}\n          preventNegative={true}\n        />\n        <PlusMinus\n          width={plusWidth}\n          aspect='lineWidth'\n          handleLineChange={(v, a) => this.handleLineChange(v, a)}\n          value={this.props.line.lineWidth}\n          color={this.props.line.returnColor()}\n          preventNegative={true}\n        />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { LinePanel } from './linePanel.js';\nimport { PatternPanel } from './patternPanel.js';\nimport { AttrSelect } from './attrSelect.js';\nimport './attributePanel.css';\n\nexport class AttributePanel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleColorChange = this.handleColorChange.bind(this);\n    this.handleLineChange = this.handleLineChange.bind(this);\n  }\n\n  handleColorChange(e) {\n    this.props.handleColorChange(e);\n  }\n\n  handleLineChange(v, a) {\n    this.props.handleLineChange(v, a);\n  }\n\n\n  render() {\n\n    var pmbox;\n    var select;\n    const selectWidth = this.props.width / 6;\n\n    if(this.props.pattern){\n      const options = [['solid', 'solid'], ['//', 'rightSlash'],\n                      ['\\\\\\\\', 'leftSlash'],['=', 'horizontalStripes'],\n                      ['||', 'verticalStripes'],['checker', 'checker']];\n\n      pmbox = (\n        <PatternPanel\n          width={this.props.width}\n          line={this.props.line}\n          handleLineChange={(v, a) => this.handleLineChange(v, a)}\n        />\n      )\n      select = (\n        <AttrSelect\n          aspect='pattern'\n          handleLineChange={(v, a) => this.handleLineChange(v, a)}\n          value={this.props.line.pattern}\n          options={options}\n        />\n      )\n    } else {\n      const options = [['horizontal', 'h'],\n                       ['vertical','v'],\n                       ['both', 'b']];\n      pmbox = (\n        <LinePanel\n          width={this.props.width}\n          line={this.props.line}\n          handleLineChange={(v, a) => this.handleLineChange(v, a)}\n        />\n      )\n      select = (\n        <AttrSelect\n          aspect='orientation'\n          handleLineChange={(v, a) => this.handleLineChange(v, a)}\n          value={this.props.line.orientation}\n          options={options}\n        />\n      )\n    }\n\n    return (\n      <div id='attribute-panel'>\n        {pmbox}\n        {select}\n      </div>\n    );\n\n  }\n}\n","import React from 'react';\nimport { ColorPanel } from './colorPanel.js'\nimport { AttributePanel } from './attributePanel.js';\nimport './topPanel.css';\n\nexport class TopPanel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleAddLine = this.handleAddLine.bind(this);\n    this.handleColorChange = this.handleColorChange.bind(this);\n    this.switchLine = this.switchLine.bind(this);\n  }\n\n  handleAddLine() {\n    console.log('pass topPanel')\n    const addHandler = this.props.handlers['addLine'];\n\n    addHandler();\n  }\n\n  handleColorChange(e) {\n    const colorChanger = this.props.handlers['colorChange'];\n\n    colorChanger(e);\n  }\n\n  handleLineChange(v, a) {\n    const lineChanger = this.props.handlers['lineChange'];\n\n    lineChanger(v, a);\n  }\n\n  switchLine(diff) {\n    const switchHandler = this.props.handlers['switchLine'];\n\n    switchHandler(diff);\n  }\n\n  render() {\n    var displayPanel;\n    var header\n\n    if(this.props.currentPanel === 0) {\n      header = 'Base';\n      displayPanel = (\n      <div id='top-panel'>\n        <h4\n          style={{color: this.props.panel.returnColor()}}\n        >\n          {header}\n        </h4>\n        <ColorPanel\n          width={this.props.width}\n          currentPanel={this.props.currentPanel}\n          colorSource={this.props.panel}\n          handleColorChange={(e) => this.handleColorChange(e)}\n        />\n      </div>\n      )\n    } else {\n      header = \"Line \" + this.props.currentPanel;\n      displayPanel = (\n      <div id='top-panel'>\n        <h4\n          style={{color: this.props.panel.returnColor()}}\n        >\n          {header}\n        </h4>\n        <ColorPanel\n          width={this.props.width}\n          colorSource={this.props.panel}\n          currentPanel={this.props.currentPanel}\n          opacity={true}\n          handleColorChange={(e) => this.handleColorChange(e)}\n        />\n        <AttributePanel\n          width={this.props.width}\n          handleColorChange={(e) => this.handleColorChange(e)}\n          handleLineChange={(v, a) => this.handleLineChange(v, a)}\n          line={this.props.panel}\n          currentPanel={this.props.currentPanel}\n          pattern={this.props.displayPattern}\n        />\n      </div>\n      )\n    }\n\n    return displayPanel;\n  }\n}\n","// convert value from color element into string readable by fillStyle\n\n// Object constructors\nfunction returnColor(colorObj) {\n\n  return 'hsla(' + colorObj.hue + ', ' + colorObj.sat + '%, ' + colorObj.light + '%, '+ colorObj.opacity + ')';\n}\n\nexport function base() {\n  this.type = 'base';\n  this.color = {\n    hue: 180,\n    sat: 50,\n    light: 50,\n    opacity: 1.0\n  }\n\n  this.returnColor = function() {\n    var ret = returnColor(this.color);\n    return ret;\n  }\n\n  this.draw = function(ctx, width, height) {\n    if (this.color !== undefined) {\n      ctx.fillStyle = this.returnColor();\n      var background = new Path2D();\n      background.rect(0, 0, width, height);\n      ctx.fill(background);\n    }\n  };\n};\n\nexport function line(height, width) {\n  this.type='line';\n\n  // attributes\n  this.color = {\n    hue: 0,\n    sat: 70,\n    light: 0,\n    opacity: 1.0\n  }\n  this.height = height;\n  this.width = width;\n  this.thickness = 10;\n  this.regularity = 1;\n  this.orientation = 'b'; // can be h for horizontal, v for vertical or b for both\n  this.pattern = 'solid';\n  this.spacing = 3; // space between iterations of the pattern\n  this.offset = {\n    x: 0,\n    y: 0\n  };\n  this.grid = null;\n  this.lineWidth = 1;\n\n\n  // methods\n  this.createGrid = function() {\n\n    const xAxis = [];\n    const yAxis = [];\n\n    const xGap = width / (this.regularity + 1);\n    const yGap = height / (this.regularity + 1);\n\n    console.log('gap: ' + xGap + \", \" + yGap);\n\n\n    for(let i = 0; i < this.regularity; i++) {\n\n        let xTick = ((xGap * (i + 1)) - (this.thickness / 2)) + this.offset.x;\n        let yTick = ((yGap * (i + 1)) - (this.thickness / 2)) + this.offset.y;\n\n        xAxis.push(xTick);\n        yAxis.push(yTick);\n    }\n\n    this.grid = {\n      h: yAxis,\n      v: xAxis\n    }\n    console.log(this.grid);\n  }\n\n  this.returnColor = function() {\n    return returnColor(this.color)\n  }\n\n  this.drawSolid = function(lineStart, side, ctx, dir) {\n\n    if(dir === 'h') {\n      ctx.fillRect(0, lineStart, side, this.thickness);\n    } else if (dir === 'v') {\n      ctx.fillRect(lineStart, 0, this.thickness, side);\n    } else {\n      alert('critical draw error: improper dir');\n    }\n  }\n\n  this.drawRightSlash = function(lineStart, side, ctx, dir) {\n\n    const iter = side / this.spacing;\n\n    for(let i = -5; i < iter + 5; i++) {\n      let startX;\n      let startY;\n      let endX;\n      let endY;\n\n      if(dir === 'h') {\n        startX = this.spacing * i;\n        startY = lineStart + this.thickness;\n        endX = startX + this.spacing;\n        endY = startY - this.thickness;\n\n      } else if(dir === 'v') {\n        startX = lineStart;\n        startY = this.spacing * (i + 1);\n        endX = startX + this.thickness;\n        endY = startY - this.spacing;\n\n      } else {\n        alert('cirtical draw error: improper ')\n      }\n\n      ctx.lineWidth = this.lineWidth;\n      ctx.strokeStyle = this.returnColor();\n\n      ctx.beginPath();\n      ctx.moveTo(startX, startY);\n      ctx.lineTo(endX, endY);\n      ctx.stroke();\n      ctx.closePath();\n    }\n  }\n\n  this.drawLeftSlash = function(lineStart, side, ctx, dir) {\n\n    const iter = side / this.spacing;\n\n    for(let i = -5; i < iter + 5; i++) {\n      let startX;\n      let startY;\n      let endX;\n      let endY;\n\n      if(dir === 'h') {\n        startX = this.spacing * i;\n        startY = lineStart;\n        endX = startX + this.spacing;\n        endY = startY + this.thickness;\n\n      } else if(dir === 'v') {\n        startX = lineStart;\n        startY = this.spacing * i;\n        endX = startX + this.thickness;\n        endY = startY + this.spacing;\n\n      } else {\n        alert('cirtical draw error: improper dir');\n      }\n\n      ctx.lineWidth = this.lineWidth;\n      ctx.strokeStyle = this.returnColor();\n\n      ctx.beginPath();\n      ctx.moveTo(startX, startY);\n      ctx.lineTo(endX, endY);\n      ctx.stroke();\n      ctx.closePath();\n    }\n  }\n\n  this.drawHorizontalStripes = function(lineStart, side, ctx, dir) {\n    var iter;\n    var setBack;\n\n    if (dir === 'h') {\n       iter = Math.floor(this.thickness / this.spacing);\n       setBack = 0;\n    } else if (dir === 'v') {\n        iter = Math.floor(side / this.spacing) + 5\n        setBack = -5;\n    } else {\n      alert('critical draw error: improper dir');\n    }\n\n    for(let i = setBack; i < iter; i++) {\n      let startX;\n      let startY;\n      let endX;\n      let endY;\n\n      if(dir === 'h') {\n        startX = 0;\n        startY = lineStart  + (i * this.spacing);\n        endX = side;\n        endY = startY;\n\n      } else if(dir === 'v') {\n        startX = lineStart;\n        startY = this.spacing * i;\n        endX = startX + this.thickness;\n        endY = startY;\n\n      } else {\n        alert('cirtical draw error: improper dir');\n      }\n\n      ctx.lineWidth = this.lineWidth;\n      ctx.strokeStyle = this.returnColor();\n\n      ctx.beginPath();\n      ctx.moveTo(startX, startY);\n      ctx.lineTo(endX, endY);\n      ctx.stroke();\n      ctx.closePath();\n\n    }\n  }\n\n  this.drawVerticalStripes = function(lineStart, side, ctx, dir) {\n    var iter;\n    var setBack;\n\n    if (dir === 'v') {\n       iter = Math.floor(this.thickness / this.spacing);\n       setBack = 0;\n    } else if (dir === 'h') {\n        iter = Math.floor(side / this.spacing) + 5\n        setBack = -5\n    } else {\n      alert('cirtical draw error: improper dir');\n    }\n\n    for(let i = setBack; i < iter; i++) {\n      let startX;\n      let startY;\n      let endX;\n      let endY;\n\n      if(dir === 'v') {\n        startX = lineStart  + (i * this.spacing);\n        startY = 0;\n        endX = startX;\n        endY = side;\n\n      } else if(dir === 'h') {\n        startX = this.spacing * i;\n        startY = lineStart;\n        endX = startX;\n        endY = startY + this.thickness;\n\n      } else {\n        alert('cirtical draw error: improper dir');\n      }\n\n      ctx.lineWidth = this.lineWidth;\n      ctx.strokeStyle = this.returnColor();\n\n      ctx.beginPath();\n      ctx.moveTo(startX, startY);\n      ctx.lineTo(endX, endY);\n      ctx.stroke();\n      ctx.closePath();\n\n    }\n  }\n\n  this.drawChecker = function(lineStart, side, ctx, dir) {\n\n    var topLeft = true;\n    var breadth = Math.floor(side / this.spacing);\n    var depth = Math.floor(this.thickness / this.spacing);\n\n    console.log(breadth, depth)\n\n    for(let i = 0; i < breadth; i++) {\n      if(topLeft) {\n        for(let j = 0; j < depth; j += 2) {\n          if(dir === 'h') {\n            let x = (i * this.spacing);\n            let y = (j * this.spacing) + lineStart;\n            ctx.fillRect(x, y, this.spacing, this.spacing)\n          } else if(dir === 'v') {\n            let x = (j * this.spacing) + lineStart;\n            let y = (i * this.spacing);\n            ctx.fillRect(x,y,this.spacing, this.spacing)\n          }\n        }\n      } else {\n        for(let j = 1; j < depth; j += 2) {\n          if(dir === 'h') {\n            let x = (i * this.spacing);\n            let y = (j * this.spacing) + lineStart;\n            ctx.fillRect(x, y, this.spacing, this.spacing)\n          } else if(dir === 'v') {\n            let x = (j * this.spacing) + lineStart;\n            let y = (i * this.spacing);\n            ctx.fillRect(x,y,this.spacing, this.spacing)\n          }\n        }\n      }\n      topLeft = !topLeft;\n    }\n  }\n\n\n  this.drawSolid = this.drawSolid.bind(this);\n  this.drawRightSlash = this.drawRightSlash.bind(this);\n  this.drawLeftSlash = this.drawLeftSlash.bind(this);\n  this.drawHorizontalStripes = this.drawHorizontalStripes.bind(this);\n  this.drawVerticalStripes = this.drawVerticalStripes.bind(this);\n  this.drawChecker = this.drawChecker.bind(this);\n\n\n  this.drawPatterns = {\n    solid: this.drawSolid,\n    rightSlash: this.drawRightSlash,\n    leftSlash: this.drawLeftSlash,\n    horizontalStripes:  this.drawHorizontalStripes,\n    verticalStripes: this.drawVerticalStripes,\n    checker: this.drawChecker\n  }\n\n  this.draw = function(ctx, width, height) {\n\n    this.createGrid();\n\n    ctx.save();\n    ctx.fillStyle = this.returnColor();\n\n    this.drawLines = function (dir, side, ctx) {\n      //console.log('side: ' + side);\n      //console.log('divisor: ' + (this.regularity + 1));\n\n\n      const axis = this.grid[dir];\n\n      for(let i = 0; i < axis.length; i++) {\n\n          this.drawPatterns[this.pattern](axis[i], side, ctx, dir);\n      }\n    }\n\n    this.drawLines = this.drawLines.bind(this)\n\n    if(this.orientation === 'h' || this.orientation === 'b') {\n      this.drawLines('h', height, ctx);\n    }\n\n    if(this.orientation === 'v' || this.orientation === 'b') {\n      this.drawLines('v', width, ctx);\n    }\n\n    ctx.restore();\n  };\n  this.draw = this.draw.bind(this);\n}\n","import React from 'react';\nimport './buttonPanel.css';\n\nexport function ButtonPanel(props) {\n\n  function switchPanel(e) {\n    let diff = parseInt(e.target.value)\n\n    props.switchPanel(diff);\n  }\n\n\n  function underConstruction() {\n    alert('this feature is under production');\n  }\n\n  var toggleText;\n\n  if(props.pattern) {\n    toggleText = \"Line\";\n  } else {\n    toggleText = \"Pattern\";\n  }\n\n  return (\n    <div id='button-panel'>\n      <button\n        onClick={switchPanel}\n        value = {-1}\n        id='back'\n      >\n        {'<<'}\n      </button>\n      <button\n        onClick={props.handleAddLine}\n        id='add'\n      >\n        Add\n      </button>\n      <button\n        onClick={props.handleRemoveLine}\n        id='remove'\n      >\n        Remove\n      </button>\n      <button\n        onClick={props.handleCopyLine}\n        id='copy'\n      >\n        Copy\n      </button>\n      <button\n        onClick={props.togglePattern}\n        id='toggle'\n      >\n        {toggleText}\n      </button>\n      <button\n        onClick={props.handleDownload}\n        id='download'\n      >\n        Download\n      </button>\n      <button\n        onClick={underConstruction}\n        id='bind'\n      >\n        Bind\n      </button>\n      <button\n        onClick={switchPanel}\n        value = {1}\n        id='forward'\n      >\n        {'>>'}\n      </button>\n    </div>\n  )\n}\n","import React from 'react';\nimport './topBar.css';\n\nexport function TopBar(props) {\n  var display;\n\n  if(props.nav) {\n    display = (\n      <div id='nav-bar' class='col-12'>\n        <button\n          id='nav-bar-close'\n          class='close-button'\n          onClick={props.flip}\n        >\n          X\n        </button>\n        <div id='inner-nav'>\n          <a href='https://vkwebsite.herokuapp.com/'>Homepage</a>\n          <a href='https://vkplaid.herokuapp.com/' id='active'>Plaid Maker</a>\n          <a href='https://vkwebsite.herokuapp.com/ep_search'>Episode Picker</a>\n          <a class='hidden' id='placeholder'></a>\n        </div>\n      </div>\n    )\n  } else {\n    display = (\n      <div id='top-bar'>\n        <button\n          id='nav-bar-open'\n          onClick={props.flip}\n        >Nav Bar</button>\n        <a\n          href='https://github.com/kuertzva/Plaid-Generator'\n          id='github-link'\n        >Github</a>\n      </div>\n    )\n  }\n\n  return display;\n}\n\n// export default TopBar;\n","import React, {Component} from 'react';\nimport './download.css';\n\nexport class Download extends Component {\n  constructor(props) {\n    super(props)\n    this.togglePreview = this.togglePreview.bind(this);\n    this.downloadImage = this.downloadImage.bind(this);\n    this.changeFormat = this.changeFormat.bind(this);\n    this.changeFilename = this.changeFilename.bind(this);\n    this.state = {\n      preview: false,\n      format: 'png',\n      filename: 'plaid'\n    };\n  }\n\n  componentDidMount() {\n    const png = document.getElementById('png');\n    png.checked = true;\n  }\n\n\n  togglePreview() {\n    this.setState((state) => ({\n      preview: !(state.preview)\n    }));\n  }\n\n  downloadImage() {\n    //alert('download triggered');\n    const canvas = document.getElementById('canvas');\n    const urlInput = 'image/' + this.state.format\n    const image = canvas.toDataURL(urlInput);\n\n    //alert(urlInput);\n\n    const link = document.createElement('a');\n    const filename = this.state.filename + '.'+ this.state.format;\n    document.body.appendChild(link);\n    link.download = filename;\n    //alert(filename);\n    link.href = image;\n    link.click();\n    document.body.removeChild(link);\n\n  }\n\n  changeFormat(e) {\n    const target = e.target;\n    const value = target.value;\n\n    this.setState({\n      format: value\n    });\n  }\n\n  changeFilename(e) {\n    const forbidden = ['<','>',':','\"','/','\\\\','|','?','*'];\n    const newString = e.target.value;\n    const lastChar = newString[newString.length - 1];\n\n    if(forbidden.indexOf(lastChar) >= 0) {\n      alert('this is not an allowed character!')\n    } else {\n      this.setState((state) => ({\n        filename: newString\n      }));\n    }\n\n  }\n\n\n\n  render() {\n\n    const formats = [['png', true], ['jpeg', false], ['bmp', false], ['webp', false]]\n\n    const radioButtons = formats.map((format) =>\n\n      <label> {format[0].charAt(0).toUpperCase() + format[0].substring(1)}\n          <input type='radio' name='radioButtons' value={format[0]}\n          id={format[0]} onChange={(e) => this.changeFormat(e)}/>\n      </label>\n\n    )\n\n    var preview;\n\n    if(this.state.preview) {\n\n      const canvas = document.getElementById('canvas');\n      const bkgd = canvas.toDataURL('image/png');\n\n      preview = (\n        <div\n          id='preview'\n          style= {{\n            backgroundImage: 'url(' + bkgd + ')'\n          }}\n        >\n          <button\n            id='close-preview'\n            class='close-button'\n            onClick={this.togglePreview}\n          > X </button>\n        </div>\n      )\n\n    } else {\n      preview = false;\n    }\n\n\n  // checked={format[1]}\n    return (\n      <div class='overlay col-12 narrow-row'>\n        {preview}\n        <button\n          id='download-close'\n          class='close-button'\n          onClick={this.props.flip}\n        >\n          X\n        </button>\n        <div id='inner-download' class='feature-box pop-up no-shadow'>\n          <h1> Download </h1>\n          <label>File Name:\n            <input\n              id='file-name'\n              type='text'\n              value={this.state.filename}\n              onChange={(e) => this.changeFilename(e)}\n            />\n          </label>\n          <div id='format-options'>\n            {radioButtons}\n          </div>\n          <div id='download-buttons'>\n            <button\n              id='preview-button'\n              onClick={this.togglePreview}\n            >\n              Preview\n            </button>\n            <button\n              id='download-button'\n              onClick={this.downloadImage}\n            >\n              Download\n            </button>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\n//export default Download;\n","import React from 'react';\nimport './intro.css';\n\nfunction Intro(props) {\n  return (\n    <div id='outer-intro' class='overlay col-24 narrow-row'>\n      <div id='inner-intro' class='pop-up no-shadow'>\n        <div id='intro-text'>\n          <h1> Welcome! </h1>\n          <h2> This is my Plaid Maker</h2>\n          <p>\n            Please check it out and see what you can make. This is still a work\n            in progress. Features may still be a little buggy and more features are\n            on the way.\n          </p>\n          <p>\n            You can navigate away from this page using the link at the top left.\n          </p>\n          <h2> How this works</h2>\n          <p>\n            This project consists of a base object and a series of line objects\n            which are drawn on a canvas html element. The base is the background\n            you draw the lines against. We'll start there.\n          </p>\n          <h3>Base</h3>\n          <p>\n            For now, this is pretty simple. All the base has is a color, which\n            is defined by its hue, saturation and lightness. Now lets get to lines.\n          </p>\n          <h3>Lines</h3>\n          <p>\n            Lines also have a color, but this also has an opacity that give the\n            line the possibility of being transparent. Lines can go up, down or\n            both and I refer to this as the lines orientation. A line will repeat\n            a number of times on each relevant axis and this is called the lines\n            regularity. The lines can be moved along there axis using the offset.\n            Clicking a draging a line can be used to chang eoffset, though I'm\n            still working on making this consistent.\n          </p>\n          <p>\n            Lines can be changed to display as a number of patterns that can be\n            modified when relevant. This is accessed by clicking the pattern\n            button. You can switch lines with the buttons on the edges of the\n            patterns or by clicking them in the canvas (again, not completely\n            smooth.\n          </p>\n          <p>\n            Lines can be added, removed or copied. The bind button, when\n            implemented, will make 2 lines regularity and offset dependent on one\n            another to create more intricate patterns. The download button will\n            allow you to download your pattern as an image.\n          </p>\n          <p>\n            Have fun!\n          </p>\n        </div>\n        <div id='intro-button-container'>\n          <button onClick={props.handleClick}>\n            Plaid Time!\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Intro;\n","import React from 'react';\nimport { Canvas } from './canvas.js';\nimport { TopPanel } from './topPanel.js';\nimport { line, base } from './objects.js';\nimport { ButtonPanel } from './buttonPanel.js';\nimport { TopBar } from './topBar.js';\nimport { Download } from './download.js';\nimport Intro from './intro.js';\nimport './App.css';\n\n\nconst root = document.getElementById('root');\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleAddLine = this.handleAddLine.bind(this);\n    this.handleColorChange = this.handleColorChange.bind(this);\n    this.handleLineChange = this.handleLineChange.bind(this);\n    this.switchLine = this.switchLine.bind(this);\n    this.patternToggle = this.patternToggle.bind(this);\n    this.setSide = this.setSide.bind(this);\n    this.handleRemoveLine = this.handleRemoveLine.bind(this);\n    this.handleCopyLine = this.handleCopyLine.bind(this);\n    this.downloadToggle = this.downloadToggle.bind(this);\n    this.navToggle = this.navToggle.bind(this);\n    const rootStyle = getComputedStyle(root);\n    this.state = {\n      intro: true,\n      nav: false,\n      download: false,\n      panels: [new base()],\n      currentPanel: 0,\n      handlers: {\n        'addLine' : this.handleAddLine,\n        'colorChange': this.handleColorChange,\n        'lineChange' : this.handleLineChange,\n        'switchLine' : this.switchLine\n      },\n      width: parseInt(rootStyle.width),\n      height: parseInt(rootStyle.height),\n      side: null\n    };\n  }\n\n  updateStyles() {\n\n    const canvas = document.getElementById('canvas');\n    const bkgd = canvas.toDataURL('image/png');\n\n    document.body.style.backgroundImage = 'url(' + bkgd + ')';\n    document.body.style.backgroundColor = this.state.panels[0].returnColor();\n\n    //root.style.background = this.state.panels[0].returnColor();\n\n    const borderChanges = document.querySelectorAll('.border-change');\n\n    let lineColor = this.state.panels[this.state.currentPanel].returnColor();\n\n    let border;\n    for(border of borderChanges) {\n      border.style.borderColor = lineColor;\n    }\n  }\n\n  componentDidMount() {\n    const canvasStyle = getComputedStyle(document.getElementById('canvas'));\n    this.setState({\n      canvasWidth: parseInt(canvasStyle.width),\n      canvasHeight: parseInt(canvasStyle.height)\n    })\n    console.log('AppDidMount')\n    console.log(this.state.canvasWidth, this.state.canvasHeight);\n\n    // styling changes\n    this.updateStyles();\n\n  }\n\n  componentDidUpdate() {\n    this.updateStyles();\n  }\n\n  setSide(side) {\n    this.setState({\n      side: side\n    })\n  }\n\n  switchLine(diff) {\n    console.log(diff);\n    let currentPanel = this.state.currentPanel + diff;\n\n    if(0 <= currentPanel && currentPanel < this.state.panels.length){\n      this.setState({\n        currentPanel: currentPanel\n      });\n    }\n  }\n\n  handleAddLine() {\n    console.log('add line');\n    const newPanels = this.state.panels;\n\n    newPanels.push(new line(this.state.side, this.state.side));\n\n    this.setState({\n      panels: newPanels,\n      currentPanel: newPanels.length - 1\n    });\n  }\n\n  handleRemoveLine() {\n    console.log('remove line');\n\n    if(this.state.currentPanel > 0) {\n      const newPanels = this.state.panels;\n      newPanels.splice(this.state.currentPanel, 1);\n      var newCurrent = this.state.currentPanel - 1;\n      this.setState({\n        panels: newPanels,\n        currentPanel: newCurrent\n      });\n    } else {\n      alert('Cannot delete the background');\n    }\n  }\n\n  handleCopyLine() {\n    console.log('copy line');\n\n    if(this.state.currentPanel > 0) {\n      const newPanels = this.state.panels;\n      const currentLine = this.state.panels[this.state.currentPanel];\n      const copyLine = new line(this.state.side, this.state.side)\n\n      const copyStrings = [['color','hue','sat','light','opacity'], 'height', 'width', 'thickness',\n    'regularity', 'orientation', 'pattern', 'spacing', ['offset', 'x', 'y'], 'grid',\n    'lineWidth'];\n\n      var attr;\n      for(attr of copyStrings) {\n        if(Array.isArray(attr)){\n          var i;\n          for(i = 1; i < attr.length; i++) {\n            copyLine[attr[0]][attr[i]] = currentLine[attr[0]][attr[i]];\n          }\n        } else {\n          copyLine[attr] = currentLine[attr];\n        }\n      }\n\n\n      newPanels.push(copyLine);\n      this.setState({\n        panels: newPanels,\n        currentPanel: newPanels.length - 1\n      });\n    }\n  }\n\n  patternToggle() {\n    var change = !(this.state.displayPattern);\n    console.log(change);\n    this.setState({\n      displayPattern: change\n    });\n    console.log(this.state.displayPattern);\n  }\n\n  handleDownload(e) {\n    const target = e.target;\n    const canvas = document.getElementById('canvas');\n    const image = canvas.toDataURL('image/jpeg');\n\n    target.href = image;\n  }\n\n  handleColorChange(e) {\n    const target = e.target;\n    const aspect = target.getAttribute('data-aspect');\n    const input = target.value;\n    var key;\n    var value;\n    var color;\n\n\n    key = 'panels';\n    value = this.state.panels;\n    color = value[this.state.currentPanel].color;\n\n\n    //alert(input, this.state.base.color.hue)\n    color[aspect] = input;\n\n    this.setState({\n      [key]: value\n    });\n  }\n\n  handleLineChange(v, a) {\n\n    const value = v\n    const aspect = a\n    const lines = this.state.panels;\n    const line = lines[this.state.currentPanel];\n\n    if(aspect === 'regularity' || aspect === 'thickness'){\n      if (isNaN(value) || value < 1) {\n        line[aspect] = 1;\n      } else {\n        line[aspect] = value;\n      }\n    } else if (aspect.slice(0,6) === 'offset'){\n      line[aspect.slice(0,6)][aspect.slice(7)] = value\n    } else {\n      line[aspect] = value;\n    }\n\n    this.setState({\n      panels: lines\n    });\n  }\n\n  introToggle() {\n    this.setState((state) => ({\n      intro: !(state.intro)\n    }));\n  }\n\n  navToggle() {\n    this.setState((state) => ({\n      nav: !(state.nav)\n    }));\n  }\n\n  downloadToggle() {\n    this.setState((state) => ({\n      download: !(state.download)\n    }));\n  }\n\n  render() {\n    const canvasHeight = 300;\n    var overlay;\n    if(this.state.intro){\n      overlay = <Intro handleClick={() => this.introToggle()}/>\n    } else if(this.state.download){\n      overlay = (\n        <Download\n          flip={this.downloadToggle}\n        />\n      )\n\n    } else {\n      overlay = false;\n    }\n\n    return (\n      <div id='frame' class='col-12 thick-row'>\n        {overlay}\n        <TopBar\n          nav={this.state.nav}\n          flip={this.navToggle}\n        />\n        <div id='app'>\n          <Canvas\n            panels={this.state.panels}\n            currentPanel={this.state.currentPanel}\n            handleClick={this.switchLine}\n            setSide={(s) => this.setSide(s)}\n          />\n          <ButtonPanel\n            switchPanel={(d) => this.switchLine(d)}\n            handleAddLine={() => this.handleAddLine()}\n            handleRemoveLine={() => this.handleRemoveLine()}\n            handleCopyLine={() => this.handleCopyLine()}\n            handleDownload={() => this.downloadToggle()}\n            pattern={this.state.displayPattern}\n            togglePattern={this.patternToggle}\n            width={this.props.width}\n          />\n          <TopPanel\n            width={this.state.width}\n            height={this.state.height}\n            panel={this.state.panels[this.state.currentPanel]}\n            currentPanel={this.state.currentPanel}\n            handlers={this.state.handlers}\n            displayPattern={this.state.displayPattern}\n          />\n\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default App;\n\n/*\n\n*/\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}